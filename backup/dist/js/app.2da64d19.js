(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03d2":function(e,t,a){},"0407":function(e,t,a){"use strict";var r=a("abe6"),i=a.n(r);i.a},"0af4":function(e,t,a){"use strict";var r=a("3345"),i=a.n(r);i.a},"0e40":function(e,t,a){"use strict";var r=a("6033"),i=a.n(r);i.a},1:function(e,t){},"1ff8":function(e,t,a){"use strict";var r=a("f0e2"),i=a.n(r);i.a},"25fd":function(e,t,a){"use strict";var r=a("29ce"),i=a.n(r);i.a},"29ce":function(e,t,a){},"2a70":function(e,t,a){},"2c32":function(e,t,a){},"2f8b":function(e,t,a){"use strict";var r=a("03d2"),i=a.n(r);i.a},3345:function(e,t,a){},"3dfb":function(e,t,a){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=n,e.exports=i,i.id="4678"},"4f5f":function(e,t,a){},"4ff0":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{background:"#E9F0F6"}},[e.isLoggedIn?a("Navbar"):e._e(),e.isLoggedIn?a("Toolbar"):e._e(),a("v-content",[a("router-view")],1),e.isLoggedIn?a("Footer"):e._e(),a("Snackbar")],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-navigation-drawer",{staticStyle:{background:"#E9F0F6"},attrs:{value:e.drawer,app:"",clipped:""}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[e._v(" "+e._s(e.currentUser.first_name)+" "+e._s(e.currentUser.last_name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.currentUser.employment&&e.currentUser.employment.position?e.currentUser.employment.position.name:"None")+" ")])],1)],1),a("v-divider"),e._l(e.permissions,(function(t,r){return a("span",{key:r},[a("v-list-group",{attrs:{"append-icon":t.subLinks?"keyboard_arrow_down":"","prepend-icon":t.icon},on:{click:function(a){return e.toRoute(t.route)}},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",{domProps:{textContent:e._s(t.text)}})]},proxy:!0}],null,!0)},[e._l(t.subLinks,(function(t,r){return a("span",{key:r,attrs:{to:t.route}},[t.links?e._e():a("v-list-item",[a("v-list-item-action"),a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}}),a("v-list-item-action",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)],1)})),e._l(t.subLinks,(function(t,r){return a("span",{key:r},[t.links?a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}})],1)]},proxy:!0}],null,!0)},e._l(t.links,(function(t,r){return a("v-list-item",{key:r,attrs:{router:"",to:t.route,link:""}},[a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}}),a("v-list-item-action",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)})),1):e._e()],1)}))],2)],1)}))],2)],1)],1)},s=[],c=a("5530"),l=a("2f62"),d={data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermissions"})),{},{drawer:function(){return this.$store.state.drawer},currentUser:function(){return this.$store.getters.currentUser},getCurrentRoutePath:function(){return this.$route.path}}),created:function(){this.$store.dispatch("userPermissions/fetchPermissions")},methods:{toRoute:function(e){e&&this.getCurrentRoutePath!=e&&this.$router.push(e)}}},u=d,m=a("2877"),v=a("6544"),p=a.n(v),h=a("ce7e"),f=a("132d"),_=a("8860"),g=a("56b0"),b=a("da13"),x=a("1800"),y=a("5d23"),k=a("f774"),T=Object(m["a"])(u,o,s,!1,null,null,null),S=T.exports;p()(T,{VDivider:h["a"],VIcon:f["a"],VList:_["a"],VListGroup:g["a"],VListItem:b["a"],VListItemAction:x["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VNavigationDrawer:k["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-app-bar",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)","border-radius":"10px"},attrs:{app:"",dark:"","clipped-left":""}},[e.isMobile?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.drawer(t)}}},[a("v-icon",[e._v(e._s(e.toggleDrawer?"mdi-menu":"mdi-menu-open"))])],1),e.isMobile?e._e():a("v-img",{staticStyle:{margin:"5px"},attrs:{src:"/addessa_logo.png","max-width":"40","max-height":"40"}}),e.isMobile?e._e():a("v-toolbar-title",[a("strong",[e._v(" Addessa Portal ")])]),e.isMobile?e._e():a("v-spacer"),e.isMobile?e._e():a("v-spacer"),e.isMobile?e._e():a("v-spacer"),a("v-select",{staticStyle:{"margin-top":"15px","margin-right":"15px",width:"10px"},attrs:{items:e.connections.databases,label:"Select Database","item-value":"id","item-text":"dbname",dense:"",loading:e.loadingStatus},on:{change:function(t){return e.change()}},model:{value:e.connections.connection,callback:function(t){e.$set(e.connections,"connection",t)},expression:"connections.connection"}}),a("v-tooltip-title",[e.isMobile?e._e():a("strong",{staticStyle:{"text-align":"center"}},[e._v("Addessa "+e._s(null==e.currentUser.branch?"":e.currentUser.branch.name))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:e.logout}},r),[a("v-icon",[e._v("logout")])],1)]}}])},[a("span",[e._v("Logout")])])],1)],1)},E=[],C={data:function(){return{isMobile:!1}},methods:{checkMobile:function(){this.isMobile=window.innerWidth<=768},change:function(){var e={id:this.connections.connection};this.$store.dispatch("updateDB",e)},drawer:function(){this.$store.state.drawer=!this.$store.state.drawer},logout:function(){this.$store.commit("logout"),this.$router.push("/login")},goDark:function(){this.$store.state.goDark=!this.$store.state.goDark}},created:function(){console.log(this.$store.getters.currentUser),this.$store.dispatch("fetchDatabase"),this.checkMobile(),window.addEventListener("resize",this.checkMobile)},destroyed:function(){window.removeEventListener("resize",this.checkMobile)},computed:{connections:function(){return this.$store.state.connections},currentUser:function(){return this.$store.getters.currentUser},loadingStatus:function(){return this.$store.state.loading},isDark:function(){return this.$store.state.goDark},toggleDrawer:function(){return this.$store.state.drawer}}},A=C,I=a("40dc"),w=a("8336"),R=a("adda"),O=a("b974"),P=a("2fa4"),V=a("2a7f"),N=a("3a2f"),$=Object(m["a"])(A,D,E,!1,null,null,null),U=$.exports;p()($,{VAppBar:I["a"],VBtn:w["a"],VIcon:f["a"],VImg:R["a"],VSelect:O["a"],VSpacer:P["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",[a("v-footer",{staticStyle:{"background-color":"#1b4475"},attrs:{app:""}},[a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-actions",{staticClass:"justify-center"},[e._v(" © "+e._s((new Date).getFullYear())+" — "),a("strong",[e._v(" Webportal + VueJS + SAP b1")])])],1)],1)],1)},L=[],M={data:function(){return{icons:["fab fa-facebook","fab fa-twitter","fab fa-google-plus","fab fa-linkedin","fab fa-instagram"]}}},B=M,F=a("b0af"),G=a("99d9"),j=a("553a"),H=Object(m["a"])(B,q,L,!1,null,null,null),Y=H.exports;p()(H,{VCard:F["a"],VCardActions:G["a"],VFooter:j["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{value:e.snackbar,bottom:"",timeout:e.snackbarTimeout}},[e._v(" "+e._s(e.snackbarText)+" "),a("v-btn",{attrs:{color:"accent",text:""},on:{click:e.closeSnackbar}},[e._v(" Close ")])],1)},K=[],W={computed:{snackbar:function(){return this.$store.state.snackbar},snackbarText:function(){return this.$store.state.snackbarText},snackbarTimeout:function(){return this.$store.state.snackbarTimeout}},methods:{closeSnackbar:function(){this.$store.state.snackbar=!1}}},Q=W,J=a("2db4"),X=Object(m["a"])(Q,z,K,!1,null,null,null),Z=X.exports;p()(X,{VBtn:w["a"],VSnackbar:J["a"]});var ee={components:{Navbar:S,Toolbar:U,Footer:Y,Snackbar:Z},data:function(){return{options:{mouseControls:!0,touchControls:!0,minHeight:800,minWidth:100,scale:1,scaleMobile:1}}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize();var e=this.$store.state.windowSize.width;e<769&&this.$store.commit("DRAWER_STATUS",!1)},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.$store.commit("WINDOW_SIZE")}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},goDark:function(){return this.$store.getters.goDark}}},te=ee,ae=a("7496"),re=a("a75b"),ie=Object(m["a"])(te,i,n,!1,null,null,null),ne=ie.exports;p()(ie,{VApp:ae["a"],VContent:re["a"]});a("99af"),a("b0c0");var oe=a("8c4f"),se=a("323e"),ce=a.n(se),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)"},attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md5:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)"},attrs:{dark:""}},[a("v-img",{staticClass:"mr-2",attrs:{src:"/addessa_logo.png","max-width":"50","max-height":"50"}}),a("v-toolbar-title",[a("strong",[e._v("Webportal Pro V1")])])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{autofocus:"","prepend-icon":"person",label:"Username",type:"text"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate(t)}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",type:"password"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loadingStatus},on:{click:e.authenticate}},[e._v("Login")])],1)],1)],1)],1)],1)},de=[],ue=(a("d3b7"),a("bc3a")),me=a.n(ue);a("c975"),a("45fc");function ve(e,t){t.beforeEach((function(t,a,r){var i=t.matched.some((function(e){return e.meta.requiresAuth})),n=e.state.currentUser;i&&!n?r("/login"):"/login"==t.path&&n?r("/"):r()})),me.a.interceptors.response.use(null,(function(a){if("Network Error"==a.message){var r="Network Error",i=[{status:!0,message:r,timeout:3e3}];e.commit("SNACKBAR_STATUS",i,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}else if("Model have child records"==a.response.data.message){var n="Model have child records",o=[{status:!0,message:n,timeout:3e3}];e.commit("SNACKBAR_STATUS",o,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}if(401==a.response.status){var s="Session expired. Please re-login.",c=[{status:!0,message:s,timeout:12e3}];e.commit("SNACKBAR_STATUS",c,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("logout"),t.push("/login")}if(403==a.response.status&&t.push("/403"),418==a.response.status){var l="Forbidden",d=[{status:!0,message:l,timeout:3e3}];e.commit("SNACKBAR_STATUS",d,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}return"blob"===a.request.responseType&&a.response.data instanceof Blob&&a.response.data.type&&-1!=a.response.data.type.toLowerCase().indexOf("json")?new Promise((function(e,t){var r=new FileReader;r.onload=function(){a.response.data=JSON.parse(r.result),e(Promise.reject(a))},r.onerror=function(){t(a)},r.readAsText(a.response.data)})):Promise.reject(a)})),e.getters.currentUser&&pe(e.getters.currentUser.token)}function pe(e){me.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)}var he=window.location.hostname,fe=window.location.port,_e="https://".concat(he,":").concat(fe),ge={backend:"https://portalv1-backend.addessa.com:2031",frontend:_e};function be(e){return new Promise((function(t,a){me.a.post("".concat(ge.backend,"/api/auth/login"),e).then((function(e){pe(e.data.access_token),t(e.data)})).catch((function(e){console.log(e),a("Wrong email or password")}))}))}function xe(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}var ye={name:"login",data:function(){return{form:{email:"",password:""}}},methods:{authenticate:function(){var e=this;this.$store.dispatch("login"),be(this.$data.form).then((function(t){e.$store.commit("loginSuccess",t),e.$router.push({path:"/"})})).catch((function(t){var a=t,r=[{status:!0,message:a,timeout:3e3}];e.$store.commit("SNACKBAR_STATUS",r,{root:!0})}))}},computed:{loadingStatus:function(){return this.$store.state.loading}},created:function(){this.$store.commit("LOADING_STATUS",!1,{root:!0})}},ke=ye,Te=a("a523"),Se=a("0e8f"),De=a("4bd4"),Ee=a("a722"),Ce=a("8654"),Ae=a("71d9"),Ie=Object(m["a"])(ke,le,de,!1,null,null,null),we=Ie.exports;p()(Ie,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VContainer:Te["a"],VFlex:Se["a"],VForm:De["a"],VImg:R["a"],VLayout:Ee["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"]});var Re=[{path:"/login",component:we,name:"login"}],Oe=Re,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[a("v-layout",{staticClass:"full-height",attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"full-height"},[a("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[a("p",{staticClass:"display-4 font-weight-black"},[e._v("403")]),a("p",{staticClass:"headline"},[e._v("Forbidden")])])],1)])],1)],1)},Ve=[],Ne=(a("0407"),{}),$e=Object(m["a"])(Ne,Pe,Ve,!1,null,"5c499973",null),Ue=$e.exports;p()($e,{VContainer:Te["a"],VFlex:Se["a"],VLayout:Ee["a"]});var qe=[{path:"/403",component:Ue,name:"unauthorize"}],Le=qe,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[e._v("New Modules")]),a("p")]),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{to:"/sapb1/grpo/po","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("SERIAL MANAGER ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("SAP GRPO")])],1),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{to:"/sapb1/barcode/printing","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("BARCODE PRINT ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("SAP BARCODE")])],1),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{to:"/sapb1/itmmasterdata/create","animation-type":"scale",disabled:!0},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("ITEM MASTER DATA ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("ITEM MASTER")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[e._v("Inventory Transactions")]),a("p")]),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{disabled:!0,to:"/sapb1/invt/transactions/goodsreceipt","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("GOODS RECEIPT ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("GOODS RECEIPT")])],1),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{disabled:!0,to:"/sapb1/invt/transactions/goodsissue","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("GOODS ISSUE ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("GOODS ISSUE")])],1),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{disabled:!0,to:"/sapb1/invt/transactions/inventorytransfer","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("INVENTORY TRANSFER ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("INVENTORY TRANSFER")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[e._v("Business Partner")]),a("p")]),a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{disabled:!0,to:"/sapb1/businesspartner","animation-type":"scale"},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("Business Partners ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("Customers/Vendor")])],1)],1)],1)],1)},Be=[],Fe={mounted:function(){console.log("Home mounted.")}},Ge=Fe,je=Object(m["a"])(Ge,Me,Be,!1,null,null,null),He=je.exports;p()(je,{VContainer:Te["a"],VFlex:Se["a"],VImg:R["a"],VLayout:Ee["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"single-expand":"","show-expand":"","show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Users")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteUsers}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.users}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.firstNameErrors,label:"First Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.first_name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}}),a("v-text-field",{attrs:{"error-messages":e.lastNameErrors,label:"Last Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.last_name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"Email",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.email.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}}),a("v-text-field",{attrs:{"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Password",type:e.showPass?"text":"password",required:"",disabled:e.loadingStatus},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.editedUser.password,callback:function(t){e.$set(e.editedUser,"password",t)},expression:"editedUser.password"}}),a("v-autocomplete",{attrs:{"search-input":e.editedUser.branch,"error-messages":e.branchErrors,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch",filled:""},model:{value:e.editedUser.branch,callback:function(t){e.$set(e.editedUser,"branch",t)},expression:"editedUser.branch"}}),a("v-autocomplete",{attrs:{required:"",items:e.roles,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Roles",filled:""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,i=t.index;return[0===i?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(r.name))])]):e._e(),1===i?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedUser.roles.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedUser.roles,callback:function(t){e.$set(e.editedUser,"roles",t)},expression:"editedUser.roles"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(r.first_name.toUpperCase())+" "+e._s(r.last_name.toUpperCase())+" ")]),a("v-list-item-title",[e._v("Branch")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.branch?r.branch.name:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.users.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:"alexela8882@gmail.com"==t.email,disabled:"alexela8882@gmail.com"==t.email},on:{input:function(e){return i(e)}}})]}},{key:"item.roles",fn:function(t){var r=t.item;return[r.roles.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popRole(r)}}},[e._l(r.roles,(function(t,r){return a("span",{key:t.id},[0===r?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),r.roles.length-1>0?a("span",[e._v(" (+"+e._s(r.roles.length-1)+" other"+e._s(r.roles.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),r.roles.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editUser(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editUser(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("RolesDialog")],1)},ze=[],Ke=(a("4de4"),a("4160"),a("d81d"),a("159b"),a("1dce")),We=a("b5ae"),Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"",scrollable:"",value:e.dialog,"max-width":"500"}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(" "+e._s(e.userItem.first_name)+" "+e._s(e.userItem.last_name)+" ")]),a("span",{staticClass:"grey--text"},[e._v("Roles")])])]),a("v-card-text",[a("v-expansion-panels",e._l(e.userItem.roles,(function(t,r){return a("v-expansion-panel",{key:r},[a("v-expansion-panel-header",[e._v(e._s(t.name))]),a("v-expansion-panel-content",[a("v-list",e._l(t.permissions,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1)],1)})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.userItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},Je=[],Xe={computed:Object(c["a"])({},Object(l["b"])({dialog:"user/openRoleDialog",userItem:"user/getUserItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("user/SET_USER_ITEM",t)}}},Ze=Xe,et=a("cc20"),tt=a("169a"),at=a("cd55"),rt=a("49e2"),it=a("c865"),nt=a("0393"),ot=Object(m["a"])(Ze,Qe,Je,!1,null,null,null),st=ot.exports;p()(ot,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VDialog:tt["a"],VExpansionPanel:at["a"],VExpansionPanelContent:rt["a"],VExpansionPanelHeader:it["a"],VExpansionPanels:nt["a"],VLayout:Ee["a"],VList:_["a"],VSpacer:P["a"]});var ct=a("f2d9"),lt={components:{RolesDialog:st,JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{expand:!1,showPass:!1,search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"full_name"},{text:"Email",align:"left",value:"email"},{text:"Roles",align:"left",value:"roles"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedUser:{first_name:"",last_name:"",email:"",password:"",branch:"",roles:[{id:"",name:""}]},defaultUser:{first_name:"",last_name:"",email:"",password:"",branch:"",roles:[]},itemsPerPage:5,current_items:0}},validations:{editedUser:{first_name:{required:We["required"]},last_name:{required:We["required"]},branch:{required:We["required"]},email:{required:We["required"],email:We["email"],isUnique:function(e){if(""===e)return!0;var t=this.users.filter((function(t){return t.email==e})).length;return!(t>0)}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({users:"user/getUsers",branches:"branch/getBranches",roles:"role/getRoles",userErrors:"user/getUserErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loggedUser:function(){return this.$store.state.currentUser},formTitle:function(){return-1===this.editedIndex?"New User":"Edit User"},firstNameErrors:function(){var e=[];if(!this.$v.editedUser.first_name.$dirty)return e;var t=null;return t=this.userErrors["first_name|required"]?this.userErrors["first_name|required"]:"The first name field is required.",!this.$v.editedUser.first_name.required&&e.push(t),e},lastNameErrors:function(){var e=[];if(!this.$v.editedUser.last_name.$dirty)return e;var t=null;return t=this.userErrors["last_name|required"]?this.userErrors["last_name|required"]:"The last name field is required.",!this.$v.editedUser.last_name.required&&e.push(t),e},emailErrors:function(){var e=[];if(!this.$v.editedUser.email.$dirty)return e;var t=null;t=this.userErrors["email|required"]?this.userErrors["email|required"]:"The email field is required.";var a=null;return a=this.userErrors["email|unique"]?this.userErrors["email|unique"]:"The email has already been taken.",!this.$v.editedUser.email.email&&e.push("Must be valid e-mail"),!this.$v.editedUser.email.required&&e.push(t),!this.$v.editedUser.email.isUnique&&e.push(a),e},branchErrors:function(){var e=[];if(!this.$v.editedUser.branch.$dirty)return e;var t=null;return t=this.userErrors["branch|required"]?this.userErrors["branch|required"]:"Please select branch.",!this.$v.editedUser.branch.required&&e.push(t),e}}),watch:{users:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("user/fetchUsers"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("role/fetchRoles")},methods:{refreshData:function(){this.$store.dispatch("user/fetchUsers"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("role/fetchRoles")},openDialog:function(){this.editedIndex=-1,this.editedUser=Object.assign({},this.defaultUser),this.$store.dispatch("triggerDialog",!0)},editUser:function(e,t){this.editedIndex=2==t?-1:this.users.indexOf(e);var a=e.roles.map((function(e){return e.id}));this.editedUser=Object.assign({},{id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,branch:e.branch.id,roles:a}),this.$store.dispatch("triggerDialog",!0)},deleteUsers:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.first_name+" "+e.last_name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("user/deleteUsers",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("user/updateUser",this.editedUser):this.$store.dispatch("user/storeUser",this.editedUser)},popRole:function(e){var t={dialog:!0,item:e};this.$store.commit("user/SET_USER_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){"alexela8882@gmail.com"!=e.email&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},dt=lt,ut=a("c6a6"),mt=a("62ad"),vt=a("8fea"),pt=a("0fd9"),ht=a("9e88"),ft=Object(m["a"])(dt,Ye,ze,!1,null,null,null),_t=ft.exports;p()(ft,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.employments,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("User Employments")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.employments}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{label:"Employee",disabled:""},model:{value:e.editedEmployment.user,callback:function(t){e.$set(e.editedEmployment,"user",t)},expression:"editedEmployment.user"}}),a("v-text-field",{attrs:{"error-messages":e.sssErrors,label:"SSS",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedEmployment.sss.$touch()}},model:{value:e.editedEmployment.sss,callback:function(t){e.$set(e.editedEmployment,"sss",t)},expression:"editedEmployment.sss"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.branch,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch",filled:""},model:{value:e.editedEmployment.branch,callback:function(t){e.$set(e.editedEmployment,"branch",t)},expression:"editedEmployment.branch"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.position,"error-messages":e.positionErrors,items:e.positions,"item-text":"name","item-value":"id",label:"Select Position",filled:""},model:{value:e.editedEmployment.position,callback:function(t){e.$set(e.editedEmployment,"position",t)},expression:"editedEmployment.position"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.department,"error-messages":e.departmentErrors,items:e.departments,"item-text":"name","item-value":"id",label:"Select Department",filled:""},model:{value:e.editedEmployment.department,callback:function(t){e.$set(e.editedEmployment,"department",t)},expression:"editedEmployment.department"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.payroll,"error-messages":e.payrollErrors,items:e.payrollOptions,"item-text":"name","item-value":"id",label:"Payroll",filled:""},model:{value:e.editedEmployment.payroll,callback:function(t){e.$set(e.editedEmployment,"payroll",t)},expression:"editedEmployment.payroll"}}),1===e.editedEmployment.branch?a("v-dialog",{ref:"timeFromDialog",attrs:{"return-value":e.editedEmployment.time_from,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedEmployment,"time_from",t)},"update:return-value":function(t){return e.$set(e.editedEmployment,"time_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedEmployment.time_from,callback:function(t){e.$set(e.editedEmployment,"time_from",t)},expression:"editedEmployment.time_from"}},r))]}}],null,!1,762873159),model:{value:e.timeFromModal,callback:function(t){e.timeFromModal=t},expression:"timeFromModal"}},[e.timeFromModal?a("v-time-picker",{attrs:{"header-color":"primary",color:"primary"},model:{value:e.editedEmployment.time_from,callback:function(t){e.$set(e.editedEmployment,"time_from",t)},expression:"editedEmployment.time_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeFromDialog.save(e.editedEmployment.time_from)}}},[e._v("OK")])],1):e._e()],1):e._e(),1===e.editedEmployment.branch?a("v-dialog",{ref:"timeToDialog",attrs:{"return-value":e.editedEmployment.time_to,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedEmployment,"time_to",t)},"update:return-value":function(t){return e.$set(e.editedEmployment,"time_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedEmployment.time_from,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedEmployment.time_to,callback:function(t){e.$set(e.editedEmployment,"time_to",t)},expression:"editedEmployment.time_to"}},r))]}}],null,!1,167216927),model:{value:e.timeToModal,callback:function(t){e.timeToModal=t},expression:"timeToModal"}},[e.timeToModal?a("v-time-picker",{attrs:{"header-color":"primary",color:"primary",min:e.editedEmployment.time_from},model:{value:e.editedEmployment.time_to,callback:function(t){e.$set(e.editedEmployment,"time_to",t)},expression:"editedEmployment.time_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeToDialog.save(e.editedEmployment.time_to)}}},[e._v("OK")])],1):e._e()],1):e._e()],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(r.user.full_name.toUpperCase()))]),a("v-list-item-title",[e._v("Payroll")]),a("v-list-item-subtitle",[e._v(" "+e._s(null!=r.payroll?1==r.payroll?"ATM":"Cash":"None")+" ")]),a("v-list-item-title",[e._v("Department")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.department?r.department.name:"None")+" ")]),a("v-list-item-title",[e._v("Position")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.position?r.position.name:"None")+" ")]),a("v-list-item-title",[e._v("Schedule")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.schedule?r.schedule.name:"None")+" ")])],1)],1)],1)]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editEmployment(r)}}},[e._v(" mdi-pencil ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},bt=[],xt={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{itemsPerPage:5,timeFromModal:!1,timeToModal:!1,payrollOptions:[{name:"Cash",id:0},{name:"ATM",id:1}],expand:!1,search:"",selected:[],headers:[{text:"SSS",align:"left",value:"sss"},{text:"Name",align:"left",value:"user.full_name"},{text:"Branch",align:"left",value:"branch.name"},{text:"Position",align:"left",value:"position.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedEmployment:{sss:"",payroll:"",branch:"",position:"",department:"",time_from:"",time_to:""}}},validations:{editedEmployment:{sss:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.employments.filter((function(t){return t.sss==e})).length;return!(t>0)}},payroll:{required:We["required"]},branch:{required:We["required"]},position:{required:We["required"]},department:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({employments:"employment/getEmployments",employmentErrors:"employment/getEmploymentErrors",branches:"branch/getBranches",positions:"position/getPositions",departments:"department/getDepartments"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return"Edit User Employment"},sssErrors:function(){var e=[];if(!this.$v.editedEmployment.sss.$dirty)return e;var t=null;t=this.employmentErrors["sss|required"]?this.employmentErrors["sss|required"]:"The first name field is required.";var a=null;return a=this.employmentErrors["sss|unique"]?this.employmentErrors["sss|unique"]:"The sss has already been taken.",!this.$v.editedEmployment.sss.required&&e.push(t),!this.$v.editedEmployment.sss.isUnique&&e.push(a),e},payrollErrors:function(){var e=[];if(!this.$v.editedEmployment.payroll.$dirty)return e;var t=null;return t=this.employmentErrors["payroll|required"]?this.employmentErrors["payroll|required"]:"Please select payroll.",!this.$v.editedEmployment.payroll.required&&e.push(t),e},positionErrors:function(){var e=[];if(!this.$v.editedEmployment.position.$dirty)return e;var t=null;return t=this.employmentErrors["position|required"]?this.employmentErrors["position|required"]:"Please select position.",!this.$v.editedEmployment.position.required&&e.push(t),e},departmentErrors:function(){var e=[];if(!this.$v.editedEmployment.department.$dirty)return e;var t=null;return t=this.employmentErrors["department|required"]?this.employmentErrors["department|required"]:"Please select department.",!this.$v.editedEmployment.department.required&&e.push(t),e}}),watch:{employments:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("employment/fetchEmployments"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("position/fetchPositions"),this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("employment/fetchEmployments"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("position/fetchPositions"),this.$store.dispatch("department/fetchDepartments")},editEmployment:function(e){this.editedEmployment=Object.assign({},{id:e.id,user:e.user.full_name,sss:e.sss,payroll:e.payroll,branch:e.branch.id,position:e.position?e.position.id:null,department:e.department?e.department.id:null,time_from:e.time_from,time_to:e.time_to}),console.log(this.editedEmployment),this.$store.dispatch("triggerDialog",!0)},close:function(){this.$v.$reset(),this.editedEmployment={},this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.$store.dispatch("employment/updateEmployment",this.editedEmployment)}}},yt=xt,kt=a("c964"),Tt=Object(m["a"])(yt,gt,bt,!1,null,null,null),St=Tt.exports;p()(Tt,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VForm:De["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VTimePicker:kt["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.branches,search:e.search,loading:e.loadingStatus,"items-per-page":e.itemsPerPage,"show-select":"","show-expand":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Branches")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteBranches}},r),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.branches}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px",scrollable:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{autofocus:"","error-messages":e.machineNumErrors,label:"Machine Number",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.machine_number.$touch()}},model:{value:e.editedBranch.machine_number,callback:function(t){e.$set(e.editedBranch,"machine_number",t)},expression:"editedBranch.machine_number"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.name.$touch()}},model:{value:e.editedBranch.name,callback:function(t){e.$set(e.editedBranch,"name",t)},expression:"editedBranch.name"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":e.editedBranch.schedule,required:"",items:e.schedules,"item-text":"time","item-value":"id",label:"Select Schedule",filled:""},model:{value:e.editedBranch.schedule,callback:function(t){e.$set(e.editedBranch,"schedule",t)},expression:"editedBranch.schedule"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{"search-input":e.editedBranch.region,"error-messages":e.regionErrors,required:"",items:e.regions,"item-text":"name","item-value":"id",label:"Select Region",filled:""},on:{input:function(t){return e.$v.editedBranch.region.$touch()}},model:{value:e.editedBranch.region,callback:function(t){e.$set(e.editedBranch,"region",t)},expression:"editedBranch.region"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{"error-messages":e.whsCodeErrors,label:"Whs Code",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.whscode.$touch()}},model:{value:e.editedBranch.whscode,callback:function(t){e.$set(e.editedBranch,"whscode",t)},expression:"editedBranch.whscode"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{label:"BM/OIC",required:"",disabled:e.loadingStatus},model:{value:e.editedBranch.bm_oic,callback:function(t){e.$set(e.editedBranch,"bm_oic",t)},expression:"editedBranch.bm_oic"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(r.name.toUpperCase()))]),a("v-list-item-title",[e._v("Schedule")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.schedule?r.schedule.time:"None")+" ")]),a("v-list-item-title",[e._v("Whs Code")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.whscode?r.whscode:"None")+" ")]),a("v-list-item-title",[e._v("BM/OIC")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.bm_oic?r.bm_oic:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.branches.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.users.length>0,disabled:t.users.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editBranch(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editBranch(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Et=[],Ct={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{expand:!1,search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Machine Number",align:"left",value:"machine_number"},{text:"Region",align:"left",value:"region.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedBranch:{name:"",machine_number:"",whscode:"",bm_oic:"",schedule:null,region:null},defaultBranch:{name:"",machine_number:"",whscode:"",bm_oic:"",schedule:null,region:null},itemsPerPage:5,current_items:0}},validations:{editedBranch:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.name==e})).length;return 1!==t}},region:{required:We["required"]},machine_number:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.machine_number==e})).length;return 1!==t}},whscode:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.whscode==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"branch/getBranches",branchErrors:"branch/getBranchErrors",regions:"region/getRegions",schedules:"bsched/getSchedules"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Branch":"Edit Branch"},nameErrors:function(){var e=[];if(!this.$v.editedBranch.name.$dirty)return e;var t=null;t=this.branchErrors["name|required"]?this.branchErrors["name|required"]:"The name field is required.";var a=null;return a=this.branchErrors["name|unique"]?this.branchErrors["name|unique"]:"The name already taken.",!this.$v.editedBranch.name.required&&e.push(t),!this.$v.editedBranch.name.isUnique&&e.push(a),e},regionErrors:function(){var e=[];if(!this.$v.editedBranch.region.$dirty)return e;var t=null;return t=this.branchErrors["region|required"]?this.branchErrors["region|required"]:"The region field is required.",!this.$v.editedBranch.region.required&&e.push(t),e},machineNumErrors:function(){var e=[];if(!this.$v.editedBranch.machine_number.$dirty)return e;var t=null;t=this.branchErrors["machine_number|required"]?this.branchErrors["machine_number|required"]:"The machine number field is required.";var a=null;return a=this.branchErrors["machine_number|unique"]?this.branchErrors["machine_number|unique"]:"The machine number has already been taken.",!this.$v.editedBranch.machine_number.required&&e.push(t),!this.$v.editedBranch.machine_number.isUnique&&e.push(a),e},whsCodeErrors:function(){var e=[];if(!this.$v.editedBranch.whscode.$dirty)return e;var t=null;t=this.branchErrors["whscode|required"]?this.branchErrors["whscode|required"]:"The whscode field is required.";var a=null;return a=this.branchErrors["whscode|unique"]?this.branchErrors["whscode|unique"]:"The whscode has already been taken.",!this.$v.editedBranch.whscode.required&&e.push(t),!this.$v.editedBranch.whscode.isUnique&&e.push(a),e}}),watch:{branches:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("region/fetchRegions"),this.$store.dispatch("bsched/fetchSchedules")},methods:{refreshData:function(){this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("region/fetchRegions"),this.$store.dispatch("bsched/fetchSchedules")},openDialog:function(){this.editedIndex=-1,this.editedBranch=Object.assign({},this.defaultBranch),this.$store.dispatch("triggerDialog",!0)},editBranch:function(e,t){this.editedIndex=2==t?-1:this.branches.indexOf(e),this.editedBranch=Object.assign({},{id:e.id,name:e.name,schedule:e.schedule?e.schedule.id:null,region:e.region.id,machine_number:e.machine_number,whscode:e.whscode,bm_oic:e.bm_oic}),this.$store.dispatch("triggerDialog",!0)},deleteBranches:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("branch/deleteBranches",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedBranch={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("branch/updateBranch",this.editedBranch):this.$store.dispatch("branch/storeBranch",this.editedBranch)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.users.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},At=Ct,It=Object(m["a"])(At,Dt,Et,!1,null,null,null),wt=It.exports;p()(It,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VFlex:Se["a"],VIcon:f["a"],VLayout:Ee["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.schedules,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Schedules")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteSchedules}},r),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.schedules}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeFromDialog",attrs:{"return-value":e.editedSchedule.time_from,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_from",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.timeFromErrors,label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},r))]}}]),model:{value:e.timeFromModal,callback:function(t){e.timeFromModal=t},expression:"timeFromModal"}},[e.timeFromModal?a("v-time-picker",{attrs:{"full-width":""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeFromDialog.save(e.editedSchedule.time_from)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeToDialog",attrs:{"return-value":e.editedSchedule.time_to,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_to",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedSchedule.time_from,"error-messages":e.timeToErrors,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},r))]}}]),model:{value:e.timeToModal,callback:function(t){e.timeToModal=t},expression:"timeToModal"}},[e.timeToModal?a("v-time-picker",{attrs:{"full-width":"",min:e.editedSchedule.time_from},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeToDialog.save(e.editedSchedule.time_to)}}},[e._v("OK")])],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.schedules.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.branches.length>0,disabled:t.branches.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.branches",fn:function(t){var r=t.item;return[r.branches.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popBranch(r)}}},[e._l(r.branches,(function(t,r){return a("span",{key:t.id},[0===r?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),r.branches.length-1>0?a("span",[e._v(" (+"+e._s(r.branches.length-1)+" other"+e._s(r.branches.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),r.branches.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editSchedule(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editSchedule(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Ot=[],Pt={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{timeFromModal:!1,timeToModal:!1,search:"",selected:[],headers:[{text:"Time",align:"left",value:"time"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedSchedule:{time_from:"",time_to:""},defaultSchedule:{time_from:"",time_to:""},itemsPerPage:5,current_items:0}},validations:{editedSchedule:{time_from:{required:We["required"]},time_to:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({schedules:"bsched/getSchedules",scheduleErrors:"bsched/getScheduleErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Schedule":"Edit Schedule"},timeFromErrors:function(){var e=[];if(!this.$v.editedSchedule.time_from.$dirty)return e;var t=null;return t=this.scheduleErrors["time_from|required"]?this.scheduleErrors["time_from|required"]:"The time from field is required.",!this.$v.editedSchedule.time_from.required&&e.push(t),e},timeToErrors:function(){var e=[];if(!this.$v.editedSchedule.time_to.$dirty)return e;var t=null;return t=this.scheduleErrors["time_to|required"]?this.scheduleErrors["time_to|required"]:"The time to field is required.",!this.$v.editedSchedule.time_to.required&&e.push(t),e}}),watch:{schedules:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("bsched/fetchSchedules")},methods:{refreshData:function(){this.$store.dispatch("bsched/fetchSchedules")},openDialog:function(){this.editedIndex=-1,this.editedSchedule=Object.assign({},this.defaultSchedule),this.$store.dispatch("triggerDialog",!0)},editSchedule:function(e,t){this.editedIndex=2==t?-1:this.schedules.indexOf(e),this.editedSchedule=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteSchedules:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t=e.time_from+" - "+e.time_to,a="<br />"+t;return a}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("bsched/deleteSchedules",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("bsched/updateSchedule",this.editedSchedule):this.$store.dispatch("bsched/storeSchedule",this.editedSchedule)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.branches.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Vt=Pt,Nt=Object(m["a"])(Vt,Rt,Ot,!1,null,null,null),$t=Nt.exports;p()(Nt,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VFlex:Se["a"],VIcon:f["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VTimePicker:kt["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.regions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Regions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteRegions}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.regions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedRegion.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedRegion.name,callback:function(t){e.$set(e.editedRegion,"name",t)},expression:"editedRegion.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.regions.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.branches.length>0,disabled:t.branches.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.branches",fn:function(t){var r=t.item;return[r.branches.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popBranch(r)}}},[e._l(r.branches,(function(t,r){return a("span",{key:t.id},[0===r?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),r.branches.length-1>0?a("span",[e._v(" (+"+e._s(r.branches.length-1)+" other"+e._s(r.branches.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),r.branches.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editRegion(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editRegion(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("BranchesDialog")],1)},qt=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.regionItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Branches")])])]),a("v-card-text",[a("v-list",e._l(e.regionItem.branches,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.regionItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},Mt=[],Bt={computed:Object(c["a"])({},Object(l["b"])({dialog:"region/getBranchDialog",regionItem:"region/getRegionItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("region/SET_REGION_ITEM",t)}}},Ft=Bt,Gt=Object(m["a"])(Ft,Lt,Mt,!1,null,null,null),jt=Gt.exports;p()(Gt,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VDialog:tt["a"],VLayout:Ee["a"],VList:_["a"],VSpacer:P["a"]});var Ht={components:{BranchesDialog:jt,JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,testData:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Branches",align:"left",value:"branches"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedRegion:{name:""},defaultRegion:{name:""},itemsPerPage:5,current_items:0}},validations:{editedRegion:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.regions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({regions:"region/getRegions",regionErrors:"region/getRegionErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Region":"Edit Region"},nameErrors:function(){var e=[];if(!this.$v.editedRegion.name.$dirty)return e;var t=null;t=this.regionErrors["name|required"]?this.regionErrors["name|required"]:"The name field is required.";var a=null;return a=this.regionErrors["name|unique"]?this.regionErrors["name|unique"]:"The name already taken.",!this.$v.editedRegion.name.required&&e.push(t),!this.$v.editedRegion.name.isUnique&&e.push(a),e}}),watch:{regions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("region/fetchRegions")},methods:{refreshData:function(){this.$store.dispatch("region/fetchRegions")},openDialog:function(){this.editedIndex=-1,this.editedRegion=Object.assign({},this.defaultRegion),this.$store.dispatch("triggerDialog",!0)},editRegion:function(e,t){this.editedIndex=2==t?-1:this.regions.indexOf(e),this.editedRegion=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteRegions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("region/deleteRegions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("region/updateRegion",this.editedRegion):this.$store.dispatch("region/storeRegion",this.editedRegion)},popBranch:function(e){var t={dialog:!0,item:e};this.$store.commit("region/SET_REGION_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.branches.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Yt=Ht,zt=Object(m["a"])(Yt,Ut,qt,!1,null,null,null),Kt=zt.exports;p()(zt,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.divisions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Divisions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteDivisions}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.divisions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedDivision.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedDivision.name,callback:function(t){e.$set(e.editedDivision,"name",t)},expression:"editedDivision.name"}}),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{items:e.departments,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Departments"},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,i=t.index;return[0===i?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(r.name))])]):e._e(),1===i?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedDivision.departments.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedDivision.departments,callback:function(t){e.$set(e.editedDivision,"departments",t)},expression:"editedDivision.departments"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.departments",fn:function(t){var r=t.item;return[r.departments.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popDept(r)}}},[e._l(r.departments,(function(t,r){return a("span",{key:t.id},[0===r?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),r.departments.length-1>0?a("span",[e._v(" (+"+e._s(r.departments.length-1)+" other"+e._s(r.departments.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),r.departments.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editDivision(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("DepartmentsDialog")],1)},Qt=[],Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.divisionItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Departments")])])]),a("v-card-text",[a("v-list",e._l(e.divisionItem.departments,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.divisionItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},Xt=[],Zt={computed:Object(c["a"])({},Object(l["b"])({dialog:"division/getDeptDialog",divisionItem:"division/getDivisionItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("division/SET_DIVISION_ITEM",t)}}},ea=Zt,ta=Object(m["a"])(ea,Jt,Xt,!1,null,null,null),aa=ta.exports;p()(ta,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VDialog:tt["a"],VLayout:Ee["a"],VList:_["a"],VSpacer:P["a"]});var ra={components:{DepartmentsDialog:aa,JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{itemsPerPage:5,search:"",selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Departments",align:"left",value:"departments"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedDivision:{name:"",departments:[]},defaultDivision:{name:"",departments:[]}}},validations:{editedDivision:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.divisions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({divisions:"division/getDivisions",divisionErrors:"division/getDivisionErrors",departments:"department/getDepartments"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Division":"Edit Division"},nameErrors:function(){var e=[];if(!this.$v.editedDivision.name.$dirty)return e;var t=null;t=this.divisionErrors["name|required"]?this.divisionErrors["name|required"]:"The name field is required.";var a=null;return a=this.divisionErrors["name|unique"]?this.divisionErrors["name|unique"]:"The name already taken.",!this.$v.editedDivision.name.required&&e.push(t),!this.$v.editedDivision.name.isUnique&&e.push(a),e}}),watch:{divisions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("division/fetchDivisions"),this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("division/fetchDivisions"),this.$store.dispatch("department/fetchDepartments")},openDialog:function(){this.editedIndex=-1,this.editedDivision=Object.assign({},this.defaultDivision),this.$store.dispatch("triggerDialog",!0)},editDivision:function(e){this.editedIndex=this.divisions.indexOf(e);var t=e.departments.map((function(e){return e.id}));this.editedDivision=Object.assign({},{id:e.id,name:e.name,departments:t}),this.$store.dispatch("triggerDialog",!0)},deleteDivisions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){return e.name}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("division/deleteDivisions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("division/updateDivision",this.editedDivision):this.$store.dispatch("division/storeDivision",this.editedDivision)},popDept:function(e){var t={dialog:!0,item:e};this.$store.commit("division/SET_DIVISION_ITEM",t)}}},ia=ra,na=Object(m["a"])(ia,Wt,Qt,!1,null,null,null),oa=na.exports;p()(na,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VFlex:Se["a"],VIcon:f["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.departments,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Departments")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteDepartments}},r),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.departments}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedDepartment.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedDepartment.name,callback:function(t){e.$set(e.editedDepartment,"name",t)},expression:"editedDepartment.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.departments.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.employees.length>0,disabled:t.employees.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editDepartment(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editDepartment(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ca=[],la={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{itemsPerPage:5,search:"",selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedDepartment:{name:""},defaultDepartment:{name:""}}},validations:{editedDepartment:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.departments.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({departments:"department/getDepartments",departmentErrors:"department/getDepartmentErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Department":"Edit Department"},nameErrors:function(){var e=[];if(!this.$v.editedDepartment.name.$dirty)return e;var t=null;t=this.departmentErrors["name|required"]?this.departmentErrors["name|required"]:"The name field is required.";var a=null;return a=this.departmentErrors["name|unique"]?this.departmentErrors["name|unique"]:"The name already taken.",!this.$v.editedDepartment.name.required&&e.push(t),!this.$v.editedDepartment.name.isUnique&&e.push(a),e}}),watch:{departments:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("department/fetchDepartments")},openDialog:function(){this.editedIndex=-1,this.editedDepartment=Object.assign({},this.defaultDepartment),this.$store.dispatch("triggerDialog",!0)},editDepartment:function(e,t){this.editedIndex=2==t?-1:this.departments.indexOf(e),this.editedDepartment=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteDepartments:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("department/deleteDepartments",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("department/updateDepartment",this.editedDepartment):this.$store.dispatch("department/storeDepartment",this.editedDepartment)},selectAllToggle:function(e){if(this.selected.length!=this.departments.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.employees.length>0&&t.selected.push(e)})),t.disabledCount=this.departments.length-this.selected.length}else this.selected=[]}}},da=la,ua=Object(m["a"])(da,sa,ca,!1,null,null,null),ma=ua.exports;p()(ua,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.positions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Positions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePositions}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.positions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPosition.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedPosition.name,callback:function(t){e.$set(e.editedPosition,"name",t)},expression:"editedPosition.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.positions.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.employees.length>0,disabled:t.employees.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPosition(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPosition(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},pa=[],ha={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPosition:{name:""},defaultPosition:{name:""},itemsPerPage:5,current_items:0}},validations:{editedPosition:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.positions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({positions:"position/getPositions",positionErrors:"position/getPositionErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Position":"Edit Position"},nameErrors:function(){var e=[];if(!this.$v.editedPosition.name.$dirty)return e;var t=null;t=this.positionErrors["name|required"]?this.positionErrors["name|required"]:"The name field is required.";var a=null;return a=this.positionErrors["name|unique"]?this.positionErrors["name|unique"]:"The name already taken.",!this.$v.editedPosition.name.required&&e.push(t),!this.$v.editedPosition.name.isUnique&&e.push(a),e}}),watch:{positions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("position/fetchPositions")},methods:{refreshData:function(){this.$store.dispatch("position/fetchPositions")},openDialog:function(){console.log(this.disabledCount+"/"+this.positions.length),this.editedIndex=-1,this.editedPosition=Object.assign({},this.defaultPosition),this.$store.dispatch("triggerDialog",!0)},editPosition:function(e,t){this.editedIndex=2==t?-1:this.positions.indexOf(e),this.editedPosition=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deletePositions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("position/deletePositions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("position/updatePosition",this.editedPosition):this.$store.dispatch("position/storePosition",this.editedPosition)},selectAllToggle:function(e){if(console.log(e),this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.employees.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},fa=ha,_a=Object(m["a"])(fa,va,pa,!1,null,null,null),ga=_a.exports;p()(_a,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.roles,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Roles")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteRoles}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.roles}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedRole.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedRole.name,callback:function(t){e.$set(e.editedRole,"name",t)},expression:"editedRole.name"}}),a("v-autocomplete",{attrs:{"error-messages":e.permErrors,required:"",items:e.perms,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Permissions"},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,i=t.index;return[0===i?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(r.name))])]):e._e(),1===i?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedRole.permissions.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedRole.permissions,callback:function(t){e.$set(e.editedRole,"permissions",t)},expression:"editedRole.permissions"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.roles.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:"Super Admin"==t.name||t.users.length>0,disabled:"Super Admin"==t.name||t.users.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.permissions",fn:function(t){var r=t.item;return[r.permissions.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popPerm(r)}}},[e._l(r.permissions,(function(t,r){return a("span",{key:t.id},[0===r?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),r.permissions.length-1>0?a("span",[e._v(" (+"+e._s(r.permissions.length-1)+" other"+e._s(r.permissions.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),r.permissions.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editRole(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editRole(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("PermissionsDialog")],1)},xa=[],ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{scrollable:"",width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.roleItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Permissions")])])]),a("v-card-text",[a("v-list",e._l(e.roleItem.permissions,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.roleItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},ka=[],Ta={computed:Object(c["a"])({},Object(l["b"])({dialog:"role/getPermDialog",roleItem:"role/getRoleItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("role/SET_ROLE_ITEM",t)}}},Sa=Ta,Da=Object(m["a"])(Sa,ya,ka,!1,null,null,null),Ea=Da.exports;p()(Da,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VDialog:tt["a"],VLayout:Ee["a"],VList:_["a"],VSpacer:P["a"]});var Ca={components:{PermissionsDialog:Ea,JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Permissions",align:"left",value:"permissions"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedRole:{name:"",permissions:null},defaultRole:{name:"",permissions:null},itemsPerPage:5,current_items:0}},validations:{editedRole:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.roles.filter((function(t){return t.name==e})).length;return 1!==t}},permissions:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({roles:"role/getRoles",perms:"perm/getPerms",roleErrors:"role/getRoleErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Role":"Edit Role"},nameErrors:function(){var e=[];if(!this.$v.editedRole.name.$dirty)return e;var t=null;t=this.roleErrors["name|required"]?this.roleErrors["name|required"]:"The name field is required.";var a=null;return a=this.roleErrors["name|unique"]?this.roleErrors["name|unique"]:"The name already taken.",!this.$v.editedRole.name.required&&e.push(t),!this.$v.editedRole.name.isUnique&&e.push(a),e},permErrors:function(){var e=[];if(!this.$v.editedRole.permissions.$dirty)return e;var t=null;return t=this.roleErrors["permissions|required"]?this.roleErrors["permissions|required"]:"The permission field is required.",!this.$v.editedRole.permissions.required&&e.push(t),e}}),watch:{roles:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("role/fetchRoles"),this.$store.dispatch("perm/fetchPerms")},methods:{refreshData:function(){this.$store.dispatch("role/fetchRoles"),this.$store.dispatch("perm/fetchPerms")},openDialog:function(){this.editedIndex=-1,this.editedRole=Object.assign({},this.defaultRole),this.$store.dispatch("triggerDialog",!0)},editRole:function(e,t){this.editedIndex=2==t?-1:this.roles.indexOf(e);var a=e.permissions.map((function(e){return e.id}));console.log(a),this.editedRole=Object.assign({},{id:e.id,name:e.name,permissions:a}),this.$store.dispatch("triggerDialog",!0)},deleteRoles:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("role/deleteRoles",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedRole={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("role/updateRole",this.editedRole):this.$store.dispatch("role/storeRole",this.editedRole)},popPerm:function(e){var t={dialog:!0,item:e};this.$store.commit("role/SET_ROLE_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.users.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Aa=Ca,Ia=Object(m["a"])(Aa,ba,xa,!1,null,null,null),wa=Ia.exports;p()(Ia,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.perms,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Permissions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePerms}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.perms}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPerm.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedPerm.name,callback:function(t){e.$set(e.editedPerm,"name",t)},expression:"editedPerm.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.perms.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.roles.length>0,disabled:t.roles.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPerm(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPerm(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Oa=[],Pa={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPerm:{name:""},defaultPerm:{name:""},itemsPerPage:5,current_items:0}},validations:{editedPerm:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.perms.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({perms:"perm/getPerms",permErrors:"perm/getPermErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Permission":"Edit Permission"},nameErrors:function(){var e=[];if(!this.$v.editedPerm.name.$dirty)return e;var t=null;t=this.permErrors["name|required"]?this.permErrors["name|required"]:"The name field is required.";var a=null;return a=this.permErrors["name|unique"]?this.permErrors["name|unique"]:"The name already taken.",!this.$v.editedPerm.name.required&&e.push(t),!this.$v.editedPerm.name.isUnique&&e.push(a),e}}),watch:{perms:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("perm/fetchPerms")},methods:{refreshData:function(){this.$store.dispatch("perm/fetchPerms")},openDialog:function(){this.editedIndex=-1,this.editedPerm=Object.assign({},this.defaultPerm),this.$store.dispatch("triggerDialog",!0)},editPerm:function(e,t){this.editedIndex=2==t?-1:this.perms.indexOf(e),this.editedPerm=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deletePerms:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("perm/deletePerms",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("perm/updatePerm",this.editedPerm):this.$store.dispatch("perm/storePerm",this.editedPerm)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.roles.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Va=Pa,Na=Object(m["a"])(Va,Ra,Oa,!1,null,null,null),$a=Na.exports;p()(Na,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Items")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteItems}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.items}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.modelErrors,label:"Model",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedItem.model.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedItem.model,callback:function(t){e.$set(e.editedItem,"model",t)},expression:"editedItem.model"}}),a("v-autocomplete",{attrs:{"search-input":e.editedItem.brand.toString(),"error-messages":e.brandErrors,items:e.brands,"item-text":"name","item-value":"id",label:"Select Brand",filled:""},model:{value:e.editedItem.brand,callback:function(t){e.$set(e.editedItem,"brand",t)},expression:"editedItem.brand"}}),a("v-autocomplete",{attrs:{"search-input":e.editedItem.category.toString(),"error-messages":e.categoryErrors,items:e.categories,"item-text":"name","item-value":"id",label:"Select Category",filled:""},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.items.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.computerwares>0,disabled:t.computerwares>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editItem(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editItem(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},qa=[],La={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Model",align:"left",value:"model"},{text:"Brand",align:"left",value:"brand"},{text:"Category",align:"left",value:"category"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedItem:{model:"",brand:"",category:""},defaultItem:{model:"",brand:"",category:""},itemsPerPage:5,current_items:0}},validations:{editedItem:{model:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.items.filter((function(t){return t.model==e})).length;return 1!==t}},brand:{required:We["required"]},category:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({items:"productItem/getItems",itemErrors:"productItem/getItemErrors",brands:"productBrand/getBrands",categories:"productCategory/getCategories"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Item":"Edit Product Item"},modelErrors:function(){var e=[];if(!this.$v.editedItem.model.$dirty)return e;var t=null;t=this.itemErrors["model|required"]?this.itemErrors["model|required"]:"The model field is required.";var a=null;return a=this.itemErrors["model|unique"]?this.itemErrors["model|unique"]:"The model already taken.",!this.$v.editedItem.model.required&&e.push(t),!this.$v.editedItem.model.isUnique&&e.push(a),e},brandErrors:function(){var e=[];if(!this.$v.editedItem.brand.$dirty)return e;var t=null;return t=this.itemErrors["brand|required"]?this.itemErrors["brand|required"]:"The brand field is required.",!this.$v.editedItem.brand.required&&e.push(t),e},categoryErrors:function(){var e=[];if(!this.$v.editedItem.category.$dirty)return e;var t=null;return t=this.itemErrors["category|required"]?this.itemErrors["category|required"]:"The category field is required.",!this.$v.editedItem.category.required&&e.push(t),e}}),watch:{items:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productItem/fetchItems"),this.$store.dispatch("productBrand/fetchBrands"),this.$store.dispatch("productCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("productItem/fetchItems"),this.$store.dispatch("productBrand/fetchBrands"),this.$store.dispatch("productCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.$store.dispatch("triggerDialog",!0)},editItem:function(e,t){this.editedIndex=2==t?-1:this.items.indexOf(e),this.editedItem=Object.assign({},{id:e.id,model:e.model,brand:e.brand_id,category:e.category_id}),this.$store.dispatch("triggerDialog",!0)},deleteItems:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.model;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productItem/deleteItems",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productItem/updateItem",this.editedItem):this.$store.dispatch("productItem/storeItem",this.editedItem)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.computerwares>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ma=La,Ba=Object(m["a"])(Ma,Ua,qa,!1,null,null,null),Fa=Ba.exports;p()(Ba,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.brands,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Brands")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteBrands}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.brands}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBrand.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedBrand.name,callback:function(t){e.$set(e.editedBrand,"name",t)},expression:"editedBrand.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.brands.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.items.length>0,disabled:t.items.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editBrand(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editBrand(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ja=[],Ha={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedBrand:{name:""},defaultBrand:{name:""},itemsPerPage:5,current_items:0}},validations:{editedBrand:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.brands.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({brands:"productBrand/getBrands",brandErrors:"productBrand/getBrandErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Brand":"Edit Product Brand"},nameErrors:function(){var e=[];if(!this.$v.editedBrand.name.$dirty)return e;var t=null;t=this.brandErrors["name|required"]?this.brandErrors["name|required"]:"The name field is required.";var a=null;return a=this.brandErrors["name|unique"]?this.brandErrors["name|unique"]:"The name already taken.",!this.$v.editedBrand.name.required&&e.push(t),!this.$v.editedBrand.name.isUnique&&e.push(a),e}}),watch:{brands:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productBrand/fetchBrands")},methods:{refreshData:function(){this.$store.dispatch("productBrand/fetchBrands")},openDialog:function(){this.editedIndex=-1,this.editedBrand=Object.assign({},this.defaultBrand),this.$store.dispatch("triggerDialog",!0)},editBrand:function(e,t){this.editedIndex=2==t?-1:this.brands.indexOf(e),this.editedBrand=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteBrands:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productBrand/deleteBrands",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productBrand/updateBrand",this.editedBrand):this.$store.dispatch("productBrand/storeBrand",this.editedBrand)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.items.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ya=Ha,za=Object(m["a"])(Ya,Ga,ja,!1,null,null,null),Ka=za.exports;p()(za,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categories,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Categories")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCategories}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.categories}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedCategory.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedCategory.name,callback:function(t){e.$set(e.editedCategory,"name",t)},expression:"editedCategory.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.categories.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.items.length>0,disabled:t.items.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editCategory(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editCategory(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Qa=[],Ja={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedCategory:{name:""},defaultCategory:{name:""},itemsPerPage:5,current_items:0}},validations:{editedCategory:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.categories.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({categories:"productCategory/getCategories",categoryErrors:"productCategory/getCategoryErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Category":"Edit Product Category"},nameErrors:function(){var e=[];if(!this.$v.editedCategory.name.$dirty)return e;var t=null;t=this.categoryErrors["name|required"]?this.categoryErrors["name|required"]:"The name field is required.";var a=null;return a=this.categoryErrors["name|unique"]?this.categoryErrors["name|unique"]:"The name already taken.",!this.$v.editedCategory.name.required&&e.push(t),!this.$v.editedCategory.name.isUnique&&e.push(a),e}}),watch:{categories:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("productCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedCategory=Object.assign({},this.defaultCategory),this.$store.dispatch("triggerDialog",!0)},editCategory:function(e,t){this.editedIndex=2==t?-1:this.categories.indexOf(e),this.editedCategory=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteCategories:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productCategory/deleteCategories",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productCategory/updateCategory",this.editedCategory):this.$store.dispatch("productCategory/storeCategory",this.editedCategory)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.items.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Xa=Ja,Za=Object(m["a"])(Xa,Wa,Qa,!1,null,null,null),er=Za.exports;p()(Za,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.types,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Types")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTypes}},r),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.types}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedType.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedType.name,callback:function(t){e.$set(e.editedType,"name",t)},expression:"editedType.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.types.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editType(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editType(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ar=[],rr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedType:{name:""},defaultType:{name:""}}},validations:{editedType:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.types.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({types:"serviceType/getTypes",typeErrors:"serviceType/getTypeErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Type":"Edit Service Type"},nameErrors:function(){var e=[];if(!this.$v.editedType.name.$dirty)return e;var t=null;t=this.typeErrors["name|required"]?this.typeErrors["name|required"]:"The name field is required.";var a=null;return a=this.typeErrors["name|unique"]?this.typeErrors["name|unique"]:"The name already taken.",!this.$v.editedType.name.required&&e.push(t),!this.$v.editedType.name.isUnique&&e.push(a),e}}),watch:{types:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceType/fetchTypes")},methods:{refreshData:function(){this.$store.dispatch("serviceType/fetchTypes")},openDialog:function(){this.editedIndex=-1,this.editedType=Object.assign({},this.defaultType),this.$store.dispatch("triggerDialog",!0)},editType:function(e,t){this.editedIndex=2==t?-1:this.types.indexOf(e),this.editedType=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteTypes:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceType/deleteTypes",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceType/updateType",this.editedType):this.$store.dispatch("serviceType/storeType",this.editedType)},selectAllToggle:function(e){if(this.selected.length!=this.types.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.types.length-this.selected.length}else this.selected=[]}}},ir=rr,nr=Object(m["a"])(ir,tr,ar,!1,null,null,null),or=nr.exports;p()(nr,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categories,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Categories")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCategories}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.categories}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedCategory.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedCategory.name,callback:function(t){e.$set(e.editedCategory,"name",t)},expression:"editedCategory.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.categories.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editCategory(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editCategory(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},cr=[],lr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedCategory:{name:""},defaultCategory:{name:""},itemsPerPage:5,current_items:0}},validations:{editedCategory:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.categories.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({categories:"serviceCategory/getCategories",categoryErrors:"serviceCategory/getCategoryErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Category":"Edit Service Category"},nameErrors:function(){var e=[];if(!this.$v.editedCategory.name.$dirty)return e;var t=null;t=this.categoryErrors["name|required"]?this.categoryErrors["name|required"]:"The name field is required.";var a=null;return a=this.categoryErrors["name|unique"]?this.categoryErrors["name|unique"]:"The name already taken.",!this.$v.editedCategory.name.required&&e.push(t),!this.$v.editedCategory.name.isUnique&&e.push(a),e}}),watch:{categories:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("serviceCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedCategory=Object.assign({},this.defaultCategory),this.$store.dispatch("triggerDialog",!0)},editCategory:function(e,t){this.editedIndex=2==t?-1:this.categories.indexOf(e),this.editedCategory=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteCategories:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceCategory/deleteCategories",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceCategory/updateCategory",this.editedCategory):this.$store.dispatch("serviceCategory/storeCategory",this.editedCategory)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},dr=lr,ur=Object(m["a"])(dr,sr,cr,!1,null,null,null),mr=ur.exports;p()(ur,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.providers,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Providers")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteProviders}},r),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.providers}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedProvider.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedProvider.name,callback:function(t){e.$set(e.editedProvider,"name",t)},expression:"editedProvider.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.providers.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,r=e.isSelected,i=e.select;return[a("v-simple-checkbox",{attrs:{value:r,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return i(e)}}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editProvider(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editProvider(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},pr=[],hr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedProvider:{name:""},defaultProvider:{name:""}}},validations:{editedProvider:{name:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.providers.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({providers:"serviceProvider/getProviders",providerErrors:"serviceProvider/getProviderErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Provider":"Edit Service Provider"},nameErrors:function(){var e=[];if(!this.$v.editedProvider.name.$dirty)return e;var t=null;t=this.providerErrors["name|required"]?this.providerErrors["name|required"]:"The name field is required.";var a=null;return a=this.providerErrors["name|unique"]?this.providerErrors["name|unique"]:"The name already taken.",!this.$v.editedProvider.name.required&&e.push(t),!this.$v.editedProvider.name.isUnique&&e.push(a),e}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceProvider/fetchProviders")},methods:{refreshData:function(){this.$store.dispatch("serviceProvider/fetchProviders")},openDialog:function(){this.editedIndex=-1,this.editedProvider=Object.assign({},this.defaultProvider),this.$store.dispatch("triggerDialog",!0)},editProvider:function(e,t){this.editedIndex=2==t?-1:this.providers.indexOf(e),this.editedProvider=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteProviders:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceProvider/deleteProviders",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceProvider/updateProvider",this.editedProvider):this.$store.dispatch("serviceProvider/storeProvider",this.editedProvider)},selectAllToggle:function(e){if(this.selected.length!=this.providers.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.providers.length-this.selected.length}else this.selected=[]}}},fr=hr,_r=Object(m["a"])(fr,vr,pr,!1,null,null,null),gr=_r.exports;p()(_r,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tickets,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","multi-sort":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Computerware Tickets")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTickets}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.tickets}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",scrollable:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Ticket # (auto-generated)",disabled:""},on:{input:function(t){return e.$v.editedTicket.ticket_number.$touch()}},model:{value:e.editedTicket.ticket_number,callback:function(t){e.$set(e.editedTicket,"ticket_number",t)},expression:"editedTicket.ticket_number"}}),a("v-autocomplete",{attrs:{"error-messages":e.branchErrors,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch"},model:{value:e.editedTicket.branch,callback:function(t){e.$set(e.editedTicket,"branch",t)},expression:"editedTicket.branch"}}),a("v-autocomplete",{attrs:{"error-messages":e.productItemErrors,disabled:e.loadingStatus,items:e.productItems,"item-text":"item","item-value":"id",label:"Select Product Item"},model:{value:e.editedTicket.productItem,callback:function(t){e.$set(e.editedTicket,"productItem",t)},expression:"editedTicket.productItem"}}),a("v-text-field",{attrs:{"error-messages":e.problemErrors,label:"Problem",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.problem.$touch()}},model:{value:e.editedTicket.problem,callback:function(t){e.$set(e.editedTicket,"problem",t)},expression:"editedTicket.problem"}}),a("v-text-field",{attrs:{"error-messages":e.serialErrors,label:"Serial",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.product_item_serial_number.$touch()}},model:{value:e.editedTicket.product_item_serial_number,callback:function(t){e.$set(e.editedTicket,"product_item_serial_number",t)},expression:"editedTicket.product_item_serial_number"}}),a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,label:"Reported by",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.reported_by_name.$touch()}},model:{value:e.editedTicket.reported_by_name,callback:function(t){e.$set(e.editedTicket,"reported_by_name",t)},expression:"editedTicket.reported_by_name"}}),a("v-text-field",{attrs:{"error-messages":e.reportedByPositionErrors,label:"Position",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.reported_by_position.$touch()}},model:{value:e.editedTicket.reported_by_position,callback:function(t){e.$set(e.editedTicket,"reported_by_position",t)},expression:"editedTicket.reported_by_position"}}),a("v-text-field",{attrs:{"error-messages":e.assignedTechErrors,label:"Assign Tech.",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.assigned_tech.$touch()}},model:{value:e.editedTicket.assigned_tech,callback:function(t){e.$set(e.editedTicket,"assigned_tech",t)},expression:"editedTicket.assigned_tech"}}),a("v-textarea",{attrs:{"auto-grow":"","row-height":"1","error-messages":e.remarksErrors,label:"Remarks",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.remarks.$touch()}},model:{value:e.editedTicket.remarks,callback:function(t){e.$set(e.editedTicket,"remarks",t)},expression:"editedTicket.remarks"}}),a("v-select",{attrs:{items:e.reportStatus,"error-messages":e.statusErrors,disabled:e.loadingStatus,"item-text":"text","item-value":"id",label:"Status"},model:{value:e.editedTicket.report_status,callback:function(t){e.$set(e.editedTicket,"report_status",t)},expression:"editedTicket.report_status"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(r.branch.name.toUpperCase())+" ("+e._s(r.ticket_number)+") "),a("v-chip",{attrs:{small:"",color:1===r.report_status?"green":"red","text-color":"white"}},[e._v(" "+e._s(1===r.report_status?"Open":"Closed")+" ")])],1),a("v-list-item-title",[e._v(" "+e._s(r.item.brand.name)+" "+e._s(r.item.category.name)+" ("+e._s(r.item.model)+") - "+e._s(r.product_item_serial_number)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.problem)+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.reported_by)+" ")]),a("v-list-item-title",[e._v("Date Reported / Closed")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.date_reported)+" / "+e._s(r.date_closed?r.date_closed:"Not closed")+" ")]),a("v-list-item-title",[e._v("Assigned Tech.")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.assigned_tech)+" ")]),a("v-list-item-title",[e._v("Remarks")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.remarks?r.remarks:"N/A")+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.logged_by.name)+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.tickets.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.report_status",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{small:"",color:1===r.report_status?"green":"red","text-color":"white"}},[e._v(" "+e._s(1===r.report_status?"Open":"Closed")+" ")])]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editTicket(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editTicket(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},xr=[],yr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{reportStatus:[{id:1,text:"Open"},{id:2,text:"Closed"}],search:"",expand:!1,selected:[],disabledCount:0,headers:[{text:"",align:"left",value:"expand",sortable:!1},{text:"Ticket #",align:"left",value:"ticket_number"},{text:"Branch",align:"left",value:"branch.name"},{text:"Status",align:"left",value:"report_status"},{text:"Product Item",align:" d-none",value:"item.model"},{text:"Product Category",align:" d-none",value:"item.category.name"},{text:"Product Brand",align:" d-none",value:"item.brand.name"},{text:"Serial",align:" d-none",value:"product_item_serial_number"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedTicket:{name:"",branch:"",productItem:"",loggedBy:"",problem:"",product_item_serial_number:"",reported_by_name:"",reported_by_position:"",date_reported:"",date_closed:"",assigned_tech:"",reported_status:"",remarks:""},defaultTicket:{name:"",branch:"",productItem:"",loggedBy:"",problem:"",product_item_serial_number:"",reported_by_name:"",reported_by_position:"",date_reported:"",date_closed:"",assigned_tech:"",reported_status:"",remarks:""},itemsPerPage:5,current_items:0}},validations:{editedTicket:{branch:{required:We["required"]},productItem:{required:We["required"]},problem:{required:We["required"]},reported_by_name:{required:We["required"]},reported_by_position:{required:We["required"]},assigned_tech:{required:We["required"]},remarks:{required:We["required"]},report_status:{required:We["required"]},product_item_serial_number:{required:We["required"],isUnique:function(e){if(""===e)return!0;var t=this.tickets.filter((function(t){return t.product_item_serial_number==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tickets:"computerwareTicket/getTickets",ticketErrors:"computerwareTicket/getTicketErrors",branches:"branch/getBranches",productItems:"productItem/getItems"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Ticket":"Edit Ticket"},branchErrors:function(){var e=[];if(!this.$v.editedTicket.branch.$dirty)return e;var t=null;return t=this.ticketErrors["branch|required"]?this.ticketErrors["branch|required"]:"The branch field is required.",!this.$v.editedTicket.branch.required&&e.push(t),e},productItemErrors:function(){var e=[];if(!this.$v.editedTicket.productItem.$dirty)return e;var t=null;return t=this.ticketErrors["productItem|required"]?this.ticketErrors["productItem|required"]:"The product item field is required.",!this.$v.editedTicket.productItem.required&&e.push(t),e},problemErrors:function(){var e=[];if(!this.$v.editedTicket.problem.$dirty)return e;var t=null;return t=this.ticketErrors["problem|required"]?this.ticketErrors["problem|required"]:"The problem field is required.",!this.$v.editedTicket.problem.required&&e.push(t),e},serialErrors:function(){var e=[];if(!this.$v.editedTicket.product_item_serial_number.$dirty)return e;var t=null;t=this.ticketErrors["product_item_serial_number|required"]?this.ticketErrors["product_item_serial_number|required"]:"The serial field is required.";var a=null;return a=this.ticketErrors["product_item_serial_number|unique"]?this.ticketErrors["product_item_serial_number|unique"]:"The serial has already been taken.",!this.$v.editedTicket.product_item_serial_number.required&&e.push(t),!this.$v.editedTicket.product_item_serial_number.isUnique&&e.push(a),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_name.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_name|required"]?this.ticketErrors["reported_by_name|required"]:"The reported by name field is required.",!this.$v.editedTicket.reported_by_name.required&&e.push(t),e},reportedByPositionErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_position.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_position|required"]?this.ticketErrors["reported_by_position|required"]:"The reported by position field is required.",!this.$v.editedTicket.reported_by_position.required&&e.push(t),e},assignedTechErrors:function(){var e=[];if(!this.$v.editedTicket.assigned_tech.$dirty)return e;var t=null;return t=this.ticketErrors["assigned_tech|required"]?this.ticketErrors["assigned_tech|required"]:"The assigned tech field is required.",!this.$v.editedTicket.assigned_tech.required&&e.push(t),e},remarksErrors:function(){var e=[];if(!this.$v.editedTicket.remarks.$dirty)return e;var t=null;return t=this.ticketErrors["remarks|required"]?this.ticketErrors["remarks|required"]:"The remarks field is required.",!this.$v.editedTicket.remarks.required&&e.push(t),e},statusErrors:function(){var e=[];if(!this.$v.editedTicket.report_status.$dirty)return e;var t=null;return t=this.ticketErrors["report_status|required"]?this.ticketErrors["report_status|required"]:"The status field is required.",!this.$v.editedTicket.report_status.required&&e.push(t),e}}),watch:{tickets:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("computerwareTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("productItem/fetchItems")},methods:{refreshData:function(){this.$store.dispatch("computerwareTicket/fetchTickets")},openDialog:function(){this.editedIndex=-1,this.editedTicket=Object.assign({},this.defaultTicket),this.$store.dispatch("triggerDialog",!0)},editTicket:function(e,t){this.editedIndex=2==t?-1:this.tickets.indexOf(e),this.editedTicket=Object.assign({},{id:e.id,ticket_number:e.ticket_number,branch:e.branch.id,productItem:e.item.id,problem:e.problem,product_item_serial_number:e.product_item_serial_number,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,assigned_tech:e.assigned_tech,report_status:e.report_status,remarks:e.remarks}),this.$store.dispatch("triggerDialog",!0)},deleteTickets:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.ticket_number;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("computerwareTicket/deleteTickets",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("computerwareTicket/updateTicket",this.editedTicket):this.$store.dispatch("computerwareTicket/storeTicket",this.editedTicket)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},kr=yr,Tr=a("a844"),Sr=Object(m["a"])(kr,br,xr,!1,null,null,null),Dr=Sr.exports;p()(Sr,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:pt["a"],VSelect:O["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tickets,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","multi-sort":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Connectivity Tickets")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTickets}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.tickets}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Connectivity Tickets")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.branchErrors,"search-input":e.editedTicket.branch,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Branch",filled:""},model:{value:e.editedTicket.branch,callback:function(t){e.$set(e.editedTicket,"branch",t)},expression:"editedTicket.branch"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,disabled:e.loadingStatus,label:"Reported By"},model:{value:e.editedTicket.reported_by_name,callback:function(t){e.$set(e.editedTicket,"reported_by_name",t)},expression:"editedTicket.reported_by_name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"error-messages":e.reportedByPositionErrors,disabled:e.loadingStatus,label:"Position"},model:{value:e.editedTicket.reported_by_position,callback:function(t){e.$set(e.editedTicket,"reported_by_position",t)},expression:"editedTicket.reported_by_position"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"search-input":e.editedTicket.service_provider,"error-messages":e.serviceProviderErrors,disabled:e.loadingStatus,items:e.serviceProviders,"item-text":"name","item-value":"id",label:"Service Provider",filled:""},model:{value:e.editedTicket.service_provider,callback:function(t){e.$set(e.editedTicket,"service_provider",t)},expression:"editedTicket.service_provider"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.serviceTypeErrors,"search-input":e.editedTicket.service_type,disabled:e.loadingStatus,items:e.serviceTypes,"item-text":"name","item-value":"id",label:"Service Type",filled:""},model:{value:e.editedTicket.service_type,callback:function(t){e.$set(e.editedTicket,"service_type",t)},expression:"editedTicket.service_type"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.serviceCategoryErrors,"search-input":e.editedTicket.service_category,disabled:e.loadingStatus,items:e.serviceCategories,"item-text":"name","item-value":"id",label:"Service Category",filled:""},model:{value:e.editedTicket.service_category,callback:function(t){e.$set(e.editedTicket,"service_category",t)},expression:"editedTicket.service_category"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.problemReportedErrors,disabled:e.loadingStatus,label:"Problem Reported To HO","prepend-icon":"event",readonly:""},model:{value:e.editedTicket.problem_reported_ho,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho",t)},expression:"editedTicket.problem_reported_ho"}},r))]}}]),model:{value:e.reportedToHoDialog,callback:function(t){e.reportedToHoDialog=t},expression:"reportedToHoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Problem Reported to HO")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.problem_reported_ho_date,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho_date",t)},expression:"\n                                        editedTicket.problem_reported_ho_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.problem_reported_ho_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.problem_reported_ho_time,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho_time",t)},expression:"\n                                        editedTicket.problem_reported_ho_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.problem_reported_ho_time,text:""},on:{click:e.saveReportedToHO}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{disabled:e.loadingStatus,label:"Problem Reported To ISP","prepend-icon":"event",readonly:"",clearable:""},model:{value:e.editedTicket.problem_reported_isp,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp",t)},expression:"editedTicket.problem_reported_isp"}},r))]}}]),model:{value:e.reportedToIspDialog,callback:function(t){e.reportedToIspDialog=t},expression:"reportedToIspDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Problem Reported to ISP")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.problem_reported_isp_date,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp_date",t)},expression:"\n                                        editedTicket.problem_reported_isp_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.problem_reported_isp_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.problem_reported_isp_time,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp_time",t)},expression:"\n                                        editedTicket.problem_reported_isp_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.problem_reported_isp_time,text:""},on:{click:e.saveReportedToISP}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{disabled:e.loadingStatus,label:"Resolution Reported","prepend-icon":"event",readonly:"",clearable:""},model:{value:e.editedTicket.resolution_reported,callback:function(t){e.$set(e.editedTicket,"resolution_reported",t)},expression:"editedTicket.resolution_reported"}},r))]}}]),model:{value:e.resolutionReportedDialog,callback:function(t){e.resolutionReportedDialog=t},expression:"resolutionReportedDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Resolution Reported")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.resolution_reported_date,callback:function(t){e.$set(e.editedTicket,"resolution_reported_date",t)},expression:"\n                                        editedTicket.resolution_reported_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.resolution_reported_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.resolution_reported_time,callback:function(t){e.$set(e.editedTicket,"resolution_reported_time",t)},expression:"\n                                        editedTicket.resolution_reported_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.resolution_reported_time,text:""},on:{click:e.saveResolutionReported}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Provider Ticket #",disabled:e.loadingStatus},model:{value:e.editedTicket.provider_ticket,callback:function(t){e.$set(e.editedTicket,"provider_ticket",t)},expression:"editedTicket.provider_ticket"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-textarea",{attrs:{"error-messages":e.problemErrors,disabled:e.loadingStatus,"row-height":"1","auto-grow":"",label:"Problem"},model:{value:e.editedTicket.problem,callback:function(t){e.$set(e.editedTicket,"problem",t)},expression:"editedTicket.problem"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-textarea",{attrs:{disabled:e.loadingStatus,"row-height":"1","auto-grow":"",label:"Last update"},model:{value:e.editedTicket.last_update,callback:function(t){e.$set(e.editedTicket,"last_update",t)},expression:"editedTicket.last_update"}})],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(r.branch.name.toUpperCase())+" ("+e._s(r.ticket_number)+") "),a("v-chip",{attrs:{small:"",color:e.ticketStatus(r.status).statusColor,"text-color":"white"}},[e._v(" "+e._s(e.ticketStatus(r.status).statusLabel)+" ")]),r.survey?a("v-chip",{staticClass:"ml-2",attrs:{label:"",small:"",color:e.ticketRate(r.survey.rate).rateColor,"text-color":"white",outlined:"",title:e.surveyRate(r.survey)}},[e._v(" "+e._s(e.ticketRate(r.survey.rate).rateLabel)+" ")]):e._e()],1),a("v-list-item-title",[e._v(" "+e._s(r.service_provider.name)+" "+e._s(r.service_type.name)+" "+e._s(r.service_category.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.problem)+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.user.name)+" "+e._s(r.updated_by?"/"+r.updated_by.name:"")+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.reported_by_name)+" ("+e._s(r.reported_by_position)+") ")]),a("v-list-item-title",[e._v("Confirmed By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.confirmed_by?r.confirmed_by.full_name:"Not yet confirmed")+" ")]),a("v-list-item-title",[e._v("Problem Reported HO / ISP")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.moment(r.problem_reported_ho).format("MMM D, Y (h:mm a)"))+" "+e._s(r.problem_reported_isp?"/ "+e.moment(r.problem_reported_isp).format("MMM D, Y (h:mm a)"):"/ Not reported yet")+" ")]),a("v-list-item-title",[e._v("Resolution Reported")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.resolution_reported?e.moment(r.resolution_reported).format("MMM D, Y (h:mm a)"):"Not reported yet")+" ")]),a("v-list-item-title",[e._v("Resolved")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.ticketResolved(r.problem_reported_ho,r.resolution_reported))+" ")]),a("v-list-item-title",[e._v("Date Created / Updated")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.moment(r.created_at).format("MMM D, Y (h:mm a)"))+" / "+e._s(e.moment(r.updated_at).format("MMM D, Y (h:mm a)"))+" ")]),a("v-list-item-title",[e._v("Last Update")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.remarks?r.remarks:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.tickets.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.status",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{small:"",color:e.ticketStatus(r.status).statusColor,"text-color":"white"}},[e._v(" "+e._s(e.ticketStatus(r.status).statusLabel)+" ")])]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editTicket(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editTicket(r,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Cr=[],Ar={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",tab:!1,expand:!1,selected:[],disabledCount:0,reportedToHoDialog:!1,reportedToIspDialog:!1,resolutionReportedDialog:!1,headers:[{text:"",align:"left",value:"expand",sortable:!1},{text:"Ticket #",align:"left",value:"ticket_number"},{text:"Branch",align:"left",value:"branch.name"},{text:"Status",align:"left",value:"status"},{text:"Service Provider",align:" d-none",value:"service_provider.name"},{text:"Service Type",align:" d-none",value:"service_type.name"},{text:"Service Category",align:" d-none",value:"service_category.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedTicket:{branch:"",service_provider:"",service_type:"",service_category:"",problem_reported_ho_date:"",problem_reported_ho_time:"",problem_reported_ho:"",problem_reported_isp_date:"",problem_reported_isp_time:"",problem_reported_isp:"",resolution_reported_date:"",resolution_reported_time:"",resolution_reported:"",reported_by_name:"",reported_by_position:"",problem:"",last_update:"",provider_ticket:""},defaultTicket:{branch:"",service_provider:"",service_type:"",service_category:"",problem_reported_ho_date:"",problem_reported_ho_time:"",problem_reported_ho:"",problem_reported_isp_date:"",problem_reported_isp_time:"",problem_reported_isp:"",resolution_reported_date:"",resolution_reported_time:"",resolution_reported:"",reported_by_name:"",reported_by_position:"",problem:"",last_update:"",provider_ticket:""},itemsPerPage:5,current_items:0}},validations:{editedTicket:{branch:{required:We["required"]},service_provider:{required:We["required"]},service_type:{required:We["required"]},service_category:{required:We["required"]},problem_reported_ho:{required:We["required"]},reported_by_name:{required:We["required"]},reported_by_position:{required:We["required"]},problem:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tickets:"connectivityTicket/getTickets",ticketErrors:"connectivityTicket/getTicketErrors",branches:"branch/getBranches",serviceTypes:"serviceType/getTypes",serviceCategories:"serviceCategory/getCategories",serviceProviders:"serviceProvider/getProviders"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Ticket":"Edit Ticket"},branchErrors:function(){var e=[];if(!this.$v.editedTicket.branch.$dirty)return e;var t=null;return t=this.ticketErrors["branch|required"]?this.ticketErrors["branch|required"]:"The branch field is required.",!this.$v.editedTicket.branch.required&&e.push(t),e},problemErrors:function(){var e=[];if(!this.$v.editedTicket.problem.$dirty)return e;var t=null;return t=this.ticketErrors["problem|required"]?this.ticketErrors["problem|required"]:"The problem field is required.",!this.$v.editedTicket.problem.required&&e.push(t),e},problemReportedErrors:function(){var e=[];if(!this.$v.editedTicket.problem_reported_ho.$dirty)return e;var t=null;return t=this.ticketErrors["problem_reported_ho|required"]?this.ticketErrors["problem_reported_ho|required"]:"This field is required.",!this.$v.editedTicket.problem_reported_ho.required&&e.push(t),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_name.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_name|required"]?this.ticketErrors["reported_by_name|required"]:"This field is required.",!this.$v.editedTicket.reported_by_name.required&&e.push(t),e},reportedByPositionErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_position.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_position|required"]?this.ticketErrors["reported_by_position|required"]:"This field is required.",!this.$v.editedTicket.reported_by_position.required&&e.push(t),e},serviceProviderErrors:function(){var e=[];if(!this.$v.editedTicket.service_provider.$dirty)return e;var t=null;return t=this.ticketErrors["service_provider|required"]?this.ticketErrors["service_provider|required"]:"This field is required.",!this.$v.editedTicket.service_provider.required&&e.push(t),e},serviceTypeErrors:function(){var e=[];if(!this.$v.editedTicket.service_type.$dirty)return e;var t=null;return t=this.ticketErrors["service_type|required"]?this.ticketErrors["service_type|required"]:"This field is required.",!this.$v.editedTicket.service_type.required&&e.push(t),e},serviceCategoryErrors:function(){var e=[];if(!this.$v.editedTicket.service_category.$dirty)return e;var t=null;return t=this.ticketErrors["service_category|required"]?this.ticketErrors["service_category|required"]:"This field is required.",!this.$v.editedTicket.service_category.required&&e.push(t),e}}),watch:{tickets:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("connectivityTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("serviceType/fetchTypes"),this.$store.dispatch("serviceCategory/fetchCategories"),this.$store.dispatch("serviceProvider/fetchProviders")},methods:{refreshData:function(){this.$store.dispatch("connectivityTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("serviceType/fetchTypes"),this.$store.dispatch("serviceCategory/fetchCategories"),this.$store.dispatch("serviceProvider/fetchProviders")},nextTab:function(){this.tab="time"},saveReportedToHO:function(){this.tab="date",this.reportedToHoDialog=!1;var e=this.moment(this.editedTicket.problem_reported_ho_date+" "+this.editedTicket.problem_reported_ho_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.problem_reported_ho=e},saveReportedToISP:function(){this.tab="date",this.reportedToIspDialog=!1;var e=this.moment(this.editedTicket.problem_reported_isp_date+" "+this.editedTicket.problem_reported_isp_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.problem_reported_isp=e},saveResolutionReported:function(){this.tab="date",this.resolutionReportedDialog=!1;var e=this.moment(this.editedTicket.resolution_reported_date+" "+this.editedTicket.resolution_reported_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.resolution_reported=e},ticketRate:function(e){var t=null,a=null;1==e?(t="Poor",a="red"):2==e?(t="Needs Improvement",a="orange"):3==e?(t="Satisfactory",a="blue lighten-2"):4==e?(t="Very Good",a="blue"):5==e&&(t="Excellent",a="green");var r={rateColor:a,rateLabel:t};return r},surveyRate:function(e){var t=e.rater.full_name,a=e.remarks;return t+": "+a},ticketResolved:function(e,t){var a=t?this.moment().format("YYYY-MM-DD HH:mm:ss"):t,r=this.moment(e),i=this.moment(a),n=this.moment.duration(i.diff(r)),o=n._data.days,s=n._data.hours,c=n._data.minutes;return o+" days, "+s+" hours & "+c+" minutes"},ticketStatus:function(e){var t=null,a=null;1==e?(t="Open",a="red"):2==e?(t="Pending",a="orange"):(t="Closed",a="black");var r={statusColor:a,statusLabel:t};return r},openDialog:function(){this.editedIndex=-1,this.editedTicket=Object.assign({},this.defaultTicket),console.log(this.editedTicket),this.$store.dispatch("triggerDialog",!0)},editTicket:function(e,t){this.editedIndex=2==t?-1:this.tickets.indexOf(e),this.editedTicket=Object.assign({},{id:e.id,branch:e.branch.id,ticket_number:e.ticket_number,service_provider:e.service_provider.id,service_type:e.service_type.id,service_category:e.service_category.id,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,problem_reported_ho:e.problem_reported_ho,problem_reported_ho_date:this.moment(e.problem_reported_ho).format("YYYY-MM-DD"),problem_reported_ho_time:this.moment(e.problem_reported_ho).format("HH:mm:ss"),problem_reported_isp:e.problem_reported_isp,problem_reported_isp_date:this.moment(e.problem_reported_isp).format("YYYY-MM-DD"),problem_reported_isp_time:this.moment(e.problem_reported_isp).format("HH:mm:ss"),resolution_reported:e.resolution_reported,resolution_reported_date:this.moment(e.resolution_reported).format("YYYY-MM-DD"),resolution_reported_time:this.moment(e.resolution_reported).format("HH:mm:ss"),provider_ticket:e.provider_ticket,problem:e.problem,last_update:e.remarks}),this.$store.dispatch("triggerDialog",!0)},deleteTickets:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.ticket_number;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("connectivityTicket/deleteTickets",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedTicket={},console.log(this.editedTicket),this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("connectivityTicket/updateTicket",this.editedTicket):this.$store.dispatch("connectivityTicket/storeTicket",this.editedTicket)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ir=Ar,wr=a("2e4b"),Rr=a("71a3"),Or=a("c671"),Pr=a("fe57"),Vr=a("aac8"),Nr=a("9a96"),$r=Object(m["a"])(Ir,Er,Cr,!1,null,null,null),Ur=$r.exports;p()($r,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTab:Rr["a"],VTabItem:Or["a"],VTabs:Pr["a"],VTabsItems:Vr["a"],VTabsSlider:Nr["a"],VTextField:Ce["a"],VTextarea:Tr["a"],VTimePicker:kt["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.powerinterruptions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Power Interruptions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePowerInterruptions}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.powerinterruptions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px",scrollable:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{"search-input":e.editedPowerInterruption.branch,"error-messages":e.branchErrors,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch"},on:{input:function(t){return e.$v.editedPowerInterruption.branch.$touch()}},model:{value:e.editedPowerInterruption.branch,callback:function(t){e.$set(e.editedPowerInterruption,"branch",t)},expression:"editedPowerInterruption.branch"}}),a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:e.editedPowerInterruption.date,callback:function(t){e.$set(e.editedPowerInterruption,"date",t)},expression:"editedPowerInterruption.date"}},r))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-date-picker",{on:{input:e.defaultPowerInterruption.date},model:{value:e.editedPowerInterruption.date,callback:function(t){e.$set(e.editedPowerInterruption,"date",t)},expression:"editedPowerInterruption.date"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"datetimeFromDialog",attrs:{"return-value":e.editedPowerInterruption.datetime_from,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedPowerInterruption,"datetime_from",t)},"update:return-value":function(t){return e.$set(e.editedPowerInterruption,"datetime_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.datetimeFromErrors,label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedPowerInterruption.datetime_from,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_from",t)},expression:"editedPowerInterruption.datetime_from"}},r))]}}]),model:{value:e.datetimeFromModal,callback:function(t){e.datetimeFromModal=t},expression:"datetimeFromModal"}},[e.datetimeFromModal?a("v-time-picker",{model:{value:e.editedPowerInterruption.datetime_from,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_from",t)},expression:"editedPowerInterruption.datetime_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.datetimeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.datetimeFromDialog.save(e.editedPowerInterruption.datetime_from)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"datetimeToDialog",attrs:{"return-value":e.editedPowerInterruption.datetime_to,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedPowerInterruption,"datetime_to",t)},"update:return-value":function(t){return e.$set(e.editedPowerInterruption,"datetime_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedPowerInterruption.datetime_from,"error-messages":e.datetimeToErrors,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedPowerInterruption.datetime_to,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_to",t)},expression:"editedPowerInterruption.datetime_to"}},r))]}}]),model:{value:e.datetimeToModal,callback:function(t){e.datetimeToModal=t},expression:"datetimeToModal"}},[e.datetimeToModal?a("v-time-picker",{attrs:{min:e.editedPowerInterruption.datetime_from},model:{value:e.editedPowerInterruption.datetime_to,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_to",t)},expression:"editedPowerInterruption.datetime_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.datetimeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.datetimeToDialog.save(e.editedPowerInterruption.datetime_to)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,label:"Reported by",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPowerInterruption.reported_by_name.$touch()}},model:{value:e.editedPowerInterruption.reported_by_name,callback:function(t){e.$set(e.editedPowerInterruption,"reported_by_name",t)},expression:"editedPowerInterruption.reported_by_name"}}),a("v-text-field",{attrs:{label:"Position",disabled:e.loadingStatus},model:{value:e.editedPowerInterruption.reported_by_position,callback:function(t){e.$set(e.editedPowerInterruption,"reported_by_position",t)},expression:"editedPowerInterruption.reported_by_position"}}),a("v-textarea",{attrs:{"auto-grow":"","row-height":"1","error-messages":e.remarksErrors,label:"Remarks",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPowerInterruption.remarks.$touch()}},model:{value:e.editedPowerInterruption.remarks,callback:function(t){e.$set(e.editedPowerInterruption,"remarks",t)},expression:"editedPowerInterruption.remarks"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.datetime_from",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.datetime_from).format("MMM D, Y (h:mm a)"))+" ")]}},{key:"item.datetime_to",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.datetime_to).format("MMM D, Y (h:mm a)"))+" ")]}},{key:"item.total_hours",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment.utc(e.moment.duration(a.total_hours,"seconds").asMilliseconds()).format("H ")+"hours")+" "+e._s("& "+e.moment.utc(e.moment.duration(a.total_hours,"seconds").asMilliseconds()).format("m ")+" minutes")+" ")]}},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(r.branch.name.toUpperCase())+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.user.name)+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.reported_by_name)+" ("+e._s(r.reported_by_position?r.reported_by_position:"None")+") ")]),a("v-list-item-title",[e._v("Remarks")]),a("v-list-item-subtitle",[e._v(" "+e._s(r.remarks?r.remarks:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var r=t.on,i=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.powerinterruptions.length===e.disabledCount}},"v-simple-checkbox",i,!1),r))]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPowerInterruption(r,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPowerInterruption(r,2)}}},[e._v(" mdi-content-duplicatepowerinterruption ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Lr=[],Mr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],datetimeFromModal:!1,datetimeToModal:!1,dateMenu:!1,headers:[{text:"Branch",align:"left",value:"branch.name"},{text:"From",align:"left",value:"datetime_from"},{text:"To",align:"left",value:"datetime_to"},{text:"Total Hours",align:"left",value:"total_hours"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPowerInterruption:{branch:null,reported_by_name:"",reported_by_position:"",date:"",datetime_from:"",datetime_to:"",remarks:""},defaultPowerInterruption:{branch:null,reported_by_name:"",reported_by_position:"",date:(new Date).toISOString().substr(0,10),datetime_from:"",datetime_to:"",remarks:""},itemsPerPage:5,current_items:0}},validations:{editedPowerInterruption:{branch:{required:We["required"]},reported_by_name:{required:We["required"]},date:{required:We["required"]},datetime_from:{required:We["required"]},datetime_to:{required:We["required"]},remarks:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({powerinterruptions:"powerInterruption/getPowerInterruptions",powerInterruptionErrors:"powerInterruption/getPowerInterruptionErrors",branches:"branch/getBranches"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Power Interruption":"Edit Power Interruption"},branchErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.branch.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["branch|required"]?this.powerInterruptionErrors["branch|required"]:"This field is required.",!this.$v.editedPowerInterruption.branch.required&&e.push(t),e},datetimeFromErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.datetime_from.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["datetime_from|required"]?this.powerInterruptionErrors["datetime_from|required"]:"The time from field is required.",!this.$v.editedPowerInterruption.datetime_from.required&&e.push(t),e},datetimeToErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.datetime_to.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["datetime_to|required"]?this.powerInterruptionErrors["datetime_to|required"]:"The time to field is required.",!this.$v.editedPowerInterruption.datetime_to.required&&e.push(t),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.reported_by_name.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["reported_by_name|required"]?this.powerInterruptionErrors["reported_by_name|required"]:"This field is required.",!this.$v.editedPowerInterruption.reported_by_name.required&&e.push(t),e},remarksErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.remarks.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["remarks|required"]?this.powerInterruptionErrors["remarks|required"]:"The remarks field is required.",!this.$v.editedPowerInterruption.remarks.required&&e.push(t),e}}),watch:{powerinterruptions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("powerInterruption/fetchPowerInterruptions"),this.$store.dispatch("branch/fetchBranches")},methods:{refreshData:function(){this.$store.dispatch("powerInterruption/fetchPowerInterruptions"),this.$store.dispatch("branch/fetchBranches")},openDialog:function(){this.editedIndex=-1,this.editedPowerInterruption=Object.assign({},this.defaultPowerInterruption),this.$store.dispatch("triggerDialog",!0)},editPowerInterruption:function(e,t){this.editedIndex=2==t?-1:this.powerinterruptions.indexOf(e),this.editedPowerInterruption=Object.assign({},{id:e.id,user:e.user.name,branch:e.branch.id,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,remarks:e.remarks,date:this.moment(e.datetime_from).format("YYYY-MM-DD"),datetime_from:this.moment(e.datetime_from).format("HH:mm"),datetime_to:this.moment(e.datetime_to).format("HH:mm")}),this.$store.dispatch("triggerDialog",!0)},deletePowerInterruptions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.branch.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("powerInterruption/deletePowerInterruptions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedPowerInterruption={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("powerInterruption/updatePowerInterruption",this.editedPowerInterruption):this.$store.dispatch("powerInterruption/storePowerInterruption",this.editedPowerInterruption)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.powerinterruptions>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Br=Mr,Fr=a("e449"),Gr=Object(m["a"])(Br,qr,Lr,!1,null,null,null),jr=Gr.exports;p()(Gr,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VFlex:Se["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VMenu:Fr["a"],VRow:pt["a"],VSimpleCheckbox:ht["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"],VTimePicker:kt["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.pendingtrans,"items-per-page":e.itemsPerPage,search:e.search,"show-expand":"","single-expand":"",loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Pending Transactions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.pendingtrans}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","single-line":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:"","single-line":"","hide-details":""},model:{value:e.filterDate,callback:function(t){e.filterDate=t},expression:"filterDate"}},r))]}}]),model:{value:e.dateMenu3,callback:function(t){e.dateMenu3=t},expression:"dateMenu3"}},[a("v-date-picker",{on:{change:e.filterWithDate,input:function(t){e.dateMenu3=!1}},model:{value:e.filterDate,callback:function(t){e.filterDate=t},expression:"filterDate"}})],1),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[a("v-simple-table",{attrs:{dense:""}},[a("thead",{staticClass:"text-center"},[a("tr",[a("th",[e._v("DATE")]),a("th",[e._v("LSU(OR)")]),a("th",[e._v("OR")]),a("th",[e._v("LSU(CI)")]),a("th",[e._v("CI")]),a("th",[e._v("LSU(CH)")]),a("th",[e._v("CH")]),a("th",[e._v("DEP")]),a("th",[e._v("CLA")]),a("th",[e._v("GRPO")]),a("th",[e._v("SI")]),a("th",[e._v("SO")]),a("th",[e._v("STS")]),a("th",[e._v("DISB")]),a("th",[e._v("ARCM")]),a("th",[e._v("APCM")]),a("th",[e._v("INT")]),a("th",[e._v("RC")]),a("th",[e._v("SC")]),a("th")])]),e.checkSched(r)?e._e():a("tbody",{staticClass:"text-center"},[e._l(r.pendings,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(e.moment(t.docdate).format("D")))]),a("td",[e._v(e._s(t.ls_or))]),a("td",[e._v(e._s(t.por))]),a("td",[e._v(e._s(t.ls_ci))]),a("td",[e._v(e._s(t.ci))]),a("td",[e._v(e._s(t.ls_ch))]),a("td",[e._v(e._s(t.ch))]),a("td",[e._v(e._s(t.dep))]),a("td",[e._v(e._s(t.cla))]),a("td",[e._v(e._s(t.grpo))]),a("td",[e._v(e._s(t.si))]),a("td",[e._v(e._s(t.so))]),a("td",[e._v(e._s(t.sts))]),a("td",[e._v(e._s(t.disb))]),a("td",[e._v(e._s(t.arcm))]),a("td",[e._v(e._s(t.apcm))]),a("td",[e._v(e._s(t.pint))]),a("td",[e._v(e._s(t.rc_cash))]),a("td",[e._v(e._s(t.sc))])])})),e.canAdd?a("tr",{staticClass:"text-left"},[a("td",{staticStyle:{padding:"10px"},attrs:{colspan:"18"}},[a("v-spacer"),a("v-btn",{attrs:{loading:e.loadingStatus,small:""},on:{click:function(t){return e.addAll(r)}}},[e._v(" Add all to current pending ")])],1)]):e._e()],2),e.checkSched(r)?a("tbody",{staticClass:"text-center"},[e._l(r.pendings,(function(t){return a("tr",{key:t.id},[a("td",[a("v-edit-dialog",{attrs:{"return-value":e.moment(t.docdate).format("D"),large:""},on:{"update:returnValue":function(a){e.$set(e.moment(t.docdate),"format('D')",a)},"update:return-value":function(a){e.$set(e.moment(t.docdate),"format('D')",a)},save:function(a){return e.update(t.id,"docdate",t.docdate)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[a("v-text-field",e._g({attrs:{label:"Edit","single-line":"",counter:"",autofocus:"",dense:"",readonly:""},model:{value:t.docdate,callback:function(a){e.$set(t,"docdate",a)},expression:"pending.docdate"}},i))]}}],null,!0),model:{value:e.dateMenu2,callback:function(t){e.dateMenu2=t},expression:"dateMenu2"}},[a("v-date-picker",{model:{value:t.docdate,callback:function(a){e.$set(t,"docdate",a)},expression:"pending.docdate"}})],1)]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(e.moment(t.docdate).format("D")))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_or,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_or",a)},"update:return-value":function(a){return e.$set(t,"ls_or",a)},save:function(a){return e.update(t.id,"ls_or",t.ls_or)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_or,callback:function(a){e.$set(t,"ls_or",a)},expression:"pending.ls_or"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_or))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.por,large:""},on:{"update:returnValue":function(a){return e.$set(t,"por",a)},"update:return-value":function(a){return e.$set(t,"por",a)},save:function(a){return e.update(t.id,"por",t.por)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.por,callback:function(a){e.$set(t,"por",a)},expression:"pending.por"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.por))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_ci,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_ci",a)},"update:return-value":function(a){return e.$set(t,"ls_ci",a)},save:function(a){return e.update(t.id,"ls_ci",t.ls_ci)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_ci,callback:function(a){e.$set(t,"ls_ci",a)},expression:"pending.ls_ci"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_ci))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ci,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ci",a)},"update:return-value":function(a){return e.$set(t,"ci",a)},save:function(a){return e.update(t.id,"ci",t.ci)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ci,callback:function(a){e.$set(t,"ci",a)},expression:"pending.ci"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ci))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_ch,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_ch",a)},"update:return-value":function(a){return e.$set(t,"ls_ch",a)},save:function(a){return e.update(t.id,"ls_ch",t.ls_ch)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_ch,callback:function(a){e.$set(t,"ls_ch",a)},expression:"pending.ls_ch"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_ch))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ch,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ch",a)},"update:return-value":function(a){return e.$set(t,"ch",a)},save:function(a){return e.update(t.id,"ch",t.ch)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ch,callback:function(a){e.$set(t,"ch",a)},expression:"pending.ch"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ch))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.dep,large:""},on:{"update:returnValue":function(a){return e.$set(t,"dep",a)},"update:return-value":function(a){return e.$set(t,"dep",a)},save:function(a){return e.update(t.id,"dep",t.dep)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.dep,callback:function(a){e.$set(t,"dep",a)},expression:"pending.dep"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.dep))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.cla,large:""},on:{"update:returnValue":function(a){return e.$set(t,"cla",a)},"update:return-value":function(a){return e.$set(t,"cla",a)},save:function(a){return e.update(t.id,"cla",t.cla)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.cla,callback:function(a){e.$set(t,"cla",a)},expression:"pending.cla"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.cla))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.grpo,large:""},on:{"update:returnValue":function(a){return e.$set(t,"grpo",a)},"update:return-value":function(a){return e.$set(t,"grpo",a)},save:function(a){return e.update(t.id,"grpo",t.grpo)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.grpo,callback:function(a){e.$set(t,"grpo",a)},expression:"pending.grpo"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.grpo))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.si,large:""},on:{"update:returnValue":function(a){return e.$set(t,"si",a)},"update:return-value":function(a){return e.$set(t,"si",a)},save:function(a){return e.update(t.id,"si",t.si)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.si,callback:function(a){e.$set(t,"si",a)},expression:"pending.si"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.si))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.so,large:""},on:{"update:returnValue":function(a){return e.$set(t,"so",a)},"update:return-value":function(a){return e.$set(t,"so",a)},save:function(a){return e.update(t.id,"so",t.so)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.so,callback:function(a){e.$set(t,"so",a)},expression:"pending.so"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.so))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.sts,large:""},on:{"update:returnValue":function(a){return e.$set(t,"sts",a)},"update:return-value":function(a){return e.$set(t,"sts",a)},save:function(a){return e.update(t.id,"sts",t.sts)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.sts,callback:function(a){e.$set(t,"sts",a)},expression:"pending.sts"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.sts))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.disb,large:""},on:{"update:returnValue":function(a){return e.$set(t,"disb",a)},"update:return-value":function(a){return e.$set(t,"disb",a)},save:function(a){return e.update(t.id,"disb",t.disb)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.disb,callback:function(a){e.$set(t,"disb",a)},expression:"pending.disb"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.disb))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.arcm,large:""},on:{"update:returnValue":function(a){return e.$set(t,"arcm",a)},"update:return-value":function(a){return e.$set(t,"arcm",a)},save:function(a){return e.update(t.id,"arcm",t.arcm)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.arcm,callback:function(a){e.$set(t,"arcm",a)},expression:"pending.arcm"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.arcm))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.apcm,large:""},on:{"update:returnValue":function(a){return e.$set(t,"apcm",a)},"update:return-value":function(a){return e.$set(t,"apcm",a)},save:function(a){return e.update(t.id,"apcm",t.apcm)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.apcm,callback:function(a){e.$set(t,"apcm",a)},expression:"pending.apcm"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.apcm))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.pint,large:""},on:{"update:returnValue":function(a){return e.$set(t,"pint",a)},"update:return-value":function(a){return e.$set(t,"pint",a)},save:function(a){return e.update(t.id,"pint",t.pint)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.pint,callback:function(a){e.$set(t,"pint",a)},expression:"pending.pint"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.pint))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.rc_cash,large:""},on:{"update:returnValue":function(a){return e.$set(t,"rc_cash",a)},"update:return-value":function(a){return e.$set(t,"rc_cash",a)},save:function(a){return e.update(t.id,"rc_cash",t.rc_cash)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.rc_cash,callback:function(a){e.$set(t,"rc_cash",a)},expression:"pending.rc_cash"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.rc_cash))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.sc,large:""},on:{"update:returnValue":function(a){return e.$set(t,"sc",a)},"update:return-value":function(a){return e.$set(t,"sc",a)},save:function(a){return e.update(t.id,"sc",t.sc)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.sc,callback:function(a){e.$set(t,"sc",a)},expression:"pending.sc"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.sc))])])],1),a("td",[e.checkSched(r)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Copy"},on:{click:function(a){return e.copyPendingTran(t)}}},[e._v(" mdi-content-copy ")]):e._e(),e.checkSched(r)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Delete"},on:{click:function(a){return e.deletePendingTran(t)}}},[e._v(" mdi-delete ")]):e._e()],1)])})),e.checkSched(r)?a("tr",[a("td",[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{dense:"",readonly:""},model:{value:e.computedDateFormatted,callback:function(t){e.computedDateFormatted=t},expression:"computedDateFormatted"}},r))]}}],null,!0),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-date-picker",{model:{value:e.editedPendingTran.docdate,callback:function(t){e.$set(e.editedPendingTran,"docdate",t)},expression:"editedPendingTran.docdate"}})],1)],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_or,callback:function(t){e.$set(e.editedPendingTran,"ls_or",t)},expression:"editedPendingTran.ls_or"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.por,callback:function(t){e.$set(e.editedPendingTran,"por",t)},expression:"editedPendingTran.por"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_ci,callback:function(t){e.$set(e.editedPendingTran,"ls_ci",t)},expression:"editedPendingTran.ls_ci"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ci,callback:function(t){e.$set(e.editedPendingTran,"ci",t)},expression:"editedPendingTran.ci"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_ch,callback:function(t){e.$set(e.editedPendingTran,"ls_ch",t)},expression:"editedPendingTran.ls_ch"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ch,callback:function(t){e.$set(e.editedPendingTran,"ch",t)},expression:"editedPendingTran.ch"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.dep,callback:function(t){e.$set(e.editedPendingTran,"dep",t)},expression:"editedPendingTran.dep"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.cla,callback:function(t){e.$set(e.editedPendingTran,"cla",t)},expression:"editedPendingTran.cla"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.grpo,callback:function(t){e.$set(e.editedPendingTran,"grpo",t)},expression:"editedPendingTran.grpo"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.si,callback:function(t){e.$set(e.editedPendingTran,"si",t)},expression:"editedPendingTran.si"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.so,callback:function(t){e.$set(e.editedPendingTran,"so",t)},expression:"editedPendingTran.so"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.sts,callback:function(t){e.$set(e.editedPendingTran,"sts",t)},expression:"editedPendingTran.sts"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.disb,callback:function(t){e.$set(e.editedPendingTran,"disb",t)},expression:"editedPendingTran.disb"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.arcm,callback:function(t){e.$set(e.editedPendingTran,"arcm",t)},expression:"editedPendingTran.arcm"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.apcm,callback:function(t){e.$set(e.editedPendingTran,"apcm",t)},expression:"editedPendingTran.apcm"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.pint,callback:function(t){e.$set(e.editedPendingTran,"pint",t)},expression:"editedPendingTran.pint"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.rc_cash,callback:function(t){e.$set(e.editedPendingTran,"rc_cash",t)},expression:"editedPendingTran.rc_cash"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.sc,callback:function(t){e.$set(e.editedPendingTran,"sc",t)},expression:"editedPendingTran.sc"}})],1),a("td",[e.checkSched(r)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Add"},on:{click:function(t){return e.save(r)}}},[e._v(" mdi-plus-circle ")]):e._e(),e.checkSched(r)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Reset"},on:{click:function(t){return e.reset()}}},[e._v(" mdi-refresh ")]):e._e()],1)]):e._e(),e.checkSched(r)?a("tr",[a("td",{attrs:{colspan:"18"}},[a("v-text-field",{attrs:{dense:"",required:"",label:"Reason","single-line":""},model:{value:e.editedPendingTran.reason,callback:function(t){e.$set(e.editedPendingTran,"reason",t)},expression:"editedPendingTran.reason"}})],1)]):e._e()],2):e._e()])],1)],1)],1)],1)]}}])})],1)],1)},Yr=[],zr={components:{JsonExcel:ct["a"]},mixins:[Ke["validationMixin"]],data:function(){return{search:"",dateMenu:!1,dateMenu2:!1,dateMenu3:!1,canAdd:!1,filterDate:null,required:function(e){return e.length>0||"Field required!"},headers:[{text:"Branch",align:"left",value:"name"},{text:"Date",align:"left",value:"date"}],editedIndex:-1,editedPendingTran:{docdate:null,ls_or:0,ls_ch:0,ls_ci:0,por:0,ci:0,ch:0,dep:0,cla:0,grpo:0,si:0,so:0,sts:0,disb:0,arcm:0,apcm:0,pint:0,rc_cash:0,sc:0,reason:null},defaultPendingTran:{docdate:null,ls_or:0,ls_ch:0,ls_ci:0,por:0,ci:0,ch:0,dep:0,cla:0,grpo:0,si:0,so:0,sts:0,disb:0,arcm:0,apcm:0,pint:0,rc_cash:0,sc:0,reason:null},itemsPerPage:5,current_items:0}},validations:{editedPendingTran:{docdate:{required:We["required"]},ls_or:{required:We["required"]},por:{required:We["required"]},ci:{required:We["required"]},ch:{required:We["required"]},dep:{required:We["required"]},cla:{required:We["required"]},grpo:{required:We["required"]},si:{required:We["required"]},so:{required:We["required"]},sts:{required:We["required"]},disb:{required:We["required"]},arcm:{required:We["required"]},apcm:{required:We["required"]},pint:{required:We["required"]},rc_cash:{required:We["required"]},sc:{required:We["required"]},reason:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({pendingtrans:"pendingTran/getPendingTrans",pendingtranErrors:"pendingTran/getPendingTranErrors",serverdate:"serverDate"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},computedDateFormatted:function(){var e=null;return e=this.editedPendingTran.docdate?this.moment(this.editedPendingTran.docdate).format("DD"):null,e}}),watch:{pendingtrans:function(){this.$v.$reset()},serverdate:function(e){this.filterDate=this.moment(e.date).format("YYYY-MM-DD")}},created:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e),this.$store.dispatch("fetchDate")},methods:{refreshData:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e),this.$store.dispatch("fetchDate")},checkSched:function(e){return this.moment(e.date).format("YYYY-MM-DD")==this.moment(this.serverdate.date).format("YYYY-MM-DD")?1===e.schedule?(this.canAdd=!1,!0):(this.canAdd=!1,!1):this.moment(e.date).format("YYYY-MM-DD")==this.moment(this.serverdate.date).subtract(1,"days").format("YYYY-MM-DD")&&0===e.schedule?(this.canAdd=!1,!0):(this.canAdd=!0,!1)},filterWithDate:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e)},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},reset:function(){this.editedPendingTran=this.defaultPendingTran},deletePendingTran:function(e){this.$store.dispatch("pendingTran/deletePendingTran",e)},copyPendingTran:function(e){console.log(e),this.editedPendingTran=Object.assign({},e)},update:function(e,t,a){var r={id:e,key:t,value:a};console.log(r),this.$store.dispatch("pendingTran/updatePendingTran",r)},save:function(e){this.editedPendingTran.branch=e.id,this.editedPendingTran.date=this.moment(e.date).format("YYYY-MM-DD"),console.log(this.editedPendingTran),this.$store.dispatch("pendingTran/storePendingTran",this.editedPendingTran)},addAll:function(e){this.$store.dispatch("pendingTran/addAllPendingTran",e)}}},Kr=zr,Wr=a("7679"),Qr=a("1f4f"),Jr=Object(m["a"])(Kr,Hr,Yr,!1,null,null,null),Xr=Jr.exports;p()(Jr,{VBtn:w["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDivider:h["a"],VEditDialog:Wr["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VMenu:Fr["a"],VSimpleTable:Qr["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tct_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Land Docs Archived")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:function(t){return e.deleteItem()}}},r),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,2093056869)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),!0!==e.viewMode?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),!1!==e.viewMode?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),a("v-toolbar-items",[!0!==e.viewMode?a("v-btn",{attrs:{text:""},on:{click:e.save}},[e._v(" "+e._s(-1===e.editedIndex?"Submit":"Update"))]):e._e()],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("TCT DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"TCT No:","error-messages":e.tctNumberError,required:""},on:{input:function(t){return e.$v.archivedData.tctinfo.tctNumber.$touch()}},model:{value:e.archivedData.tctinfo.tctNumber,callback:function(t){e.$set(e.archivedData.tctinfo,"tctNumber",t)},expression:"archivedData.tctinfo.tctNumber"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.areaError,label:"Area:"},model:{value:e.archivedData.tctinfo.area,callback:function(t){e.$set(e.archivedData.tctinfo,"area",t)},expression:"archivedData.tctinfo.area"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.locationError,label:"Location:"},model:{value:e.archivedData.tctinfo.location,callback:function(t){e.$set(e.archivedData.tctinfo,"location",t)},expression:"archivedData.tctinfo.location"}}),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.archivedData.tctinfo.dateAquired,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.tctinfo,"dateAquired",t)},"update:return-value":function(t){return e.$set(e.archivedData.tctinfo,"dateAquired",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date Acquired","prepend-icon":"mdi-calendar","error-messages":e.dateAquiredError,readonly:""},model:{value:e.archivedData.tctinfo.dateAquired,callback:function(t){e.$set(e.archivedData.tctinfo,"dateAquired",t)},expression:"archivedData.tctinfo.dateAquired"}},"v-text-field",i,!1),r))]}}]),model:{value:e.dateAquredM,callback:function(t){e.dateAquredM=t},expression:"dateAquredM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.tctinfo.dateAquired,callback:function(t){e.$set(e.archivedData.tctinfo,"dateAquired",t)},expression:"archivedData.tctinfo.dateAquired"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dateAquredM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.archivedData.tctinfo.dateAquired)}}},[e._v(" OK ")])],1)],1)],1),a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("TAX DECLARATION DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.taxDecNumberError,label:"Tax Declaration No:"},model:{value:e.archivedData.taxDecInfo.taxDecNumber,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxDecNumber",t)},expression:"archivedData.taxDecInfo.taxDecNumber"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.ownerError,label:"Owner:"},model:{value:e.archivedData.taxDecInfo.owner,callback:function(t){e.$set(e.archivedData.taxDecInfo,"owner",t)},expression:"archivedData.taxDecInfo.owner"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.previousOwnerError,label:"Previous Owner:"},model:{value:e.archivedData.taxDecInfo.previousOwner,callback:function(t){e.$set(e.archivedData.taxDecInfo,"previousOwner",t)},expression:"archivedData.taxDecInfo.previousOwner"}}),a("label",[e._v("Type")]),a("v-radio-group",{attrs:{"error-messages":e.taxDecOptionError,row:""},model:{value:e.archivedData.taxDecInfo.taxDecOption,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxDecOption",t)},expression:"archivedData.taxDecInfo.taxDecOption"}},[a("v-radio",{attrs:{label:"Land",value:"tax-dec-land"}}),a("v-radio",{attrs:{label:"Building",value:"tax-dec-building"}})],1)],1)])],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("REAL PROPERTY TAX DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.realPropertyTaxNumberError,label:"Real Property Tax No:"},model:{value:e.archivedData.realProInfo.realPropertyTaxNumber,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxNumber",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxNumber\n                            "}}),a("v-dialog",{ref:"dialog3",attrs:{"return-value":e.archivedData.realProInfo.realPropertyTaxDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.realProInfo,"realPropertyTaxDate",t)},"update:return-value":function(t){return e.$set(e.archivedData.realProInfo,"realPropertyTaxDate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"error-messages":e.realPropertyTaxDateError,label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                  archivedData.realProInfo2.realPropertyTaxDate\n                                "}},"v-text-field",i,!1),r))]}}]),model:{value:e.realPropDM,callback:function(t){e.realPropDM=t},expression:"realPropDM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                archivedData.realProInfo2.realPropertyTaxDate\n                              "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.realPropDM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog3.save(e.archivedData.realProInfo2.realPropertyTaxDate)}}},[e._v(" OK ")])],1)],1),a("v-radio-group",{attrs:{"error-messages":e.realPropertyTaxOptionError,row:""},model:{value:e.archivedData.realProInfo.realPropertyTaxOption,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxOption",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxOption\n                            "}},[a("v-radio",{attrs:{label:"Land",value:"real-proper-land"}}),a("v-radio",{attrs:{label:"Building",value:"real-proper-building"}})],1),a("v-text-field",{attrs:{"error-messages":e.realPropertyTaxAmountError,disabled:e.loadingStatus,label:"Amount:"},model:{value:e.archivedData.realProInfo.realPropertyTaxAmount,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxAmount",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxAmount\n                            "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.zonalValueError,label:"Zonal Value:"},model:{value:e.archivedData.zonalValue,callback:function(t){e.$set(e.archivedData,"zonalValue",t)},expression:"archivedData.zonalValue"}})],1)]),a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("REAL PROPERY TAX / TAX DECLARATION")]),a("v-dialog",{attrs:{transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",i,!1),r),[e._v(e._s(1==e.viewMode?"View Additional Data":-1===e.editedIndex?"Create Additional Data":"Update Additional Data"))])]}},{key:"default",fn:function(t){return[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[e._v("Real Property / Tax Declaration / Attachment")]),a("v-card-text",[a("div",{staticClass:"pa-12"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" TAX DECLARATION DETAILS ")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Tax Declaration No:"},model:{value:e.archivedData.taxDecInfo2.taxDecNumber,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxDecNumber",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxDecNumber\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Owner:"},model:{value:e.archivedData.taxDecInfo2.owner,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"owner",t)},expression:"\n                                                archivedData.taxDecInfo2.owner\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Previous Owner:"},model:{value:e.archivedData.taxDecInfo2.previousOwner,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"previousOwner",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .previousOwner\n                                              "}}),a("label",[e._v("Type")]),a("v-radio-group",{attrs:{row:""},model:{value:e.archivedData.taxDecInfo2.taxDecOption,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxDecOption",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxDecOption\n                                              "}},[a("v-radio",{attrs:{label:"Land",value:"tax-dec-land"}}),a("v-radio",{attrs:{label:"Building",value:"tax-dec-building"}})],1)],1)])],1),a("v-col",{attrs:{order:"12"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" "+e._s(1==e.viewMode?"DOWNLOAD":"")+" ATTACHMENT ")]),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Transfer Certificate Of Title",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{change:e.getfile,"click:clear":function(t){return e.deleteattachment({name:"tct_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!0),model:{value:e.archivedData.tctinfo2.tctFile,callback:function(t){e.$set(e.archivedData.tctinfo2,"tctFile",t)},expression:"\n                                                archivedData.tctinfo2.tctFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{dense:"",placeholder:"Tax Declaration",multiple:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"tax_dec_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!0),model:{value:e.archivedData.taxDecInfo2.taxdecFile,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxdecFile",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxdecFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Real Property Tax",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"real_property_tax_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!0),model:{value:e.archivedData.realProInfo2.realPropertyTaxFile,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxFile",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Deed Of Sale",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"deed_of_sale_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!0),model:{value:e.archivedData.deedOfSaleFile2,callback:function(t){e.$set(e.archivedData,"deedOfSaleFile2",t)},expression:"\n                                                archivedData.deedOfSaleFile2\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{label:"Vicinity Map",filledtctFile:"","prepend-icon":"mdi-camera"},on:{"click:clear":function(t){return e.deleteattachment({name:"vicinity_map_data",id:e.archivedData.tctinfo2.id,iden:1})}},model:{value:e.archivedData.vicinityMapFile2,callback:function(t){e.$set(e.archivedData,"vicinityMapFile2",t)},expression:"\n                                                archivedData.vicinityMapFile2\n                                              "}}):e._e(),1==e.viewMode?a("div",e._l(e.downloadData2.data,(function(t,r){return a("div",{key:r},["update"!==t.id?a("v-btn",{attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},[a("strong",{staticStyle:{"white-space":"nowrap",width:"150px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.name)+" ")]),a("strong",{staticStyle:{color:"orange"}},[e._v("~( "+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()],1)})),0):e._e()],1)])],1),a("v-col",{attrs:{order:"1"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" REAL PROPERTY TAX DETAILS ")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Real Property Tax No:"},model:{value:e.archivedData.realProInfo2.realPropertyTaxNumber,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxNumber",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxNumber\n                                              "}}),a("v-dialog",{ref:"dialog2",attrs:{"return-value":e.archivedData.realProInfo2.realPropertyTaxDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},"update:return-value":function(t){return e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                                    archivedData.realProInfo2\n                                                      .realPropertyTaxDate\n                                                  "}},"v-text-field",i,!1),r))]}}],null,!0),model:{value:e.realPropDM,callback:function(t){e.realPropDM=t},expression:"realPropDM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                                  archivedData.realProInfo2\n                                                    .realPropertyTaxDate\n                                                "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.realPropDM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog2.save(e.archivedData.realProInfo2.realPropertyTaxDate)}}},[e._v(" OK ")])],1)],1),a("v-radio-group",{attrs:{row:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxOption,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxOption",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxOption\n                                              "}},[a("v-radio",{attrs:{label:"Land",value:"real-proper-land"}}),a("v-radio",{attrs:{label:"Building",value:"real-proper-building"}})],1),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Amount:"},model:{value:e.archivedData.realProInfo2.realPropertyTaxAmount,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxAmount",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxAmount\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Zonal Value:"},model:{value:e.archivedData.zonalValue2,callback:function(t){e.$set(e.archivedData,"zonalValue2",t)},expression:"\n                                                archivedData.zonalValue2\n                                              "}})],1)])],1)],1)],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)])],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" "+e._s(1==e.viewMode?"DOWNLOAD":"")+" ATTACHMENT ")]),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Transfer Certificate Of Title",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{change:e.getfile,"click:clear":function(t){return e.deleteattachment({name:"tct_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.tctinfo.tctFile,callback:function(t){e.$set(e.archivedData.tctinfo,"tctFile",t)},expression:"archivedData.tctinfo.tctFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{dense:"",placeholder:"Tax Declaration",multiple:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"tax_dec_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.taxDecInfo.taxdecFile,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxdecFile",t)},expression:"archivedData.taxDecInfo.taxdecFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Real Property Tax",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"real_property_tax_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.realProInfo.realPropertyTaxFile,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxFile",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxFile\n                            "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Deed Of Sale",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"deed_of_sale_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(r)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.deedOfSaleFile,callback:function(t){e.$set(e.archivedData,"deedOfSaleFile",t)},expression:"archivedData.deedOfSaleFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{label:"Vicinity Map",filledtctFile:"","prepend-icon":"mdi-camera"},on:{"click:clear":function(t){return e.deleteattachment({name:"vicinity_map_data",id:e.archivedData.tctinfo.id,iden:0})}},model:{value:e.archivedData.vicinityMapFile,callback:function(t){e.$set(e.archivedData,"vicinityMapFile",t)},expression:"archivedData.vicinityMapFile"}}):e._e(),1==e.viewMode?a("div",e._l(e.downloadData.data,(function(t,r){return a("div",{key:r},["update"!==t.id?a("v-btn",{attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},[a("strong",{staticStyle:{"white-space":"nowrap",width:"150px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.name)+" ")]),a("strong",{staticStyle:{color:"orange"}},[e._v("~( "+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()],1)})),0):e._e()],1)])],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editArchived(r)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewArchived(r)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ei=[],ti=(a("caad"),a("2532"),{mixins:[Ke["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"TCT_NO",align:"left",value:"tct_no"},{text:"OWNER",align:"left",value:"owner"},{text:"LOCATION",align:"left",value:"location"},{text:"FILE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedProvider:{name:""},defaultProvider:{name:""},dateAquredM:!1,realPropDM:!1,archivedData:{tctinfo:{tctNumber:"",location:"",dateAquired:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),tctFile:[]},tctinfo2:{tctFile:[]},taxDecInfo:{taxDecNumber:"",taxDecOption:"tax-dec-land",owner:"",previousOwner:"",taxdecFile:[]},taxDecInfo2:{taxDecNumber:"",taxDecOption:"tax-dec-land",owner:"",previousOwner:"",taxdecFile:[]},realProInfo:{realPropertyTaxNumber:"",realPropertyTaxDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),realPropertyTaxOption:"real-proper-land",realPropertyTaxFile:[],realPropertyTaxAmount:""},realProInfo2:{realPropertyTaxNumber:"",realPropertyTaxDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),realPropertyTaxOption:"real-proper-land",realPropertyTaxFile:[],realPropertyTaxAmount:""},zonalValue:"",deedOfSaleFile:[],vicinityMapFile:[],zonalValue2:"",deedOfSaleFile2:[],vicinityMapFile2:[]},viewMode:!1,reportID:"",downloadData:[],downloadData2:[]}},validations:{archivedData:{tctinfo:{tctNumber:{required:We["required"]},location:{required:We["required"]},dateAquired:{required:We["required"]},area:{required:We["required"]}},taxDecInfo:{taxDecNumber:{required:We["required"]},taxDecOption:{required:We["required"]},owner:{required:We["required"]},previousOwner:{required:We["required"]}},realProInfo:{realPropertyTaxNumber:{required:We["required"]},realPropertyTaxDate:{required:We["required"]},realPropertyTaxOption:{required:We["required"]},realPropertyTaxAmount:{required:We["required"]}},zonalValue:{required:We["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tct_data:"archived/getArchived",response:"archived/getResponse",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete Archived")},userCanCreate_role:function(){return this.permissions.includes("Create Archived")},ShowDoc_role:function(){return this.permissions.includes("Show Archived")},Editdoc_role:function(){return this.permissions.includes("Edit Archived")},Download_role:function(){return this.permissions.includes("Download Archived Files")},tctNumberError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.tctNumber.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.tctNumber.required&&e.push(t),e):e},areaError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.area.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.area.required&&e.push(t),e):e},locationError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.location.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.location.required&&e.push(t),e):e},dateAquiredError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.dateAquired.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.dateAquired.required&&e.push(t),e):e},taxDecNumberError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.taxDecNumber.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.taxDecNumber.required&&e.push(t),e):e},taxDecOptionError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.taxDecOption.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.taxDecOption.required&&e.push(t),e):e},ownerError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.owner.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.owner.required&&e.push(t),e):e},previousOwnerError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.previousOwner.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.previousOwner.required&&e.push(t),e):e},realPropertyTaxNumberError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxNumber.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxNumber.required&&e.push(t),e):e},realPropertyTaxDateError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxDate.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxDate.required&&e.push(t),e):e},realPropertyTaxOptionError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxOption.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxOption.required&&e.push(t),e):e},realPropertyTaxAmouonalValuentError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxAmount.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxAmount.required&&e.push(t),e):e},zonalValueError:function(){var e=[],t=null;return this.$v.archivedData.zonalValue.$dirty?(t="This field is required.",!this.$v.archivedData.zonalValue.required&&e.push(t),e):e},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Achived":"Edit Achived"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("userPermissions/fetchPermission"),this.$store.dispatch("archived/fetchArchived")},methods:{refreshData:function(){console.log("dd"),this.$store.dispatch("archived/fetchArchived"),this.archivedData={tctinfo:{id:"",tctNumber:"",location:"",dateAquired:"",tctFile:[],tctFileID:"",area:""},tctinfo2:{id:"",tctFile:[],tctFileID2:""},taxDecInfo:{taxDecNumber:"",taxDecOption:"",owner:"",previousOwner:"",taxdecFile:[],taxdecFileID:""},taxDecInfo2:{taxDecNumber:"",taxDecOption:"",owner:"",previousOwner:"",taxdecFile:[],taxdecFileID:""},realProInfo:{realPropertyTaxNumber:"",realPropertyTaxDate:"",realPropertyTaxOption:"",realPropertyTaxFile:[],realPropertyTaxFileID:"",realPropertyTaxAmount:""},realProInfo2:{realPropertyTaxNumber:"",realPropertyTaxDate:"",realPropertyTaxOption:"",realPropertyTaxFile:[],realPropertyTaxFileID:"",realPropertyTaxAmount:""},zonalValue:"",deedOfSaleFile:[],deedOfSaleFileID:"",vicinityMapFile:[],vicinityMapFileID:"",zonalValue2:"",deedOfSaleFile2:[],deedOfSaleFileID2:"",vicinityMapFile2:[],vicinityMapFileID2:""}},openDialog:function(){this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){console.log(this.archivedData.tctinfo.tctFile)},deleteattachment:function(e){this.$store.dispatch("archived/attachmentDeletions",e)},editArchived:function(e){this.viewMode=!1;var t,a,r,i,n,o,s,c,l,d,u=this.tct_data.indexOf(e);this.editedIndex=u,console.log(this.editedIndex),t=e.tax_dec_data[0]?e.tax_dec_data[0]:{filename:"Empty Data",id:"update"},a=e.tct_data[0]?e.tct_data[0]:{filename:"Empty Data",id:"update"},r=e.real_property_data[0]?e.real_property_data[0]:{filename:"Empty Data",id:"update"},i=e.vicinity_map_data[0]?e.vicinity_map_data[0]:{filename:"Empty Data",id:"update"},n=e.deed_of_sale_data[0]?e.deed_of_sale_data[0]:{filename:"Empty Data",id:"update"},o=e.archived_new[0].tax_dec_data2[0]?e.archived_new[0].tax_dec_data2[0]:{filename:"Empty Data",id:"update"},s=e.archived_new[0].tct_data2[0]?e.archived_new[0].tct_data2[0]:{filename:"Empty Data",id:"update"},c=e.archived_new[0].real_property_data2[0]?e.archived_new[0].real_property_data2[0]:{filename:"Empty Data",id:"update"},l=e.archived_new[0].vicinity_map_data2[0]?e.archived_new[0].vicinity_map_data2[0]:{filename:"Empty Data",id:"update"},d=e.archived_new[0].deed_of_sale_data2[0]?e.archived_new[0].deed_of_sale_data2[0]:{filename:"Empty Data",id:"update"},this.archivedData={tctinfo:{id:e.id,tctNumber:e.tct_no,location:e.location,dateAquired:e.date_aquired,tctFile:[{name:a.filename}],tctFileID:a.id,area:e.area},tctinfo2:{id:e.archived_new[0].id,tctFile:[{name:s.filename}],tctFileID:s.id},taxDecInfo:{taxDecNumber:e.tax_dec_no,taxDecOption:e.tax_dec_option,owner:e.owner,previousOwner:e.previous_owner,taxdecFile:[{name:t.filename}],taxdecFileID:t.id},taxDecInfo2:{taxDecNumber:e.archived_new[0].tax_dec_no,taxDecOption:e.archived_new[0].tax_dec_option,owner:e.archived_new[0].owner,previousOwner:e.archived_new[0].previous_owner,taxdecFile:[{name:o.filename}],taxdecFileID:o.id},realProInfo:{realPropertyTaxNumber:e.real_property_tax_no,realPropertyTaxDate:e.real_property_tax_date,realPropertyTaxOption:e.real_property_tax_option,realPropertyTaxFile:[{name:r.filename}],realPropertyTaxFileID:r.id,realPropertyTaxAmount:e.real_property_tax_amount},realProInfo2:{realPropertyTaxNumber:e.archived_new[0].real_property_tax_no,realPropertyTaxDate:e.archived_new[0].real_property_tax_date,realPropertyTaxOption:e.archived_new[0].real_property_tax_option,realPropertyTaxFile:[{name:c.filename}],realPropertyTaxFileID:c.id,realPropertyTaxAmount:e.archived_new[0].real_property_tax_amount},zonalValue:e.zonal_value,deedOfSaleFile:[{name:n.filename}],deedOfSaleFileID:n.id,vicinityMapFile:[{name:i.filename}],vicinityMapFileID:i.id,zonalValue2:e.archived_new[0].zonal_value,deedOfSaleFile2:[{name:d.filename}],deedOfSaleFileID2:d.id,vicinityMapFile2:[{name:l.filename}],vicinityMapFileID2:l.id},this.$store.dispatch("triggerDialog",!0)},viewArchived:function(e){var t,a,r,i,n,o,s,c,l,d;this.reportID=e.reportid,this.viewMode=!0,t=e.tax_dec_data[0]?e.tax_dec_data[0]:{filename:"Empty Data",id:"update"},a=e.tct_data[0]?e.tct_data[0]:{filename:"Empty Data",id:"update"},r=e.real_property_data[0]?e.real_property_data[0]:{filename:"Empty Data",id:"update"},i=e.vicinity_map_data[0]?e.vicinity_map_data[0]:{filename:"Empty Data",id:"update"},n=e.deed_of_sale_data[0]?e.deed_of_sale_data[0]:{filename:"Empty Data",id:"update"},e.archived_new[0]&&(o=e.archived_new[0].tax_dec_data2[0]?e.archived_new[0].tax_dec_data2[0]:{filename:"Empty Data",id:"update"},s=e.archived_new[0].tct_data2[0]?e.archived_new[0].tct_data2[0]:{filename:"Empty Data",id:"update"},c=e.archived_new[0].real_property_data2[0]?e.archived_new[0].real_property_data2[0]:{filename:"Empty Data",id:"update"},l=e.archived_new[0].vicinity_map_data2[0]?e.archived_new[0].vicinity_map_data2[0]:{filename:"Empty Data",id:"update"},d=e.archived_new[0].deed_of_sale_data2[0]?e.archived_new[0].deed_of_sale_data2[0]:{filename:"Empty Data",id:"update"}),this.downloadData={data:[{name:a.filename,id:a.id,size:a.size},{name:t.filename,id:t.id,size:t.size},{name:r.filename,id:r.id,size:r.size},{name:n.filename,id:n.id,size:n.size},{name:i.filename,id:i.id,size:i.size}]},this.downloadData2={data:[{name:s.filename,id:s.id,size:s.size},{name:o.filename,id:o.id,size:o.size},{name:c.filename,id:c.id,size:c.size},{name:d.filename,id:d.id,size:d.size},{name:l.filename,id:l.id,size:l.size}]},this.archivedData={tctinfo:{id:e.id,tctNumber:e.tct_no,location:e.location,dateAquired:e.date_aquired,tctFile:[{name:a.filename}],tctFileID:a.id,area:e.area},tctinfo2:{tctFile:[{name:s.filename}],tctFileID:s.id},taxDecInfo:{taxDecNumber:e.tax_dec_no,taxDecOption:e.tax_dec_option,owner:e.owner,previousOwner:e.previous_owner,taxdecFile:[{name:t.filename}],taxdecFileID:t.id},taxDecInfo2:{taxDecNumber:e.archived_new[0].tax_dec_no,taxDecOption:e.archived_new[0].tax_dec_option,owner:e.archived_new[0].owner,previousOwner:e.archived_new[0].previous_owner,taxdecFile:[{name:o.filename}],taxdecFileID:o.id},realProInfo:{realPropertyTaxNumber:e.real_property_tax_no,realPropertyTaxDate:e.real_property_tax_date,realPropertyTaxOption:e.real_property_tax_option,realPropertyTaxFile:[{name:r.filename}],realPropertyTaxFileID:r.id,realPropertyTaxAmount:e.real_property_tax_amount},realProInfo2:{realPropertyTaxNumber:e.archived_new[0].real_property_tax_no,realPropertyTaxDate:e.archived_new[0].real_property_tax_date,realPropertyTaxOption:e.archived_new[0].real_property_tax_option,realPropertyTaxFile:[{name:c.filename}],realPropertyTaxFileID:c.id,realPropertyTaxAmount:e.archived_new[0].real_property_tax_amount},zonalValue:e.zonal_value,deedOfSaleFile:[{name:n.filename}],deedOfSaleFileID:n.id,vicinityMapFile:[{name:i.filename}],vicinityMapFileID:i.id,zonalValue2:e.archived_new[0].zonal_value,deedOfSaleFile2:[{name:d.filename}],deedOfSaleFileID2:d.id,vicinityMapFile2:[{name:l.filename}],vicinityMapFileID2:l.id},this.$store.dispatch("triggerDialog",!0),console.log(e.archived_new[0])},download:function(e){this.$store.dispatch("archived/downloadArchived",e)},create_add:function(){alert()},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){-1===this.editedIndex?this.$store.dispatch("archived/storeArchived",this.archivedData):this.$store.dispatch("archived/updateArchived",this.archivedData),this.refreshData()},deleteItem:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.tct_no;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("archived/deleteArchived",a),e.$data.selected=[],e.refreshData())}))}}}),ai=ti,ri=a("23a7"),ii=a("67b6"),ni=a("43a6"),oi=Object(m["a"])(ai,Zr,ei,!1,null,null,null),si=oi.exports;p()(oi,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VFileInput:ri["a"],VIcon:f["a"],VRadio:ii["a"],VRadioGroup:ni["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.agencies_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Agencies Document")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteAgency}},r),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,4225783169)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),1!==e.viewOnly?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),0!==e.viewOnly?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),1!==e.viewOnly?a("v-toolbar-items",[!0!==e.viewMode&&e.userCanCreate_role?a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.save()}}},[e._v(" "+e._s(-1===e.editedIndex?"Upload":"Update / Add Data"))]):e._e()],1):e._e()],1)],1),a("v-card-text",[a("v-container",[a("v-row",[1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("DOLE")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},on:{change:e.check},model:{value:e.uploadData.dole_file,callback:function(t){e.$set(e.uploadData,"dole_file",t)},expression:"uploadData.dole_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("BIR")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},model:{value:e.uploadData.bir_file,callback:function(t){e.$set(e.uploadData,"bir_file",t)},expression:"uploadData.bir_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("LGU")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},model:{value:e.uploadData.lgu_file,callback:function(t){e.$set(e.uploadData,"lgu_file",t)},expression:"uploadData.lgu_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - DOLE")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.dole,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"dole")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - BIR")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.bir,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"bir")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - LGU")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.lgu,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"lgu")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e()],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[a("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.getdataDate(r.branch.id)}}},"v-icon",n,!1),i),[e._v(" mdi-check ")])]}},{key:"default",fn:function(t){return[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Upload History")]),a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Jan")]),a("th",{staticClass:"text-left"},[e._v("Feb")]),a("th",{staticClass:"text-left"},[e._v("Mar")]),a("th",{staticClass:"text-left"},[e._v("Apr")]),a("th",{staticClass:"text-left"},[e._v("May")]),a("th",{staticClass:"text-left"},[e._v("Jun")]),a("th",{staticClass:"text-left"},[e._v("Jul")]),a("th",{staticClass:"text-left"},[e._v("Aug")]),a("th",{staticClass:"text-left"},[e._v("Sept")]),a("th",{staticClass:"text-left"},[e._v("Oct")]),a("th",{staticClass:"text-left"},[e._v("Nov")]),a("th",{staticClass:"text-left"},[e._v("Dec")])])]),a("tbody",[a("tr",e._l(e.date_history.data,(function(t,r){return a("td",{key:r},[t?a("v-icon",{attrs:{color:"success"}},[e._v("mdi-check")]):e._e()],1)})),0)])]},proxy:!0}],null,!0)}),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}],null,!0)}),e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editArchived(r)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewArchived(r)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},li=[],di=(a("a434"),{mixins:[Ke["validationMixin"]],data:function(){return{reveal:!1,search:"",selected:[],loader:null,loading:!1,disabledCount:0,submitDisable:!0,headers:[{text:"DOC_CODE",align:"left",value:"doc_code"},{text:"BRANCH",align:"left",value:"branch.name"},{text:"UPLOAD_BY",align:"left",value:"upload_by"},{text:"FILE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",downloadData:[],uploadData:{dole_file:[],bir_file:[],lgu_file:[],id:[]},document_id:""}},validations:{test:{required:We["required"]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({agencies_data:"agencies/getAgencies",date_history:"agencies/getdate_history",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete Agencies File")},userCanCreate_role:function(){return this.permissions.includes("Create Agencies File")},ShowDoc_role:function(){return this.permissions.includes("Show Agencies File")},Editdoc_role:function(){return this.permissions.includes("Edit Agencies File")},Download_role:function(){return this.permissions.includes("Download Agencies Files")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Agencies":"Edit Agencies"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("agencies/fetchAgencies"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{deleteAgency:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.doc_code;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("agencies/deleteAgencies",a),e.$data.selected=[],e.refreshData())}))},refreshData:function(){this.$store.dispatch("agencies/fetchAgencies"),this.uploadData={dole_file:[],bir_file:[],lgu_file:[],id:[]}},openDialog:function(){this.viewOnly=0,this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){},editArchived:function(e){this.document_id=e.unique_id,this.uploadData.id=[],this.uploadData.id.push(this.document_id),this.viewMode=!1,this.viewOnly=0;var t=this.agencies_data.indexOf(e);this.editedIndex=t;var a=[],r=[],i=[];e.dl_data.forEach((function(e,t){1==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size})})),this.downloadData={data:{dole:a,bir:r,lgu:i}},this.$store.dispatch("triggerDialog",!0)},viewArchived:function(e){this.editedIndex=-1,this.reportID=e.doc_code,this.viewOnly=1;var t=[],a=[],r=[];e.dl_data.forEach((function(e,i){1==e.doc_type&&t.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size})})),this.downloadData={data:{dole:t,bir:a,lgu:r}},this.$store.dispatch("triggerDialog",!0)},check:function(){},download:function(e){this.$store.dispatch("agencies/downloadAgencies",e)},getdataDate:function(e){this.$store.dispatch("agencies/getDateAgencies",e)},trash:function(e,t){var a=this,r=this.downloadData.data[t];r.forEach((function(r,i){r.id==e.id&&(a.downloadData.data[t].splice(i,1),a.$store.dispatch("agencies/trashAgencies",e),a.refreshData())}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){-1===this.editedIndex?(this.$store.dispatch("agencies/storeAgencies",this.uploadData),this.refreshData()):(this.$store.dispatch("agencies/updateAgencies",this.uploadData),this.refreshData()),this.refreshData()}}}),ui=di,mi=(a("5d71"),Object(m["a"])(ui,ci,li,!1,null,null,null)),vi=mi.exports;p()(mi,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VFileInput:ri["a"],VIcon:f["a"],VRow:pt["a"],VSimpleTable:Qr["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[[a("v-col",{attrs:{cols:"12",sm:"2"}},[a("vs-input",{attrs:{placeholder:"Customer Name"},on:{input:e.onSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{elevation:"12",type:"table-heading, list-item-two-line, image, table-tfoot",loading:e.skeletonsk}},[a("vue-good-table",{staticClass:"custom-table",attrs:{columns:e.columns,rows:e.rows,totalRows:e.totalRows,"pagination-options":{enabled:!0,perPage:e.perPage},mode:"server",responsive:!0},on:{"on-page-change":e.onPageChange}})],1),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Date Range to Generate ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}},[a("h4",[e._v("REGULAR CUSTOMER")])])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_legal,callback:function(t){e.dates_legal=t},expression:"dates_legal"}},[a("h4",[e._v("LEGAL CUSTOMER")])])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],2)],1)},hi=[],fi=(a("fb6a"),a("ac1f"),a("841c"),{mixins:[Ke["validationMixin"]],data:function(){return{columns:[{label:"CATEGORY",field:"category"},{label:"BRANCH",field:"branch"},{label:"CUSTOMER NAME",field:"cardname"},{label:"BIRTHDAY",field:"bday"},{label:"REBATE",field:"rebate"},{label:"TERMS",field:"terms"},{label:"PAID MOUNT",field:"paidamoun"},{label:"DOC TOTAL",field:"doctotal"},{label:"BALANCE",field:"balance"},{label:"CRITERIA",field:"criteria"}],rows:[],totalRows:0,currentPage:1,perPage:7,search:"",dates_regular:["2022-01-01","2019-09-20"],dates_legal:["2022-01-01","2019-09-20"],creditstandingData:[],create:!1,reveal:!1,selected:[],loader:null,loading:!1,submitDisable:!0,skeletonsk:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({creditstanding_data:"creditstanding/getCreditStanding",permissions:"userPermissions/getPermission"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("userPermissions/fetchPermission");this.dates_regular.map((function(e){return new Date(e)}));var e=new Date,t=e.toISOString().slice(0,10),a=this.dates_regular.indexOf("2019-09-20");-1!==a&&(this.dates_regular.splice(a,1,t),this.dates_legal.splice(a,1,t)),this.onPageChange({currentPage:this.currentPage,perPage:this.perPage})},methods:{onPageChange:function(e){var t=this,a={page:e.currentPage,search:this.search};this.$store.dispatch("creditstanding/fetchCreditStanding",a).then((function(a){t.rows=a.data.data.data,t.totalRows=a.data.data.total,t.currentPage=e.current_page,t.perPage=e.per_page,t.skeletonsk=!1}))},onSearch:function(){var e=this,t={page:this.currentPage,search:this.search};this.$store.dispatch("creditstanding/fetchCreditStanding",t).then((function(t){e.rows=t.data.data.data,e.totalRows=t.data.data.total,e.currentPage=t.data.data.current_page,e.perPage=t.data.data.per_page}))}}}),_i=fi,gi=(a("9fd0"),a("3129")),bi=Object(m["a"])(_i,pi,hi,!1,null,null,null),xi=bi.exports;p()(bi,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"]});var yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{elevation:"12",type:"table-heading, list-item-two-line, image, table-tfoot",loading:e.loadingStatus}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.blacklisted_data.customer,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Black Listed Customer "+e._s(e.blacklisted_data.fromto))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.Search}},e.on),[a("v-icon",[e._v("search")])],1)],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-dialog",{attrs:{width:"600"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Sync ")])],1)],1)],1)],1)],1)},ki=[],Ti={mixins:[Ke["validationMixin"]],data:function(){return{branch:"",dates_regular:["2023-01-01","2024-01-01"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"branch"},{text:"CUSTOMER NAME",align:"left",value:"customername"},{text:"ADDRESS",align:"left",value:"address"},{text:"UNPAID BALANCE",align:"left",value:"balance"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({blacklisted_data:"blacklisted/getBlackListed",permissions:"userPermissions/getPermission",branches:"blacklisted/getBranchSeries"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading2}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("blacklisted/fetchBlackListed"),this.$store.dispatch("blacklisted/fetchBranchSeries"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{Search:function(){var e={search:this.search};this.$store.dispatch("blacklisted/searchBlacklisted",e)},generate:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};this.$store.dispatch("blacklisted/searchBlacklisted",e)},refreshData:function(){this.$store.dispatch("blacklisted/fetchBlackListed")},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Si=Ti,Di=(a("ac0a"),Object(m["a"])(Si,yi,ki,!1,null,null,null)),Ei=Di.exports;p()(Di,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"]});var Ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.cdr_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Customer Digitized Requirements")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCDR}},r),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,4250759971)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),1!==e.viewOnly?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),0!==e.viewOnly?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),1!==e.viewOnly?a("v-toolbar-items",[!0!==e.viewMode?a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.save()}}},[e._v(" "+e._s(-1===e.editedIndex?"Upload":"Update / Add Data"))]):e._e()],1):e._e()],1)],1),a("v-card-text",[a("v-container",[a("v-row",[-1===e.editedIndex||0==e.viewOnly?a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"pa-6"},[a("v-card-text",[a("div",[e._v("CUSTOMER INFO")])]),a("v-text-field",{attrs:{label:"Name of Customer",rules:e.rules,"hide-details":"auto",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.customer_name,callback:function(t){e.$set(e.uploadData.custormer_info,"customer_name",t)},expression:"uploadData.custormer_info.customer_name"}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Birthday","prepend-icon":"mdi-calendar",readonly:"",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.birthday,callback:function(t){e.$set(e.uploadData.custormer_info,"birthday",t)},expression:"uploadData.custormer_info.birthday"}},"v-text-field",i,!1),r))]}}],null,!1,4131262806),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.uploadData.custormer_info.birthday,callback:function(t){e.$set(e.uploadData.custormer_info,"birthday",t)},expression:"uploadData.custormer_info.birthday"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.uploadData.custormer_info.birthday)}}},[e._v(" OK ")])],1)],1),a("v-autocomplete",{attrs:{items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",filled:"",disabled:1==e.viewOnly,label:"Branch"},model:{value:e.uploadData.custormer_info.branch,callback:function(t){e.$set(e.uploadData.custormer_info,"branch",t)},expression:"uploadData.custormer_info.branch"}}),a("v-text-field",{attrs:{label:"Unit Availed (Model)",rules:e.rules,"hide-details":"auto",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.unit_avail,callback:function(t){e.$set(e.uploadData.custormer_info,"unit_avail",t)},expression:"uploadData.custormer_info.unit_avail"}})],1)],1):e._e(),a("v-col",{attrs:{cols:"6"}},[1==e.viewOnly||-1!==e.editedIndex?a("v-card",{staticClass:"d-flex align-center flex-column mb-6"},[a("v-card-text",[a("div",[e._v("PREVIEW / PDF / JPEG / PNG")]),1==e.printing?a("vs-button",{attrs:{icon:"",color:"danger",border:""},on:{click:function(t){return e.print()}}},[a("v-icon",[e._v("print")])],1):e._e()],1),a("div",{attrs:{id:"printer"}},[a("iframe",{staticClass:"embed-responsive-item",staticStyle:{margin:"10px",width:"550px",height:"400px"},attrs:{src:e.attachment_data,allowfullscreen:"",frameborder:"0"}})])],1):e._e()],1),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("APPLICATION FORM")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",label:"Application Form"},on:{change:e.check},model:{value:e.uploadData.application_file,callback:function(t){e.$set(e.uploadData,"application_file",t)},expression:"uploadData.application_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("PICTURE 2x2")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",label:"2X2 Picture"},model:{value:e.uploadData.picture_file,callback:function(t){e.$set(e.uploadData,"picture_file",t)},expression:"uploadData.picture_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("VALID ID")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"Valid ID Passport, Drivers License..etc"},model:{value:e.uploadData.validID_file,callback:function(t){e.$set(e.uploadData,"validID_file",t)},expression:"uploadData.validID_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("PROOF OF BILLING")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"Proof of bill"},model:{value:e.uploadData.proof_of_billing,callback:function(t){e.$set(e.uploadData,"proof_of_billing",t)},expression:"uploadData.proof_of_billing"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - APPLICATION FORM")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.application,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"application")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - 2X2 PICTURE")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.picture,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"picture")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - VALID ID")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.valid_ids,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"valid_ids")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - PROOF OF BILLING")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.proof,(function(t,r){return a("div",{key:r},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),i),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"proof")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e()],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editCDR(r)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewCDR(r)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Ai=[],Ii=(a("1276"),a("96cf"),a("1da1")),wi={mixins:[Ke["validationMixin"]],data:function(){return{menu:!1,modal:!1,menu2:!1,reveal:!1,printing:!1,search:"",selected:[],loader:null,loading:!1,disabledCount:0,submitDisable:!0,headers:[{text:"NAME OF CUSTOMER",align:"left",value:"customer_name"},{text:"BIRTHDAY",align:"left",value:"birthday"},{text:"BRANCH",align:"left",value:"branch.name"},{text:"UNIT AVAILED",align:"left",value:"unit_availed"},{text:"DATE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",downloadData:[],uploadData:{application_file:[],picture_file:[],validID_file:[],proof_of_billing:[],id:[],custormer_info:{customer_name:"",birthday:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),branch:"",unit_avail:""}},document_id:""}},validations:{test:{required:We["required"]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({cdr_data:"digitized/getCdr",branches:"digitized/getBranches",attachment_data:"digitized/getAttachment",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete CDR")},userCanCreate_role:function(){return this.permissions.includes("Create CDR")},ShowDoc_role:function(){return this.permissions.includes("Show CDR")},Editdoc_role:function(){return this.permissions.includes("Edit CDR")},Download_role:function(){return this.permissions.includes("Download CDR")},attachdata:function(){return this.$store.state.attachment_data},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Customer Requirement":"Edit Customer Requirement"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("digitized/fetchCDR"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{deleteCDR:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),r=t.map((function(e){var t="<br />"+e.doc_id;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+r,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("digitized/deleteCDR",a),e.$data.selected=[],e.refreshData())}))},print:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("printer");case 2:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.$store.dispatch("digitized/fetchCDR"),this.$store.dispatch("digitized/fetchbranches"),this.uploadData.custormer_info={customer_name:"",birthday:"",branch:"",unit_avail:""},this.downloadData={data:{application:[],picture:[],valid_ids:[],proof:[]}}},openDialog:function(){this.viewOnly=0,this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){},editCDR:function(e){this.document_id=e.doc_id,this.uploadData.id=[],this.uploadData.id.push(this.document_id),this.viewMode=!1,this.viewOnly=0;var t=this.cdr_data.indexOf(e);this.editedIndex=t;var a=[],r=[],i=[],n=[];e.dl_data.forEach((function(e,t){1==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size}),4==e.doc_type&&n.push({filename:e.filename,id:e.id,size:e.size})})),this.uploadData.custormer_info={customer_name:e.customer_name,birthday:e.birthday,branch:e.branch.id,unit_avail:e.unit_availed},this.downloadData={data:{application:a,picture:r,valid_ids:i,proof:n}},this.$store.dispatch("triggerDialog",!0)},viewCDR:function(e){this.editedIndex=-1,this.reportID=e.doc_id,this.viewOnly=1;var t=[],a=[],r=[],i=[];e.dl_data.forEach((function(e,n){1==e.doc_type&&t.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size}),4==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size})})),this.uploadData.custormer_info={customer_name:e.customer_name,birthday:e.birthday,branch:e.branch.id,unit_avail:e.unit_availed},this.downloadData={data:{application:t,picture:a,valid_ids:r,proof:i}},this.$store.dispatch("triggerDialog",!0)},check:function(){},download:function(e){this.$store.dispatch("digitized/download",e)},preview:function(e){this.$store.dispatch("digitized/preview",e);var t=e.filename.split(".").pop();console.log(t),this.printing="pdf"!==t},trash:function(e,t){var a=this,r=this.downloadData.data[t];r.forEach((function(r,i){r.id==e.id&&(a.downloadData.data[t].splice(i,1),a.$store.dispatch("digitized/trashCDR",e))}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),-1===this.editedIndex?this.$store.dispatch("digitized/storeCDR",this.uploadData):this.$store.dispatch("digitized/updateCDR",this.uploadData),console.log(this.uploadData)}}},Ri=wi,Oi=(a("747f"),Object(m["a"])(Ri,Ci,Ai,!1,null,null,null)),Pi=Oi.exports;p()(Oi,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardText:G["c"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VFileInput:ri["a"],VIcon:f["a"],VMenu:Fr["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.incoming,search:e.search,loading:e.loadingStatus2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.searchAll?a("v-autocomplete",{attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},on:{change:function(t){return e.get()}},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}):e._e(),e.searchAll?a("v-spacer"):e._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Customer Name / Invoice","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",value:e.dialog,width:"900","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-chip",{staticClass:"ma-5",attrs:{color:"green"}},[e._v("PRICELIST CODE:"),a("strong",[e._v(" "+e._s(e.pricelist))])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers2,items:e.installment,"items-per-page":13,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(""==a.Date?"":new Date(a.Date).toDateString())+" ")]}},{key:"item.OverDueDays",fn:function(t){var r=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:""!==r.check?"red":"green",label:"",small:"",dense:""}},[e._v(" "+e._s(r.OverDueDays)+" ")])]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Interest),locale:"en","currency-code":"PHP"}})]}}])})],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Status",fn:function(t){var r=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"C"==r.Status?"red":"green",label:"",small:""}},[e._v(" "+e._s("C"==r.Status?"CLOSE":"OPEN")+" ")])]}},{key:"item.action",fn:function(t){var r=t.item;return["CASH"!==r.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.view(r)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Ni=[],$i=a("fe61"),Ui={components:{"money-format":$i["a"]},mixins:[Ke["validationMixin"]],data:function(){return{pricelist:"",name:"",address:"",branch:"",reveal:!1,search:"",selected:[],loader:null,disabledCount:0,submitDisable:!0,headers:[{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"INVOICE",align:"left",value:"InvoiceNumber"},{text:"DOCUMENT TYPE",align:"left",value:"Installment"},{text:"PRICELIST",align:"left",value:"PriceList"},{text:"TOTAL",align:"left",value:"Total"},{text:"STATUS",align:"left",value:"Status"},{text:"ACTIONS",align:"center",value:"action",sortable:!1}],headers2:[{text:"DOCUMENT NO",align:"left",value:"DocumentNo"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"DUEDATE",align:"left",value:"Date"},{text:"OVERDUEDAYS",align:"left",value:"OverDueDays"},{text:"TOTAL",align:"left",value:"Total"},{text:"INTEREST",align:"left",value:"Interest"},{text:"OR-INFO",align:"left",value:"OR"}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:""}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"digitized/getBranches",incoming:"incomingpayment/getIncoming",installment:"incomingpayment/getInstallment",permissions:"userPermissions/getPermission"})),{},{searchAll:function(){return this.permissions.includes("Admin Access")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loadingStatus2:function(){return this.$store.state.loading2}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incomingpayment/fetchIncoming"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{refreshData:function(){},openDialog:function(){this.$store.dispatch("triggerDialog",!0)},getfile:function(){},view:function(e){var t,a;"0% SPL"==e.PriceList||"0% REG"==e.PriceList?(t=.05,a="5%"):(t=.07,a="7%"),this.pricelist=e.PriceList+" "+a,console.log(t),this.name=e.CustomerName,this.address=e.Address,this.$store.dispatch("incomingpayment/fetchInstallment",e),this.$store.dispatch("triggerDialog",!0)},check:function(){},get:function(){this.$store.dispatch("incomingpayment/fetchIncoming",this.branch)},close:function(){this.editedIndex=-1,this.$store.dispatch("triggerDialog",!1)}}},qi=Ui,Li=(a("656a"),Object(m["a"])(qi,Vi,Ni,!1,null,null,null)),Mi=Li.exports;p()(Li,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardText:G["c"],VChip:et["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"]});var Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.incoming,search:e.search,loading:e.loadingStatus2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Customer Installment Ledger")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.searchAll?a("v-autocomplete",{attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},on:{change:function(t){return e.get()}},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}):e._e(),e.searchAll?a("v-spacer"):e._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Customer Name / Invoice","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("p",{staticClass:"text-center"},[a("br"),e.grade?a("strong",[e._v("GRADE: "+e._s(e.grade)+" "),e.grade?e._e():a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),a("br"),e.grade?a("small",[e._v(" as of "+e._s((new Date).toDateString()))]):e._e()]),a("v-dialog",{attrs:{scrollable:"",value:e.dialog,width:"800","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-chip",{staticClass:"ma-5",attrs:{color:"green"}},[e._v("DOCUMENT TYPE :"),a("strong",[e._v(" "+e._s(e.installment_type))])]),a("v-chip",{staticClass:"ma-1",attrs:{color:"green"}},[e._v("DOWNPAYMENT : "),a("strong",[a("money-format",{attrs:{value:0!=e.downpayment?parseInt(e.downpayment):0,locale:"en","currency-code":"PHP"}})],1)]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers2,items:e.installment,"items-per-page":12,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(a.Date).toDateString())+" ")]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Payment",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.Payment?parseInt(t.Payment):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.SapEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.SapEndingBalance?parseInt(t.SapEndingBalance):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.ManualEndingBalance",fn:function(t){var r=t.item;return["C"==r.DocStat?a("v-text-field",{staticClass:"mt-4",attrs:{label:r.ManualEndingBalance,outlined:"",dense:""},on:{change:function(t){return e.update(r)}},model:{value:e.manualending[r.id],callback:function(t){e.$set(e.manualending,r.id,t)},expression:"manualending[item.id]"}}):e._e()]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",value:e.dialog2,width:"900","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers3,items:e.installment,"items-per-page":12,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(a.Date).toDateString())+" ")]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.discrepancy",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.SapEndingBalance-t.ManualEndingBalance),locale:"en","currency-code":"PHP"}})]}},{key:"item.Payment",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.Payment?parseInt(t.Payment):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.SapEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.SapEndingBalance?parseInt(t.SapEndingBalance):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.ManualEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:null!=t.ManualEndingBalance?parseInt(t.ManualEndingBalance):"",locale:"en","currency-code":"PHP"}})]}}])})],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.Status",fn:function(t){var r=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"C"==r.Status?"red":"green",label:"",small:""}},[e._v(" "+e._s("C"==r.Status?"CLOSE":"OPEN")+" ")])]}},{key:"item.action",fn:function(t){var r=t.item;return["CASH"!==r.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.view(r)}}},[e._v(" mdi-content-duplicate ")]):e._e(),"CASH"!==r.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.discyp(r)}}},[e._v(" mdi-file ")]):e._e()]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Fi=[],Gi={components:{"money-format":$i["a"]},mixins:[Ke["validationMixin"]],data:function(){return{installment_type:"",downpayment:"",name:"",address:"",branch:"",reveal:!1,search:"",selected:[],loader:null,disabledCount:0,submitDisable:!0,headers:[{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"INVOICE",align:"left",value:"InvoiceNumber"},{text:"DOCUMENT TYPE",align:"left",value:"Installment"},{text:"TOTAL",align:"left",value:"Total"},{text:"STATUS",align:"left",value:"Status"},{text:"ACTIONS",align:"center",value:"action",sortable:!1}],headers2:[{text:"DUEDATE",align:"left",value:"Date"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"INSTALLMENT DUE",align:"left",value:"Total"},{text:"PAYMENTS",align:"left",value:"Payment"},{text:"MANUAL ENDING BALANCE",align:"left",value:"ManualEndingBalance"}],headers3:[{text:"DUEDATE",align:"left",value:"Date"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"INSTALLMENT DUE",align:"left",value:"Total"},{text:"PAYMENTS",align:"left",value:"Payment"},{text:"SAP ENDING BALANCE",align:"left",value:"SapEndingBalance"},{text:"MANUAL ENDING BALANCE",align:"left",value:"ManualEndingBalance"},{text:"DISCREPANCY",align:"left",value:"discrepancy"}],manualending:[],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",dialog2:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"digitized/getBranches",incoming:"recon/getIncoming",installment:"recon/getInstallment",grade:"recon/getbranchgrade",permissions:"userPermissions/getPermission"})),{},{searchAll:function(){return this.permissions.includes("Admin Access")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loadingStatus2:function(){return this.$store.state.loading2}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("recon/fetchIncoming"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{refreshData:function(){},openDialog:function(){this.$store.dispatch("triggerDialog",!0)},getfile:function(){},view:function(e){console.log(e),this.name=e.CustomerName,this.address=e.Address,this.downpayment=e.DownPayment,this.installment_type=e.Installment,this.$store.dispatch("recon/fetchInstallment",e),this.$store.dispatch("triggerDialog",!0)},discyp:function(e){this.name=e.CustomerName,this.address=e.Address,this.$store.dispatch("recon/fetchInstallment",e),this.dialog2=!0},check:function(){},get:function(){this.$store.dispatch("recon/fetchIncoming",this.branch)},close:function(){this.manualending=[],this.editedIndex=-1,this.$store.dispatch("triggerDialog",!1),this.dialog2=!1},update:function(e){var t={id:e.id,value:this.manualending[e.id]};this.$store.dispatch("recon/updateManual",t)}}},ji=Gi,Hi=(a("d5ea"),a("490a")),Yi=Object(m["a"])(ji,Bi,Fi,!1,null,null,null),zi=Yi.exports;p()(Yi,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardText:G["c"],VChip:et["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VProgressCircular:Hi["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"]});var Ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.overdues,search:e.search,loading:e.loadingStatus,"item-key":"index","sort-by":"branch","group-by":"branch","custom-filter":e.customFilter},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Credit Dunning Letters")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"group.header",fn:function(t){var r=t.toggle,i=t.isOpen,n=t.group;return[a("th",{attrs:{colspan:"3"}},[a("v-icon",{staticClass:"mr-2",class:{active:i},on:{click:r}},[e._v(" mdi-chevron-down ")]),e._v(" "+e._s(n.toUpperCase())+" BRANCH ")],1)]}},{key:"item.aging",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getOverdue(a.aging))+" ")]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{small:"",text:"",depressed:"",loading:e.downloading[r.row_id],disabled:e.downloading[r.row_id]},on:{click:function(t){return e.downloadLetters(r)}},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",{staticClass:"mr-2"},[e._v("Dowloading... ")]),a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[e._v("mdi-dots-circle")])],1)]},proxy:!0}],null,!0)},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-file-download-outline ")]),e._v(" Download Letters ")],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Wi=[],Qi=(a("25f0"),{data:function(){return{selected:[],search:"",headers:[{text:"BRANCH",align:"start",value:"branch"},{text:"OVERDUE",align:"start",value:"aging",groupable:!1},{text:"OVERDUE TOTAL",align:"center",value:"aging_count",groupable:!1},{text:"ACTIONS",align:"start",value:"action",sortable:!1,groupable:!1}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({overdues:"dunning/getOverdues",downloading:"dunning/getDownloadingStatus"})),{},{loadingStatus:function(){return this.$store.state.loading},getOverdue:function(){return function(e){return e.substring(e.indexOf(" "),e.length)}}}),created:function(){this.get()},methods:{customFilter:function(e,t,a){return null!=e&&a.aging==e&&(e=this.getOverdue(e)),null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t)},refreshData:function(){this.get()},downloadLetters:function(e){var t=e.branch,a=e.aging,r=e.row_id;this.$store.dispatch("dunning/downloadLetters",{branch:t,aging:a,index:r})},get:function(){this.$store.dispatch("dunning/fetchOverdues")}}}),Ji=Qi,Xi=(a("0e40"),Object(m["a"])(Ji,Ki,Wi,!1,null,"572e9788",null)),Zi=Xi.exports;p()(Xi,{VBtn:w["a"],VContainer:Te["a"],VDataTable:vt["a"],VDivider:h["a"],VIcon:f["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var en=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("Template")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.unique_column_1,label:"Enter first unique column"},model:{value:e.unique_column_1,callback:function(t){e.unique_column_1=t},expression:"unique_column_1"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.unique_column_2,label:"Enter second unique column",hint:"Optional","persistent-hint":""},model:{value:e.unique_column_2,callback:function(t){e.unique_column_2=t},expression:"unique_column_2"}})],1)],1),a("v-row",[a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.needExporting?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),e.validation_errors.excelSrc?a("h4",[e._v("Excel Source: "+e._s(e.validation_errors.excelSrc))]):e._e(),e.validation_errors.message?a("div",{domProps:{innerHTML:e._s(e.validation_errors.message)}}):e._e(),e.validation_errors.notEqualColumns?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.headers,items:e.validation_errors.notEqualColumns,"items-per-page":15},scopedSlots:e._u([{key:"item.value",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.value.replace(/ /g," "))+" ")]}}],null,!1,4010168191)}):e._e(),"Data not found"==e.validation_errors.validationErrorType?a("div",[e.isComparisonNotFoundExisted?a("div",{staticClass:"mt-2"},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.comparison_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.comparison_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e(),e.isBaseDataNotFoundExisted?a("div",{class:e.getBaseBaseDataNotFoundClassMargin},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.base_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.base_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e()]):e._e()],1):e._e()],1)],1)],1)],1)},tn=[],an={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_template/resetValidationMessages")},data:function(){return{headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Unique Column",align:"start",value:"unique_column"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1},{text:"Expected Value",align:"start",value:"expected_value",sortable:!1}],data_not_found_headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1}],unique_column_1:"",unique_column_2:"",base_on_file:null,comparison_file:null}},methods:{validateData:function(){this.$store.dispatch("validation_template/validateTemplate",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,unique_column_1:this.unique_column_1,unique_column_2:this.unique_column_2})},exportToExcel:function(){var e=this.validation_errors,t=[],a=[],r="";this.cellValueNotMatchErrType?(t=["Unique Column","Header","Row","Value","Expected Value"],a=e.notEqualColumns,r="CellValuesDoesNotMatch"):this.dataNotFoundErrType&&(t=["Header","Row","Value"],a=e.itemsNotFound,r="DataNotFound"),this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:r})}},computed:Object(c["a"])({getBaseBaseDataNotFoundClassMargin:function(){return this.isComparisonNotFoundExisted?"mt-5":"mt-2"},isComparisonNotFoundExisted:function(){var e=this.validation_errors;return e.itemsNotFound.comparison_sheet_not_found&&e.itemsNotFound.comparison_sheet_not_found.data.length>0},isBaseDataNotFoundExisted:function(){var e=this.validation_errors;return e.itemsNotFound.base_sheet_not_found&&e.itemsNotFound.base_sheet_not_found.data.length>0},getValidationErrType:function(){var e=this.validation_errors,t=e.validationErrorType;return t},cellValueNotMatchErrType:function(){return!!this.getValidationErrType&&this.getValidationErrType.includes("Cell Values doesn't match")},dataNotFoundErrType:function(){return!!this.getValidationErrType&&this.getValidationErrType.includes("Data not found")},needExporting:function(){return this.cellValueNotMatchErrType||this.dataNotFoundErrType}},Object(l["b"])({input_validation_errors:"validation_template/getInputValidationErrors",validation_errors:"validation_template/getValidationErrors",validation_on_progress:"validation_template/getValidationProgress",success_message:"validation_template/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},rn=an,nn=Object(m["a"])(rn,en,tn,!1,null,null,null),on=nn.exports;p()(nn,{VBtn:w["a"],VCard:F["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDivider:h["a"],VFileInput:ri["a"],VRow:pt["a"],VTextField:Ce["a"]});var sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("Good Receipt Model - Serial Model")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.column_to_compare,label:"Enter column to compare"},model:{value:e.column_to_compare,callback:function(t){e.column_to_compare=t},expression:"column_to_compare"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column",label:"Enter alternate name","error-messages":e.input_validation_errors.alt_name_of_col,hint:"Optional","persistent-hint":""},model:{value:e.alt_name_of_col,callback:function(t){e.alt_name_of_col=t},expression:"alt_name_of_col"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.match_column_1,label:"Enter matched column 1"},model:{value:e.match_column_1,callback:function(t){e.match_column_1=t},expression:"match_column_1"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.match_column_2,label:"Enter matched column 2",hint:"Optional","persistent-hint":""},model:{value:e.match_column_2,callback:function(t){e.match_column_2=t},expression:"match_column_2"}})],1),a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.validation_errors.validationErrorType?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),e.validation_errors.excelSrc?a("h4",[e._v("Excel Source: "+e._s(e.validation_errors.excelSrc))]):e._e(),e.validation_errors.message?a("div",{domProps:{innerHTML:e._s(e.validation_errors.message)}}):e._e(),e.validation_errors.notMatchData?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.headers,items:e.validation_errors.notMatchData,"items-per-page":15}}):e._e()],1):e._e()],1)],1)],1)],1)},cn=[],ln={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_good_receipt_serial/resetValidationMessages")},data:function(){return{headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1},{text:"Expected Value",align:"start",value:"expected_value",sortable:!1}],column_to_compare:"LineNum",alt_name_of_col:"DocLineNum",match_column_1:"ItemCode",match_column_2:"WhsCode",base_on_file:null,comparison_file:null}},methods:{validateData:function(){this.$store.dispatch("validation_good_receipt_serial/validateGoodReceiptToSerial",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,column_to_compare:this.column_to_compare,alt_name_of_col:this.alt_name_of_col,match_column_1:this.match_column_1,match_column_2:this.match_column_2})},exportToExcel:function(){var e=this.validation_errors,t=["Header","Row","Value","Expected Value"],a=e.notMatchData;this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:"DataDoesnotMatch"})}},computed:Object(c["a"])({},Object(l["b"])({input_validation_errors:"validation_good_receipt_serial/getInputValidationErrors",validation_errors:"validation_good_receipt_serial/getValidationErrors",validation_on_progress:"validation_good_receipt_serial/getValidationProgress",success_message:"validation_good_receipt_serial/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},dn=ln,un=Object(m["a"])(dn,sn,cn,!1,null,null,null),mn=un.exports;p()(un,{VBtn:w["a"],VCard:F["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDivider:h["a"],VFileInput:ri["a"],VRow:pt["a"],VTextField:Ce["a"]});var vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("BP Master Data CardCode - AR Invoice CardCode")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.base_match_column,label:"Base file match column name"},model:{value:e.base_match_column,callback:function(t){e.base_match_column=t},expression:"base_match_column"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column",label:"Comparison file match column name","error-messages":e.input_validation_errors.comparison_match_column},model:{value:e.comparison_match_column,callback:function(t){e.comparison_match_column=t},expression:"comparison_match_column"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-combobox",{attrs:{chips:"",clearable:"",label:"Input columns to get in base file",multiple:"","prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.base_columns_to_get},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.attrs,i=t.item,n=t.select,o=t.selected;return[a("v-chip",e._b({attrs:{"input-value":o,close:""},on:{click:n,"click:close":function(t){return e.removeBaseColumn(i)}}},"v-chip",r,!1),[a("strong",[e._v(e._s(i))])])]}}]),model:{value:e.base_columns_to_get,callback:function(t){e.base_columns_to_get=t},expression:"base_columns_to_get"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-combobox",{attrs:{chips:"",clearable:"",label:"Input columns to get in comparison file",multiple:"","prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.comparison_columns_to_get},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.attrs,i=t.item,n=t.select,o=t.selected;return[a("v-chip",e._b({attrs:{"input-value":o,close:""},on:{click:n,"click:close":function(t){return e.removeComparisonColumn(i)}}},"v-chip",r,!1),[a("strong",[e._v(e._s(i))])])]}}]),model:{value:e.comparison_columns_to_get,callback:function(t){e.comparison_columns_to_get=t},expression:"comparison_columns_to_get"}})],1),a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.validation_errors.validationErrorType?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),"Data not found"==e.validation_errors.validationErrorType?a("div",[e.validation_errors.itemsNotFound.base_sheet_not_found&&e.validation_errors.itemsNotFound.base_sheet_not_found.data.length>0?a("div",{staticClass:"mt-2"},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.base_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.base_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e()]):e._e()]):e._e()],1)],1)],1)],1)},pn=[],hn={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_bp_master_ar_invoice_cardcode/resetValidationMessages")},data:function(){return{data_not_found_headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1}],base_match_column:"AliasName",comparison_match_column:"CardCode",base_on_file:null,comparison_file:null,base_columns_to_get:["CardCode","AliasName"],comparison_columns_to_get:["CardName"]}},methods:{validateData:function(){this.$store.dispatch("validation_bp_master_ar_invoice_cardcode/validateBPMasterDataCardCodeArInvoice",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,base_match_column:this.base_match_column,comparison_match_column:this.comparison_match_column,base_columns_to_get:this.base_columns_to_get,comparison_columns_to_get:this.comparison_columns_to_get})},removeBaseColumn:function(e){this.base_columns_to_get.splice(this.base_columns_to_get.indexOf(e),1)},removeComparisonColumn:function(e){this.comparison_columns_to_get.splice(this.comparison_columns_to_get.indexOf(e),1)},exportToExcel:function(){var e=this.validation_errors,t=["Header","Row","Value"],a=e.itemsNotFound;this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:"DataNotFound"})}},computed:Object(c["a"])({},Object(l["b"])({input_validation_errors:"validation_bp_master_ar_invoice_cardcode/getInputValidationErrors",validation_errors:"validation_bp_master_ar_invoice_cardcode/getValidationErrors",validation_on_progress:"validation_bp_master_ar_invoice_cardcode/getValidationProgress",success_message:"validation_bp_master_ar_invoice_cardcode/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},fn=hn,_n=a("2b5d"),gn=Object(m["a"])(fn,vn,pn,!1,null,null,null),bn=gn.exports;p()(gn,{VBtn:w["a"],VCard:F["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VCombobox:_n["a"],VContainer:Te["a"],VDataTable:vt["a"],VDivider:h["a"],VFileInput:ri["a"],VRow:pt["a"],VTextField:Ce["a"]});var xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-app-bar",{staticClass:"nav-color"},[a("v-img",{staticStyle:{margin:"5px"},attrs:{src:"/addessa_logo.png","max-width":"40","max-height":"40"}}),a("v-toolbar-title",{staticClass:"textfont2",staticStyle:{color:"#14a76c"},attrs:{"data-aos":"fade-down"}},[e._v("ADDESSA RAFFLE DRAW")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-card",e._g({staticClass:"mx-auto",attrs:{"max-width":"450","data-aos":"fade-right"}},r),[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"textfont2",staticStyle:{color:"#14a76c"}},[e._v(" Raffle Draw Start on")]),a("v-list-item-subtitle",[e._v(e._s(new Date(e.RaffleDate)))])],1)],1)],1)]}}])})],1),a("v-container",{staticClass:"card-color",staticStyle:{height:"720px"},attrs:{center:""}},[a("v-card",{staticStyle:{"margin-bottom":"20px"},attrs:{dark:""}},[a("v-card-title",{staticClass:"textfont2",staticStyle:{color:"#ffe400"},attrs:{"data-aos":"fade-right"}},[e._v(" Announcement ")]),a("v-card-subtitle",[a("v-alert",{attrs:{dismissible:"",color:"cyan",border:"left",elevation:"2","colored-border":"",icon:"mdi-message"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" Message to customer ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticStyle:{"min-height":"500px"}},[a("v-card-title",{staticClass:"text-h5"}),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"12 "}},[0!=e.timer?a("p",{staticClass:"textfont1",staticStyle:{color:"#14a76c","font-size":"100px","text-align":"center","margin-top":"150px"}},[e._v(" "+e._s(e.timer)+" ")]):e._e(),0==e.timer&&1==e.go?a("v-card",{staticStyle:{"margin-bottom":"20px","min-height":"200px","text-align":"center"}},[a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[a("v-img",{attrs:{src:"/trophy.webp"}})],1),a("br"),a("br"),a("p",{staticClass:"textfont2",staticStyle:{"font-size":"50px"}},[e._v(" Congratulations ")]),a("br"),a("p",[e._v(" You are the winner of 1,000,000 pesos and House in lot 1 hectires with rice field bagong tanim, I hope you are prepared for the great and exciting changes that will come to your life soon. Enjoy and stay safe. ")]),a("v-btn",{staticStyle:{margin:"10px"},attrs:{color:"dark",small:"",dense:""},on:{click:function(t){e.results=!0}}},[e._v("Raffle Result")]),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.results,callback:function(t){e.results=t},expression:"results"}},[a("v-card",{staticStyle:{"text-align":"center"}},[a("v-card-title",{staticClass:"textfont2"},[e._v(" Raffle Draw Winners ")]),a("v-card-text",e._l(e.Winners.data[0],(function(t,r){return a("div",{key:r},[a("strong",[e._v(" "+e._s(t.customer)+" "),a("br"),e._v("Invoice: "),a("p",{staticStyle:{color:"#14a76c"}},[e._v(" "+e._s(t.invoice)+" ")])])])})),0),a("v-card-actions",[a("v-spacer")],1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1)},yn=[],kn={data:function(){return{results:!1,RaffleDate:"07/18/2022 12:30",timer:"",percent:0,go:0,winners:[]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({Winners:"raffledraw/getWinner"})),{},{countdownDate:function(){return new Date(this.RaffleDate).getTime()}}),methods:{},mounted:function(){var e=this;this.sockets.subscribe("check",(function(t){if(e.timer=t.status,console.log(t),0==t.status){var a=e.$vs.loading({percent:e.percent}),r=setInterval((function(){e.percent<=100&&a.changePercent("".concat(e.percent++,"%"))}),40);setTimeout((function(){a.close(),clearInterval(r),e.percent=0,e.go=1}),4800),e.$store.dispatch("raffledraw/GetWinner")}}))}},Tn=kn,Sn=(a("6ccc"),a("0798")),Dn=a("8212"),En=Object(m["a"])(Tn,xn,yn,!1,null,null,null),Cn=En.exports;p()(En,{VAlert:Sn["a"],VAppBar:I["a"],VAvatar:Dn["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDialog:tt["a"],VImg:R["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:pt["a"],VSpacer:P["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var An=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[[a("v-card",{attrs:{color:"dark lighten-2",dark:""}},[a("v-card-title",{staticClass:"text-h5 dark lighten-3"},[e._v(" Validate GiftCode ")]),a("v-card-text",[e._v(" EX: HBDSUKIABCD1234 ")]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.entries,loading:e.isLoading,"search-input":e.search,color:"white","hide-no-data":"","hide-selected":"","item-text":"code","item-value":"code",label:"Validate Your Customer Gift Code",placeholder:"Start typing to Search","prepend-icon":"mdi-database-search","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),a("v-divider"),a("v-expand-transition",[e.model?a("v-list",{staticClass:"dark lighten-3"},e._l(e.fields,(function(t,r){return a("v-list-item",{key:r},[a("label",[a("strong",[e._v("NAME:")]),e._v(" "),a("strong",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(t.name))]),a("br"),a("strong",[e._v("GIFT CODE:")]),e._v(" "),a("strong",{staticStyle:{"text-decoration":"underline",color:"green"}},[e._v(e._s(t.code))]),a("br"),a("strong",[e._v("DATE SENT:")]),e._v(" "),a("strong",[e._v(e._s(new Date(t.created_at)))]),a("br"),a("strong",[e._v("BIRTHDAY:")]),e._v(" "),a("strong",[e._v(e._s(new Date(t.birthday).toDateString()))]),a("br"),a("br"),a("strong",[e._v("MESSAGE:")]),a("br"),e._v(" "),a("small",[e._v(e._s(t.message))]),a("br"),a("strong",[e._v("STATUS:")]),a("br"),e._v(" "),a("div",{style:"VALID"==t.status?"color: green; font-weight: bold;":"color: red; font-weight: bold;"},[e._v(e._s(t.status))])])])})),1):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.model,color:"grey darken-3"},on:{click:function(t){e.model=null}}},[e._v(" Clear "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-close-circle ")])],1)],1)],1)]],2)],1)},In=[],wn=(a("ddb0"),{data:function(){return{descriptionLimit:60,entries:[],isLoading:!1,model:null,search:null}},computed:{fields:function(){return[this.model]}},watch:{search:function(e){var t=this;this.isLoading||(this.isLoading=!0,fetch("http://192.168.1.19:7771/api/sms/giftcode/fetch?search="+e).then((function(e){return e.json()})).then((function(e){var a=e.count,r=e.entries;t.count=a,t.entries=r})).catch((function(e){console.log(e)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){}}),Rn=wn,On=a("0789"),Pn=Object(m["a"])(Rn,An,In,!1,null,null,null),Vn=Pn.exports;p()(Pn,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VContainer:Te["a"],VDivider:h["a"],VExpandTransition:On["a"],VIcon:f["a"],VList:_["a"],VListItem:b["a"],VSpacer:P["a"]});var Nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,search:e.search,items:e.revolving_funds,loading:e.loadingStatus,"group-by":"branch"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Revolving Fund")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.refreshRvFunds()}}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"group.header",fn:function(t){var r=t.toggle,i=t.isOpen,n=t.group;return[a("th",{attrs:{colspan:"6"}},[a("v-icon",{staticClass:"mr-2",class:{active:i},on:{click:r}},[e._v(" mdi-chevron-down ")]),e._v(" "+e._s(n.toUpperCase())+" BRANCH ")],1)]}},{key:"item.fund",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.fund),locale:"en","currency-code":"PHP"}})]}},{key:"item.cash_advances",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.cash_advances),locale:"en","currency-code":"PHP"}})]}},{key:"item.as_of",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.as_of).format("MMM DD, YYYY"))+" ")]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.viewRevolvingFund(r)}}},[a("v-icon",[e._v("mdi-eye")])],1)]}}])}),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogs.view_revolving_fund,callback:function(t){e.$set(e.dialogs,"view_revolving_fund",t)},expression:"dialogs.view_revolving_fund"}},[a("v-card",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.onCloseViewRVFundDialog()}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Summary of Revolving Fund")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.printRvFundsSummary()}}},[e._v(" Print")])],1)],1),a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("BRANCH:")]),a("span",{staticClass:"text-uppercase"},[e._v(e._s(e.rv_fund_with_expense_items.branch))])]),a("div",{staticClass:"d-inline-flex align-center ml-auto"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("SUBMITTED DATE:")]),a("span",[e._v(e._s(e.rv_fund_with_expense_items.submitted_date))])])]),a("div",{staticClass:"d-inline-flex align-center"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("AS OF:")]),a("span",[e._v(e._s(e.moment(e.rv_fund_with_expense_items.as_of).format("MMM DD, YYYY")))])])])],1),a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"},[e._v("REVOLVING FUND:")]),a("div",{staticStyle:{"margin-right":"8.5em"}},[a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.rv_fund_with_expense_items.fund),locale:"en","currency-code":"PHP"}})],1)]),a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"mr-auto d-flex align-center"},[a("span",[e._v("CASH ADVANCES: Marketing Activities")]),!e.isEditingCashAdvances&&e.canEditCashAdvances?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){e.isEditingCashAdvances=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e()],1),a("div",{staticStyle:{"margin-right":"3.4em"}},[e.isEditingCashAdvances?e._e():a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.rv_fund_with_expense_items.cash_advances),locale:"en","currency-code":"PHP"}}),e.isEditingCashAdvances&&e.canEditCashAdvances?a("div",{staticClass:"d-flex align-center",staticStyle:{width:"160px"}},[a("div",{staticClass:"align-self-center d-flex mt-1 ml-1"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.saveCashAdv()}}},"v-btn",i,!1),r),[a("v-icon",[e._v("mdi-content-save")])],1)]}}],null,!1,306424168)},[a("span",[e._v("Save")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.cancelUpdatingCashAdv()}}},"v-btn",i,!1),r),[a("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,1514195688)},[a("span",[e._v("Cancel")])])],1),a("v-text-field",{attrs:{dense:"",reverse:"","single-line":"","hide-details":"auto",label:"0.00"},model:{value:e.fields.rv_fund.cash_advances,callback:function(t){e.$set(e.fields.rv_fund,"cash_advances",t)},expression:"fields.rv_fund.cash_advances"}})],1):e._e()],1),a("div",[a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.getTotalOfRv),locale:"en","currency-code":"PHP"}})],1)])])],1)],1),a("v-divider"),a("v-expansion-panels",{staticClass:"mt-5 px-2",attrs:{multiple:""},model:{value:e.rvFundItemsPanel,callback:function(t){e.rvFundItemsPanel=t},expression:"rvFundItemsPanel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",{staticClass:"mr-1"},[e._v("Check Voucher Verification")]),e.canAddRvFundExpenses?a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){t.stopPropagation(),e.dialogs.add_edit_chk_voucher_verification=!0}}},[a("v-icon",[e._v("mdi-plus-circle")])],1):e._e()],1),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.5em"}},[a("v-btn",{staticStyle:{margin:"5px"},on:{click:function(t){return e.ckHistory()}}},[e._v("History")]),a("v-btn",{staticStyle:{margin:"5px"},on:{click:function(t){return e.Transmittal()}}},[e._v("Print Transmittal")]),a("span",{staticClass:"mr-1"},[e._v(" Total : ")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.check_voucher_verifications_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",style:e.canHaveActionInRvFundExpenses?"":"width:330px"},[e._v(" Date Transmitted ")]),a("th",{staticClass:"text-left",staticStyle:{width:"350px"}},[e._v("CK#")]),a("th",{staticClass:"text-left",style:e.canHaveActionInRvFundExpenses?"":"width:300px"},[e._v(" Status ")]),a("th",{staticClass:"text-left",style:e.canHaveActionInRvFundExpenses?"width:268px":""},[e._v(" Amount ")]),e.canHaveActionInRvFundExpenses?a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"123":"100")+"px"}},[e._v(" Actions ")]):e._e()])]),a("tbody",[0==e.chkVoucherVerifications.length?a("tr",[a("td",{attrs:{colspan:e.canHaveActionInRvFundExpenses?5:4}},[e._v(" No record found ")])]):e._l(e.chkVoucherVerifications,(function(t){return a("tr",{key:"chk_voucher_verification_"+t.id},[a("td",[e._v(" "+e._s(e.moment(t.date_transmitted).format("MM/DD/YY"))+" "),a("v-checkbox",{attrs:{label:"Print"},on:{change:function(a){return e.updatevalue(t.id)}},model:{value:e.toprintstat[t.id],callback:function(a){e.$set(e.toprintstat,t.id,a)},expression:"toprintstat[item.id]"}})],1),a("td",[e._v(e._s(t.ck_no))]),a("td",[e._v(" "+e._s(t.status)+" "),e.canEditRvFundExpensesStat?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.editChkVoucherVerificationStatus(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e()],1),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1),e.canHaveActionInRvFundExpenses?a("td",[e.canEditRvFundExpenses?a("v-btn",{attrs:{icon:"",small:"",disabled:"Transmittal"==t.status},on:{click:function(a){return e.editCheckVoucherVerification(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e(),e.canDeleteRvFundExpenses?a("v-btn",{attrs:{icon:"",small:"",disabled:"Pending"==t.status},on:{click:function(a){return e.deleteChkVerification(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-check")])],1):e._e()],1):e._e()])}))],2)]},proxy:!0}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",{staticClass:"mr-1"},[e._v("Check Voucher For Transmittal")]),e.canAddRvFundExpenses?a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){t.stopPropagation(),e.dialogs.add_edit_chk_voucher_for_trans=!0}}},[a("v-icon",[e._v("mdi-plus-circle")])],1):e._e()],1),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.5em"}},[a("span",{staticClass:"mr-1"},[e._v(" Total : ")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.check_voucher_for_transmittals_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"370":"328")+"px"}},[e._v(" Check Voucher Date ")]),a("th",{staticClass:"text-left"},[e._v("CK#")]),a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"270":"376")+"px"}},[e._v(" Amount ")]),e.canHaveActionInRvFundExpenses?a("th",{staticClass:"text-left",staticStyle:{width:"120px"}},[e._v(" Actions ")]):e._e()])]),a("tbody",[0==e.chkVoucherForTransmittals.length?a("tr",[a("td",{attrs:{colspan:e.canHaveActionInRvFundExpenses?4:3}},[e._v(" No record found ")])]):e._l(e.chkVoucherForTransmittals,(function(t){return a("tr",{key:"chk_voucher_for_transmittal_"+t.id},[a("td",[e._v(" "+e._s(e.moment(t.check_voucher_date).format("MM/DD/YY"))+" ")]),a("td",[e._v(e._s(t.ck_no))]),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1),e.canHaveActionInRvFundExpenses?a("td",[e.canEditRvFundExpenses?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.editCheckVoucherForTrans(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e(),e.canDeleteRvFundExpenses?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.deleteChkVoucherForTrans(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1):e._e(),e.canTransmitRvFundExpenses?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(a){return e.transmitChkVoucher(t)}}},"v-btn",n,!1),i),[a("v-icon",{attrs:{small:""}},[e._v("mdi-truck-outline")])],1)]}}],null,!0)},[a("span",[e._v("Transmit")])]):e._e()],1):e._e()])}))],2)]},proxy:!0}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",{staticClass:"mr-1"},[e._v("Expenses For Check Preparation")]),e.canAddRvFundExpenses?a("v-btn",{staticClass:"mr-1",attrs:{icon:""},nativeOn:{click:function(t){t.stopPropagation(),e.dialogs.add_edit_expenses_for_chk_prep=!0}}},[a("v-icon",[e._v("mdi-plus-circle")])],1):e._e(),e.canReplenishRvFundExpenses?a("v-btn",{staticClass:"align-self-center",attrs:{depressed:"",small:"",outlined:"",tile:"",disabled:0==e.selected_expenses.length},nativeOn:{click:function(t){t.stopPropagation(),e.dialogs.replenish_expenses=!0}}},[e._v("Replenish")]):e._e()],1),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.5em"}},[a("v-btn",{staticStyle:{margin:"5px"},on:{click:function(t){return e.expensesHistory()}}},[e._v("History")]),a("span",{staticClass:"mr-1"},[e._v(" Total : ")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.expenses_for_check_preparations_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[e.canReplenishRvFundExpenses?a("th",{staticStyle:{width:"5px"}},[a("v-checkbox",{attrs:{indeterminate:e.selected_expenses.length>0&&e.selected_expenses.length<e.expensesForChkPreparations.length},on:{click:function(t){return e.selectAllExpenses()}},model:{value:e.select_all_expenses,callback:function(t){e.select_all_expenses=t},expression:"select_all_expenses"}})],1):e._e(),a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"305":"328")+"px"}},[e._v(" PCV Date ")]),a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"305":"328")+"px"}},[e._v(" PAYEE ")]),a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"305":"328")+"px"}},[e._v(" GL Account ")]),a("th",{staticClass:"text-left"},[e._v("BIR")]),a("th",{staticClass:"text-left",style:{width:(e.canHaveActionInRvFundExpenses?"270":"374")+"px"}},[e._v(" Amount ")]),e.canHaveActionInRvFundExpenses?a("th",{staticClass:"text-left",staticStyle:{width:"120px"}},[e._v(" Actions ")]):e._e()])]),a("tbody",[0==e.expensesForChkPreparations.length?a("tr",[a("td",{attrs:{colspan:e.canHaveActionInRvFundExpenses?5:4}},[e._v(" No record found ")])]):e._l(e.expensesForChkPreparations,(function(t){return a("tr",{key:"expenses_for_chk_preparation_"+t.id},[e.canReplenishRvFundExpenses?a("td",[a("v-checkbox",{attrs:{value:t},model:{value:e.selected_expenses,callback:function(t){e.selected_expenses=t},expression:"selected_expenses"}})],1):e._e(),a("td",[e._v(" "+e._s(e.moment(t.pcv_date).format("MM/DD/YY"))+" ")]),a("td",[e._v(e._s(t.payee))]),a("td",[e._v(e._s(t.glaccounts))]),a("td",[1==t.tin?a("h1",[e._v("✓")]):e._e(),0==t.tin?a("h3",[e._v("None")]):e._e()]),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1),e.canHaveActionInRvFundExpenses?a("td",[e.canEditRvFundExpenses?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.editExpenseForChkPrep(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e(),e.canDeleteRvFundExpenses?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.deleteExpenseForChkPrep(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1):e._e()],1):e._e()])}))],2)]},proxy:!0}])})],1)],1)],1),a("v-list",[a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"text-right pb-2"},[a("money-format",{attrs:{value:parseFloat(e.getTotalOfRvFundItems),locale:"en","currency-code":"PHP"}})],1),a("v-divider"),a("div",{staticClass:"d-flex mt-1 text-h6"},[a("div",{staticClass:"font-weight-bold"},[e._v(" AVAILABLE REVOLVING FUND ON HAND ")]),a("div",{staticClass:"ml-auto font-weight-bold"},[a("money-format",{attrs:{value:parseFloat(e.getAvailRVFundOnHand),locale:"en","currency-code":"PHP"}})],1)])],1)],1)],1)],1)],1),e.canAddRvFundExpenses?a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialogs.add_edit_chk_voucher_verification,callback:function(t){e.$set(e.dialogs,"add_edit_chk_voucher_verification",t)},expression:"dialogs.add_edit_chk_voucher_verification"}},[a("v-card",[a("v-card-title",[e._v(e._s(this.isEditingRVFundItems?"Update Record":"Create New Record"))]),a("v-card-subtitle",[e._v(e._s(this.isEditingRVFundItems?"Update check voucher verification":"Add new check voucher verification"))]),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-menu",{ref:"date_transmitted_menu",attrs:{"close-on-content-click":!1,"return-value":e.fields.chk_voucher_verification.date_transmitted,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.fields.chk_voucher_verification,"date_transmitted",t)},"update:return-value":function(t){return e.$set(e.fields.chk_voucher_verification,"date_transmitted",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",value:e.formatDate(e.fields.chk_voucher_verification.date_transmitted),label:"As of Date","prepend-icon":"mdi-calendar",readonly:"",clearable:"","hide-details":"auto","error-messages":e.validation_errors.chk_voucher_verification.date_transmitted},on:{"click:clear":function(t){e.fields.chk_voucher_verification.date_transmitted=null}}},"v-text-field",i,!1),r))]}}],null,!1,1964342134),model:{value:e.menus_activator.date_transmitted,callback:function(t){e.$set(e.menus_activator,"date_transmitted",t)},expression:"menus_activator.date_transmitted"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.chk_voucher_verification.date_transmitted,callback:function(t){e.$set(e.fields.chk_voucher_verification,"date_transmitted",t)},expression:"fields.chk_voucher_verification.date_transmitted"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menus_activator.date_transmitted=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.date_transmitted_menu.save(e.fields.chk_voucher_verification.date_transmitted)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"",label:"Check no","prepend-icon":"mdi-checkbook","hide-details":"auto","error-messages":e.validation_errors.chk_voucher_verification.ck_no},model:{value:e.fields.chk_voucher_verification.ck_no,callback:function(t){e.$set(e.fields.chk_voucher_verification,"ck_no",t)},expression:"fields.chk_voucher_verification.ck_no"}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"","error-messages":e.validation_errors.chk_voucher_verification.amount,label:"Amount","prepend-icon":"mdi-cash-multiple","hide-details":"auto"},model:{value:e.fields.chk_voucher_verification.amount,callback:function(t){e.$set(e.fields.chk_voucher_verification,"amount",t)},expression:"fields.chk_voucher_verification.amount"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseChkVoucherVerificationDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.saveCheckVoucherVerification()}}},[e._v(" "+e._s(this.isEditingRVFundItems?"Update":"Add")+" ")])],1)],1)],1):e._e(),e.canEditRvFundExpensesStat?a("v-dialog",{attrs:{persistent:"","max-width":"320"},model:{value:e.dialogs.status_chk_voucher_verification,callback:function(t){e.$set(e.dialogs,"status_chk_voucher_verification",t)},expression:"dialogs.status_chk_voucher_verification"}},[a("v-card",[a("v-card-title",[e._v(" Update Status ")]),a("v-card-subtitle",[e._v("Update check verification status")]),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-select",{attrs:{dense:"","hide-details":"auto","prepend-icon":"mdi-truck-delivery",items:e.status,label:"Status"},model:{value:e.fields.chk_voucher_verification.status,callback:function(t){e.$set(e.fields.chk_voucher_verification,"status",t)},expression:"fields.chk_voucher_verification.status"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseChkVoucherVerificationStatDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.updateChkVoucherVerificationStatus()}}},[e._v(" Update ")])],1)],1)],1):e._e(),e.canAddRvFundExpenses?a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialogs.add_edit_chk_voucher_for_trans,callback:function(t){e.$set(e.dialogs,"add_edit_chk_voucher_for_trans",t)},expression:"dialogs.add_edit_chk_voucher_for_trans"}},[a("v-card",[a("v-card-title",[e._v(e._s(this.isEditingRVFundItems?"Update Record":"Create New Record"))]),a("v-card-subtitle",[e._v(e._s(this.isEditingRVFundItems?"Update check voucher for transmittal":"Add new check voucher for transmittal"))]),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-menu",{ref:"check_voucher_date_menu",attrs:{"close-on-content-click":!1,"return-value":e.fields.chk_voucher_for_trans.check_voucher_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.fields.chk_voucher_for_trans,"check_voucher_date",t)},"update:return-value":function(t){return e.$set(e.fields.chk_voucher_for_trans,"check_voucher_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",value:e.formatDate(e.fields.chk_voucher_for_trans.check_voucher_date),label:"Check Voucher Date","prepend-icon":"mdi-calendar",readonly:"",clearable:"","hide-details":"auto","error-messages":e.validation_errors.chk_voucher_for_trans.check_voucher_date},on:{"click:clear":function(t){e.fields.chk_voucher_for_trans.check_voucher_date=null}}},"v-text-field",i,!1),r))]}}],null,!1,3905802144),model:{value:e.menus_activator.check_voucher_date,callback:function(t){e.$set(e.menus_activator,"check_voucher_date",t)},expression:"menus_activator.check_voucher_date"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.chk_voucher_for_trans.check_voucher_date,callback:function(t){e.$set(e.fields.chk_voucher_for_trans,"check_voucher_date",t)},expression:"fields.chk_voucher_for_trans.check_voucher_date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menus_activator.check_voucher_date=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.check_voucher_date_menu.save(e.fields.chk_voucher_for_trans.check_voucher_date)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"",label:"Check no","prepend-icon":"mdi-checkbook","hide-details":"auto","error-messages":e.validation_errors.chk_voucher_for_trans.ck_no},model:{value:e.fields.chk_voucher_for_trans.ck_no,callback:function(t){e.$set(e.fields.chk_voucher_for_trans,"ck_no",t)},expression:"fields.chk_voucher_for_trans.ck_no"}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"","error-messages":e.validation_errors.chk_voucher_for_trans.amount,label:"Amount","prepend-icon":"mdi-cash-multiple","hide-details":"auto"},model:{value:e.fields.chk_voucher_for_trans.amount,callback:function(t){e.$set(e.fields.chk_voucher_for_trans,"amount",t)},expression:"fields.chk_voucher_for_trans.amount"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseChkVoucherForTransDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.saveCheckVoucherForTrans()}}},[e._v(" "+e._s(this.isEditingRVFundItems?"Update":"Add")+" ")])],1)],1)],1):e._e(),e.canAddRvFundExpenses?a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialogs.add_edit_expenses_for_chk_prep,callback:function(t){e.$set(e.dialogs,"add_edit_expenses_for_chk_prep",t)},expression:"dialogs.add_edit_expenses_for_chk_prep"}},[a("v-card",[a("v-card-title",[e._v(e._s(this.isEditingRVFundItems?"Update Record":"Create New Record"))]),a("v-card-subtitle",[e._v(e._s(this.isEditingRVFundItems?"Update expense for check preparation":"Add new expense for check preparation"))]),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-menu",{ref:"pcv_date_menu",attrs:{"close-on-content-click":!1,"return-value":e.fields.expense_for_chk_prep.pcv_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.fields.expense_for_chk_prep,"pcv_date",t)},"update:return-value":function(t){return e.$set(e.fields.expense_for_chk_prep,"pcv_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",value:e.formatDate(e.fields.expense_for_chk_prep.pcv_date),label:"PCV Date","prepend-icon":"mdi-calendar",readonly:"",clearable:"","hide-details":"auto","error-messages":e.validation_errors.expense_for_chk_prep.pcv_date},on:{"click:clear":function(t){e.fields.expense_for_chk_prep.pcv_date=null}}},"v-text-field",i,!1),r))]}}],null,!1,1755163416),model:{value:e.menus_activator.pcv_date,callback:function(t){e.$set(e.menus_activator,"pcv_date",t)},expression:"menus_activator.pcv_date"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.expense_for_chk_prep.pcv_date,callback:function(t){e.$set(e.fields.expense_for_chk_prep,"pcv_date",t)},expression:"fields.expense_for_chk_prep.pcv_date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menus_activator.pcv_date=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.pcv_date_menu.save(e.fields.expense_for_chk_prep.pcv_date)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-autocomplete",{attrs:{dense:"","hide-details":"auto","prepend-icon":"mdi-truck-delivery",items:e.glaccountList.data,"item-text":"AcctName","item-value":"AcctName",label:"GL Account"},model:{value:e.fields.expense_for_chk_prep.glaccounts,callback:function(t){e.$set(e.fields.expense_for_chk_prep,"glaccounts",t)},expression:"fields.expense_for_chk_prep.glaccounts"}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-checkbox",{attrs:{label:"w/TIN"},model:{value:e.fields.expense_for_chk_prep.tin,callback:function(t){e.$set(e.fields.expense_for_chk_prep,"tin",t)},expression:"fields.expense_for_chk_prep.tin"}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"","error-messages":e.validation_errors.expense_for_chk_prep.amount,label:"Payee","prepend-icon":"mdi-account","hide-details":"auto"},model:{value:e.fields.expense_for_chk_prep.payee,callback:function(t){e.$set(e.fields.expense_for_chk_prep,"payee",t)},expression:"fields.expense_for_chk_prep.payee"}})],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{dense:"","error-messages":e.validation_errors.expense_for_chk_prep.amount,label:"Amount","prepend-icon":"mdi-cash-multiple","hide-details":"auto"},model:{value:e.fields.expense_for_chk_prep.amount,callback:function(t){e.$set(e.fields.expense_for_chk_prep,"amount",t)},expression:"fields.expense_for_chk_prep.amount"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseExpenseForChkPrepDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.saveExpenseForChkPrep()}}},[e._v(" "+e._s(this.isEditingRVFundItems?"Update":"Add")+" ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"max-width":"550",persistent:""},model:{value:e.dialogs.replenish_expenses,callback:function(t){e.$set(e.dialogs,"replenish_expenses",t)},expression:"dialogs.replenish_expenses"}},[a("v-card",[a("v-card-title",[e._v("Replenish Expenses")]),a("v-card-subtitle",{staticClass:"pb-1"},[e._v("Replenishing expenses for check preparation")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-menu",{ref:"replenish_chk_voucher_date_menu",attrs:{"close-on-content-click":!1,"return-value":e.fields.replenish_expenses.check_voucher_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.fields.replenish_expenses,"check_voucher_date",t)},"update:return-value":function(t){return e.$set(e.fields.replenish_expenses,"check_voucher_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.formatDate(e.fields.replenish_expenses.check_voucher_date),label:"Check Voucher Date","prepend-inner-icon":"mdi-calendar",readonly:"",clearable:"","hide-details":"auto","error-messages":e.validation_errors.replenish_expenses.check_voucher_date},on:{"click:clear":function(t){e.fields.replenish_expenses.check_voucher_date=null}}},"v-text-field",i,!1),r))]}}]),model:{value:e.menus_activator.replenish_chk_voucher_date,callback:function(t){e.$set(e.menus_activator,"replenish_chk_voucher_date",t)},expression:"menus_activator.replenish_chk_voucher_date"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.replenish_expenses.check_voucher_date,callback:function(t){e.$set(e.fields.replenish_expenses,"check_voucher_date",t)},expression:"fields.replenish_expenses.check_voucher_date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menus_activator.replenish_chk_voucher_date=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.replenish_chk_voucher_date_menu.save(e.fields.replenish_expenses.check_voucher_date)}}},[e._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Check No","prepend-inner-icon":"mdi-checkbook","hide-details":"auto","error-messages":e.validation_errors.replenish_expenses.ck_no},model:{value:e.fields.replenish_expenses.ck_no,callback:function(t){e.$set(e.fields.replenish_expenses,"ck_no",t)},expression:"fields.replenish_expenses.ck_no"}})],1)],1),a("div",{staticClass:"text-body-1 mt-5 mb-1"},[e._v("Particulars")]),e._l(e.selected_expenses,(function(t,r){return a("div",{key:t.id,staticClass:"d-flex text-body-2"},[a("div",{staticClass:"mr-1"},[e._v(e._s(r+1+") "))]),a("div",[e._v(e._s(t.particulars))]),a("div",{staticClass:"ml-auto"},[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1)])})),a("v-divider"),a("div",{staticClass:"d-flex mt-1 text-body-1"},[a("div",{staticClass:"t"},[e._v("Total")]),a("div",{staticClass:"ml-auto"},[a("money-format",{attrs:{value:parseFloat(e.getSelectedExpensesTotal),locale:"en","currency-code":"PHP"}})],1)])],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseReplenishExpensesDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.replenishExpenses()}}},[e._v(" Submit ")])],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogHistory,callback:function(t){e.dialogHistory=t},expression:"dialogHistory"}},[a("v-card",[a("v-toolbar",{attrs:{color:"dark"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialogHistory=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(e._s(e.rv_fund_with_expense_items.branch)+" History")]),a("v-spacer"),a("v-toolbar-item",[0==e.historyIdentify.iden?a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({staticStyle:{"margin-top":"10px"},attrs:{"prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",i,!1),r))]}}],null,!1,3952207273),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.date)||e.searchDate()}}},[e._v(" OK ")])],1)],1):e._e()],1),a("v-toolbar-items",[0==e.historyIdentify.iden?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.printBIR(e.rv_fund_with_expense_items.branch)}}},[e._v(" Print ")]):e._e()],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v(e._s(e.historyIdentify.title))]),a("v-list-item",[a("v-list-item-content",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),0==e.historyIdentify.iden?a("v-checkbox",{attrs:{label:1==e.FilterBIR?"With BIR":"ALL/With BIR"},on:{click:e.filterbir},model:{value:e.FilterBIR,callback:function(t){e.FilterBIR=t},expression:"FilterBIR"}}):e._e()],1),a("v-data-table",{attrs:{headers:e.headers2,items:e.historyDATA,search:e.search},scopedSlots:e._u([{key:"item.tin",fn:function(t){var r=t.item;return[a("strong",[e._v(e._s(1==r.tin?"With BIR":"None"))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},$n=[],Un=(a("b680"),a("c1df")),qn=a.n(Un),Ln={components:{"money-format":$i["a"]},mounted:function(){this.$store.dispatch("userPermissions/fetchPermission"),this.refreshRvFunds(),this.$store.dispatch("revolving_fund_list/fetchGLaccount")},data:function(){return{toprintstat:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,value:{tin:1,date:(new Date).toISOString().substr(0,7)},headers:[{text:"BRANCH",value:"branch"},{text:"REVOLVING FUND",value:"fund"},{text:"CASH ADVANCES",value:"cash_advances"},{text:"AS OF DATE",value:"as_of"},{text:"SUBMITTED DATE",value:"submitted_date"},{text:"ACTION",value:"action",sortable:!1}],historyIdentify:{},headers2:[],historyDATA:[],FilterBIR:!1,search:"",selected_items:[],withBIR:!1,dialogHistory:!1,dialogs:{view_revolving_fund:!1,add_edit_chk_voucher_verification:!1,status_chk_voucher_verification:!1,add_edit_chk_voucher_for_trans:!1,add_edit_expenses_for_chk_prep:!1,replenish_expenses:!1},fields:{rv_fund:{cash_advances:0},chk_voucher_verification:{date_transmitted:null,ck_no:"",amount:""},chk_voucher_for_trans:{check_voucher_date:null,ck_no:"",amount:""},expense_for_chk_prep:{pcv_date:null,particulars:"",amount:"",glaccounts:"",tin:!1,payee:""},replenish_expenses:{check_voucher_date:null,ck_no:"",amount:""}},validation_errors:{rv_fund:{},chk_voucher_verification:{},chk_voucher_for_trans:{},expense_for_chk_prep:{},replenish_expenses:{}},selected_index:{rv_fund:-1,rv_fund_items:-1},menus_activator:{date_transmitted:!1,check_voucher_date:!1,pcv_date:!1,replenish_chk_voucher_date:!1},isEditingCashAdvances:!1,rvFundItemsPanel:[],status:["Pending","Transmittal"],selected_expenses:[],select_all_expenses:!1,branch_selected:""}},methods:{searchDate:function(){var e=this;this.headers2=[{text:"PCV DATE",align:"start",value:"pcv_date"},{text:"PAYEE",align:"start",value:"payee"},{text:"AMOUNT",align:"start",value:"amount"},{text:"BIR",align:"start",value:"tin"},{text:"GL ACCOUNT",align:"start",value:"glaccounts"},{text:"STATUS",align:"start",value:"status"}],this.value.date=this.date,this.$store.dispatch("revolving_fund_list/fetchPreparationHistory",this.value).then((function(t){e.historyDATA=t}))},updatevalue:function(e){var t={id:e,stat:this.toprintstat[e]};this.$store.dispatch("revolving_fund_list/toprint",t)},Transmittal:function(){this.$store.dispatch("revolving_fund_list/PrintTransmittal",this.rv_fund_with_expense_items.branch)},printBIR:function(){this.$store.dispatch("revolving_fund_list/PrintBIR",this.value)},refreshRvFunds:function(){this.$store.dispatch("revolving_fund_list/fetchRevolvingFunds")},viewRevolvingFund:function(e){var t=this;this.$store.dispatch("revolving_fund_list/viewRevolvingFund",{id:e.id}).then((function(e){t.setRvFieldsData(e)})),this.selected_index.rv_fund=this.revolving_funds.indexOf(e),this.dialogs.view_revolving_fund=!0,this.branch_selected=e},saveCashAdv:function(){var e=this;this.$store.dispatch("revolving_fund_list/updateCashAdvances",this.fields.rv_fund).then((function(t){var a=t.status,r=t.data;if(200==a){var i=r.cashAdvances;e.revolving_funds[e.selected_index.rv_fund].cash_advances=i,e.rv_fund_with_expense_items.cash_advances=i,e.cancelUpdatingCashAdv()}}))},cancelUpdatingCashAdv:function(){this.isEditingCashAdvances=!1,this.setRvFieldsData(this.rv_fund_with_expense_items)},onCloseViewRVFundDialog:function(){this.resetValidationErrors(),this.selected_index.rv_fund=-1,this.fields.rv_fund={cash_advances:0},this.dialogs.view_revolving_fund=!1,this.isEditingCashAdvances=!1,this.rvFundItemsPanel=[]},setRvFieldsData:function(e){this.fields.rv_fund={id:e.id,cash_advances:e.cash_advances}},printRvFundsSummary:function(){this.$store.dispatch("revolving_fund_list/printRvFundsSummary",{id:this.rv_fund_with_expense_items.id})},saveCheckVoucherVerification:function(){var e=this;this.isEditingRVFundItems||(this.fields.chk_voucher_verification.rv_fund_id=this.rv_fund_with_expense_items.id),this.$store.dispatch("revolving_fund_list/"+(this.isEditingRVFundItems?"updateCheckVoucherVerification":"createCheckVoucherVerification"),this.fields.chk_voucher_verification).then((function(t){console.log(t);var a=t.status,r=t.data;if(e.resetValidationErrors(),422==a)e.validation_errors.chk_voucher_verification=r.errors;else if(200==a){var i=r.item;e.isEditingRVFundItems?e.chkVoucherVerifications.splice(e.selected_index.rv_fund_items,1,i):e.chkVoucherVerifications.push(i),e.rvFundItemsPanel.includes(0)||e.rvFundItemsPanel.push(0),e.$store.commit("revolving_fund_list/setChkVoucherVerificationsTotal",r.totalthis.value),e.onCloseChkVoucherVerificationDialog()}}))},onCloseChkVoucherVerificationDialog:function(){this.resetValidationErrors(),this.fields.chk_voucher_verification={},this.dialogs.add_edit_chk_voucher_verification=!1,this.selected_index.rv_fund_items=-1},editCheckVoucherVerification:function(e){this.selected_index.rv_fund_items=this.chkVoucherVerifications.indexOf(e),this.fields.chk_voucher_verification={id:e.id,date_transmitted:e.date_transmitted,ck_no:e.ck_no,amount:e.amount},this.dialogs.add_edit_chk_voucher_verification=!0},editChkVoucherVerificationStatus:function(e){this.selected_index.rv_fund_items=this.chkVoucherVerifications.indexOf(e),this.fields.chk_voucher_verification={id:e.id,status:e.status},this.dialogs.status_chk_voucher_verification=!0},updateChkVoucherVerificationStatus:function(){var e=this;this.$store.dispatch("revolving_fund_list/updateChkVoucherVerificationStatus",this.fields.chk_voucher_verification).then((function(t){var a=t.status,r=t.data;200==a&&(e.chkVoucherVerifications.splice(e.selected_index.rv_fund_items,1,r.item),e.onCloseChkVoucherVerificationStatDialog())}))},onCloseChkVoucherVerificationStatDialog:function(){this.dialogs.status_chk_voucher_verification=!1,this.fields.chk_voucher_verification={},this.selected_index.rv_fund_items=-1},deleteChkVerification:function(e){var t=this;this.$dialog.warning({text:"Check Voucher Acceptance",title:"Confirm Accept",actions:{true:{text:"Accept",color:"success"}}}).then((function(a){a&&t.$store.dispatch("revolving_fund_list/deleteChkVoucherVerification",{id:e.id}).then((function(a){var r=a.status,i=a.data;200==r&&(t.chkVoucherVerifications.splice(t.chkVoucherVerifications.indexOf(e),1),t.$store.commit("revolving_fund_list/setChkVoucherVerificationsTotal",i.total),t.viewRevolvingFund(t.branch_selected))}))}))},saveCheckVoucherForTrans:function(){var e=this;this.isEditingRVFundItems||(this.fields.chk_voucher_for_trans.rv_fund_id=this.rv_fund_with_expense_items.id),this.$store.dispatch("revolving_fund_list/"+(this.isEditingRVFundItems?"updateCheckVoucherForTransmittal":"createCheckVoucherForTransmittal"),this.fields.chk_voucher_for_trans).then((function(t){console.log(t);var a=t.status,r=t.data;if(e.resetValidationErrors(),422==a)e.validation_errors.chk_voucher_for_trans=r.errors;else if(200==a){var i=r.item;e.isEditingRVFundItems?e.chkVoucherForTransmittals.splice(e.selected_index.rv_fund_items,1,i):e.chkVoucherForTransmittals.push(i),e.rvFundItemsPanel.includes(1)||e.rvFundItemsPanel.push(1),e.$store.commit("revolving_fund_list/setChkVoucherForTransmittalTotal",r.total),e.onCloseChkVoucherForTransDialog()}}))},onCloseChkVoucherForTransDialog:function(){this.resetValidationErrors(),this.fields.chk_voucher_for_trans={},this.dialogs.add_edit_chk_voucher_for_trans=!1,this.selected_index.rv_fund_items=-1},editCheckVoucherForTrans:function(e){this.selected_index.rv_fund_items=this.chkVoucherForTransmittals.indexOf(e),this.fields.chk_voucher_for_trans={id:e.id,check_voucher_date:e.check_voucher_date,ck_no:e.ck_no,amount:e.amount},this.dialogs.add_edit_chk_voucher_for_trans=!0},deleteChkVoucherForTrans:function(e){var t=this;this.$dialog.warning({text:"Are you sure to delete this item?",title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(a){a&&t.$store.dispatch("revolving_fund_list/deleteChkVoucherForTransmittal",{id:e.id}).then((function(a){var r=a.status,i=a.data;200==r&&(t.chkVoucherForTransmittals.splice(t.chkVoucherForTransmittals.indexOf(e),1),t.$store.commit("revolving_fund_list/setChkVoucherForTransmittalTotal",i.total))}))}))},transmitChkVoucher:function(e){var t=this;this.$dialog.info({text:"Are you sure to trasmit this item?",title:"Confirm Transmit",actions:{false:"Cancel",true:{text:"Confirm",color:"info"}}}).then((function(a){a&&(console.log(a),t.$store.dispatch("revolving_fund_list/transmitChkVoucher",{id:e.id}).then((function(a){var r=a.status,i=a.data;if(200==r){var n=t.chkVoucherForTransmittals;n.splice(n.indexOf(e),1),t.chkVoucherVerifications.push(i.item),t.viewRevolvingFund(t.branch_selected)}})))}))},ckHistory:function(){var e=this;this.historyIdentify={title:"Check Voucher Verification History",iden:1},this.headers2=[{text:"DATE TRANSMITTED",align:"start",value:"DATETRANSMITTED"},{text:"CK#",align:"start",value:"ck_no"},{text:"AMOUNT",align:"start",value:"AMOUNT"},{text:"FUND",align:"start",value:"fund"},{text:"BRANCH",align:"start",value:"BRANCH"},{text:"STATUS",align:"start",value:"status"}],this.value={branch:this.rv_fund_with_expense_items.branch},this.$store.dispatch("revolving_fund_list/fetchckHistory",this.value).then((function(t){e.historyDATA=t})),this.dialogHistory=!0},expensesHistory:function(){var e=this;this.historyIdentify={title:"Expenses For Check Preparation History",iden:0},this.headers2=[{text:"PCV DATE",align:"start",value:"pcv_date"},{text:"PAYEE",align:"start",value:"payee"},{text:"AMOUNT",align:"start",value:"amount"},{text:"BIR",align:"start",value:"tin"},{text:"GL ACCOUNT",align:"start",value:"glaccounts"},{text:"STATUS",align:"start",value:"status"}],this.value={tin:1,date:this.date,branch:this.rv_fund_with_expense_items.branch},this.$store.dispatch("revolving_fund_list/fetchPreparationHistory",this.value).then((function(t){e.historyDATA=t})),this.dialogHistory=!0},filterbir:function(){var e=this;1==this.FilterBIR?this.value={tin:1,date:this.date,branch:this.rv_fund_with_expense_items.branch}:this.value={tin:0,date:this.date,branch:this.rv_fund_with_expense_items.branch},this.headers2=[{text:"PCV DATE",align:"start",value:"pcv_date"},{text:"PAYEE",align:"start",value:"payee"},{text:"AMOUNT",align:"start",value:"amount"},{text:"BIR",align:"start",value:"tin"},{text:"GL ACCOUNT",align:"start",value:"glaccounts"},{text:"STATUS",align:"start",value:"status"}],this.$store.dispatch("revolving_fund_list/fetchPreparationHistory",this.value).then((function(t){e.historyDATA=t}))},saveExpenseForChkPrep:function(){var e=this;this.isEditingRVFundItems||(this.fields.expense_for_chk_prep.rv_fund_id=this.rv_fund_with_expense_items.id),this.$store.dispatch("revolving_fund_list/"+(this.isEditingRVFundItems?"updateExpenseForChkPreparation":"createExpenseForChkPreparation"),this.fields.expense_for_chk_prep).then((function(t){var a=t.status,r=t.data;if(e.resetValidationErrors(),422==a)e.validation_errors.expense_for_chk_prep=r.errors;else if(200==a){var i=r.item;e.isEditingRVFundItems?e.expensesForChkPreparations.splice(e.selected_index.rv_fund_items,1,i):e.expensesForChkPreparations.push(i),e.rvFundItemsPanel.includes(2)||e.rvFundItemsPanel.push(2),e.$store.commit("revolving_fund_list/setExpensesForChkPreparationTotal",r.total),e.onCloseExpenseForChkPrepDialog()}e.fields.expense_for_chk_prep.tin=!1,e.selected_expenses=[],e.$store.dispatch("revolving_fund_list/fetchRevolvingFunds")}))},onCloseExpenseForChkPrepDialog:function(){this.resetValidationErrors(),this.fields.expense_for_chk_prep={},this.dialogs.add_edit_expenses_for_chk_prep=!1,this.selected_index.rv_fund_items=-1},editExpenseForChkPrep:function(e){this.selected_index.rv_fund_items=this.expensesForChkPreparations.indexOf(e),this.fields.expense_for_chk_prep={id:e.id,glaccounts:e.glaccounts,pcv_date:e.pcv_date,particulars:1,payee:e.payee,tin:1==e.tin,amount:e.amount},this.dialogs.add_edit_expenses_for_chk_prep=!0},deleteExpenseForChkPrep:function(e){var t=this;this.$dialog.warning({text:"Are you sure to delete this item?",title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(a){a&&t.$store.dispatch("revolving_fund_list/deleteExpenseForChkPreparation",{id:e.id}).then((function(a){var r=a.status,i=a.data;200==r&&(t.expensesForChkPreparations.splice(t.expensesForChkPreparations.indexOf(e),1),t.$store.commit("revolving_fund_list/setExpensesForChkPreparationTotal",i.total))}))}))},selectAllExpenses:function(){var e=this;this.select_all_expenses?this.expensesForChkPreparations.forEach((function(t){e.selected_expenses.includes(t)||e.selected_expenses.push(t)})):this.selected_expenses=[]},replenishExpenses:function(){var e=this,t=this.fields.replenish_expenses;t.rv_fund_id=this.rv_fund_with_expense_items.id,t.amount=this.getSelectedExpensesTotal,t.items=this.selected_expenses,console.log(t),this.$store.dispatch("revolving_fund_list/replenishExpenses",t).then((function(t){e.select_all_expenses=!1;var a=t.status,r=t.data;if(e.resetValidationErrors(),422==a)e.validation_errors.replenish_expenses=r.errors;else if(200==a){var i=e.expensesForChkPreparations;e.selected_expenses.forEach((function(e){i.splice(i.indexOf(e),1)})),e.chkVoucherForTransmittals.push(r.item),e.dialogs.replenish_expenses=!1,e.viewRevolvingFund(e.branch_selected)}e.selected_expenses.length=[]}))},onCloseReplenishExpensesDialog:function(){this.resetValidationErrors(),this.dialogs.replenish_expenses=!1,this.branch_selected=""},resetValidationErrors:function(){this.validation_errors={rv_fund:{},chk_voucher_verification:{},chk_voucher_for_trans:{},expense_for_chk_prep:{},replenish_expenses:{}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({glaccountList:"revolving_fund_list/getGlAccount",revolving_funds:"revolving_fund_list/getRevolvingFunds",historydata:"revolving_fund_list/getHistory",ckhistory:"revolving_fund_list/getckHistory",rv_fund_with_expense_items:"revolving_fund_list/getRvFundWithExpenseItems",permissions:"userPermissions/getPermission"})),{},{currentUser:function(){return this.$store.getters.currentUser},formatDate:function(){return function(e){return e?qn()(e).format("MMMM DD, YYYY"):""}},getTotalOfRv:function(){var e=this.rv_fund_with_expense_items;return e?parseFloat(parseFloat(e.fund||0)+parseFloat(e.cash_advances||0)).toFixed(2):0},getTotalOfRvFundItems:function(){return parseFloat(this.chkVoucherVerificationsTotal)+parseFloat(this.chkVoucherForTransmittalsTotal)+parseFloat(this.expensesForChkPreparationsTotal)},getAvailRVFundOnHand:function(){return parseFloat(this.getTotalOfRv-this.getTotalOfRvFundItems).toFixed(2)},chkVoucherVerifications:function(){return this.rv_fund_with_expense_items.check_voucher_verifications},chkVoucherVerificationsTotal:function(){return this.rv_fund_with_expense_items.check_voucher_verifications_total},chkVoucherForTransmittals:function(){return this.rv_fund_with_expense_items.check_voucher_for_transmittals},chkVoucherForTransmittalsTotal:function(){return this.rv_fund_with_expense_items.check_voucher_for_transmittals_total},expensesForChkPreparations:function(){return this.rv_fund_with_expense_items.expenses_for_check_preparations},expensesForChkPreparationsTotal:function(){return this.rv_fund_with_expense_items.expenses_for_check_preparations_total},isEditingRVFundItems:function(){return this.selected_index.rv_fund_items>=0},loadingStatus:function(){return this.$store.state.loading},checkIfHasPermission:function(){var e=this;return function(t){return e.permissions.includes(t)}},canEditCashAdvances:function(){return this.checkIfHasPermission("Edit Revolving Fund Cash Advances")},canAddRvFundExpenses:function(){return this.checkIfHasPermission("Add Revolving Fund Expenses")},canEditRvFundExpenses:function(){return this.checkIfHasPermission("Edit Revolving Fund Expenses")},canDeleteRvFundExpenses:function(){return this.checkIfHasPermission("Delete Revolving Fund Expenses")},canEditRvFundExpensesStat:function(){return this.checkIfHasPermission("Edit Revolving Fund Expenses Status")},canReplenishRvFundExpenses:function(){return this.checkIfHasPermission("Replenish Revolving Fund Expenses")},canTransmitRvFundExpenses:function(){return this.checkIfHasPermission("Transmit Revolving Fund Expenses")},canHaveActionInRvFundExpenses:function(){return this.canEditRvFundExpenses||this.canDeleteRvFundExpenses},getSelectedExpensesTotal:function(){var e=0;return this.selected_expenses.forEach((function(t){e+=parseFloat(t.amount)})),e}}),watch:{getAvailRVFundOnHand:function(e){this.permissions.includes("Update Available Revolving Fund On Hand")&&(console.log(e,"val"),this.$store.dispatch("revolving_fund_list/updateAvailRevolvingFundOnHand",{id:this.rv_fund_with_expense_items.id,avail_fund_on_hand:e}))},selected_expenses:function(e,t){this.select_all_expenses=e.length===this.expensesForChkPreparations.length}}},Mn=Ln,Bn=(a("e143"),a("ac7c")),Fn=a("e0c7"),Gn=Object(m["a"])(Mn,Nn,$n,!1,null,"a94c1c64",null),jn=Gn.exports;p()(Gn,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VExpansionPanel:at["a"],VExpansionPanelContent:rt["a"],VExpansionPanelHeader:it["a"],VExpansionPanels:nt["a"],VIcon:f["a"],VList:_["a"],VListItem:b["a"],VListItemContent:y["a"],VMenu:Fr["a"],VRow:pt["a"],VSelect:O["a"],VSimpleTable:Qr["a"],VSpacer:P["a"],VSubheader:Fn["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,loading:e.loadingStatus,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Available Revolving Fund On Hand")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.refreshData()}}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printAvailRFOnHandReports()}}},r),[a("v-icon",[e._v("mdi-printer")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.revolving_fund",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.revolving_fund),locale:"en","currency-code":"PHP"}})]}},{key:"item.cash_advances",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.cash_advances),locale:"en","currency-code":"PHP"}})]}},{key:"item.avail_fund_on_hand",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.avail_fund_on_hand),locale:"en","currency-code":"PHP"}})]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.editDetails(r,e.row=null)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.viewDetails(r)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-eye")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.viewHistory(r)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-history")])],1)]}},{key:"footer",fn:function(){return[a("v-divider"),a("div",{staticClass:"d-flex my-2"},[a("div",{staticClass:"ml-4",staticStyle:{width:"16.8em"}},[e._v("Total")]),a("div",{staticClass:"ml-4 d-flex d-inline-block subtitle-1",staticStyle:{width:"11em"}},[a("money-format",{attrs:{value:parseFloat(e.rvFundsTotal),locale:"en","currency-code":"PHP"}})],1),a("div",{staticClass:"ml-4 d-flex subtitle-1",staticStyle:{width:"10.7em"}},[a("money-format",{attrs:{value:parseFloat(e.rvCashAdvTotal),locale:"en","currency-code":"PHP"}})],1),a("div",{staticClass:"ml-4 d-flex d-inline-block subtitle-1"},[a("money-format",{attrs:{value:parseFloat(e.availRFundsTotal),locale:"en","currency-code":"PHP"}})],1)])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"350",persistent:""},model:{value:e.dialogs.edit_rf,callback:function(t){e.$set(e.dialogs,"edit_rf",t)},expression:"dialogs.edit_rf"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6 mb-1"},[e._v(" Update Fund ")]),a("v-card-subtitle",{staticClass:"pb-1",staticStyle:{"line-height":"normal"}},[e._v("Edit Fund of "+e._s(e.selected_branch)+" branch")]),a("v-card-text",[a("v-text-field",{attrs:{"error-messages":e.validation_errors.fund,label:"Revolving Fund","hide-details":"auto"},on:{keypress:e.onlyNumber},model:{value:e.fields.fund,callback:function(t){e.$set(e.fields,"fund",t)},expression:"fields.fund"}}),a("v-text-field",{staticClass:"mt-5",attrs:{"error-messages":e.validation_errors.cash_advances,label:"Cash Advances","hide-details":"auto"},on:{keypress:e.onlyNumber},model:{value:e.fields.cash_advances,callback:function(t){e.$set(e.fields,"cash_advances",t)},expression:"fields.cash_advances"}}),a("v-radio-group",{attrs:{row:""},model:{value:e.row,callback:function(t){e.row=t},expression:"row"}},[a("v-radio",{attrs:{label:"OUTGOING",value:"PS"}}),a("v-radio",{attrs:{label:"INCOMING",value:"RC"}})],1),a("v-text-field",{staticClass:"mt-4",attrs:{"error-messages":e.validation_errors.or,label:"DOCUMENT NO","hide-details":"auto",dense:"",type:"integer",maxlength:8},on:{keypress:e.onlyNumber},model:{value:e.fields.or,callback:function(t){e.$set(e.fields,"or",t)},expression:"fields.or"}},[a("strong",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(" "+e._s(e.row)+"-")])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onCloseEditDetailsDialog()}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.saveDetailsDialog()}}},[e._v(" Update ")])],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogs.summary_of_rf,callback:function(t){e.$set(e.dialogs,"summary_of_rf",t)},expression:"dialogs.summary_of_rf"}},[a("v-card",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialogs.summary_of_rf=!1,e.rvFundItemsPanel=[]}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Summary of Revolving Fund")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.printRvFundsSummary()}}},[e._v(" Print")])],1)],1),a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("BRANCH:")]),a("span",{staticClass:"text-uppercase"},[e._v(e._s(e.rv_fund_with_expense_items.branch))])]),a("div",{staticClass:"d-inline-flex align-center ml-auto"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("SUBMITTED DATE:")]),a("span",[e._v(e._s(e.rv_fund_with_expense_items.submitted_date))])])]),a("div",{staticClass:"d-inline-flex align-center"},[a("span",{staticClass:"font-weight-bold mr-1"},[e._v("AS OF:")]),a("span",[e._v(e._s(e.moment(e.rv_fund_with_expense_items.as_of).format("MMM DD, YYYY")))])])])],1),a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"},[e._v("REVOLVING FUND:")]),a("div",{staticStyle:{"margin-right":"8.5em"}},[a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.rv_fund_with_expense_items.fund),locale:"en","currency-code":"PHP"}})],1)]),a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"mr-auto d-flex align-center"},[a("span",[e._v("CASH ADVANCES: Marketing Activities")])]),a("div",{staticStyle:{"margin-right":"3.4em"}},[a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.rv_fund_with_expense_items.cash_advances),locale:"en","currency-code":"PHP"}})],1),a("div",[a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(e.getTotalOfRv),locale:"en","currency-code":"PHP"}})],1)])])],1)],1),a("v-divider"),a("v-expansion-panels",{staticClass:"mt-5 px-2",attrs:{multiple:""},model:{value:e.rvFundItemsPanel,callback:function(t){e.rvFundItemsPanel=t},expression:"rvFundItemsPanel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",{staticClass:"mr-1"},[e._v("Check Voucher Verification")])]),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.6em"}},[a("span",{staticClass:"mr-1"},[e._v(" Total : ")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.check_voucher_verifications_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"352px"}},[e._v(" Date Transmitted ")]),a("th",{staticClass:"text-left",staticStyle:{width:"400px"}},[e._v("CK#")]),a("th",{staticClass:"text-left",staticStyle:{width:"200px"}},[e._v("Status")]),a("th",{staticClass:"text-left"},[e._v("Amount")])])]),a("tbody",[0==e.chkVoucherVerifications.length?a("tr",[a("td",{attrs:{colspan:"4"}},[e._v("No record found")])]):e._l(e.chkVoucherVerifications,(function(t){return a("tr",{key:"chk_voucher_verification_"+t.id},[a("td",[e._v(" "+e._s(e.moment(t.date_transmitted).format("MM/DD/YY"))+" ")]),a("td",[e._v(e._s(t.ck_no))]),a("td",[e._v(" "+e._s(t.status)+" ")]),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1)])}))],2)]},proxy:!0}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",[e._v(" Check Voucher For Transmittal")])]),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.6em"}},[a("span",{staticClass:"mr-1"},[e._v("Total:")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.check_voucher_for_transmittals_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"350px"}},[e._v(" Check Voucher Date ")]),a("th",{staticClass:"text-left",staticStyle:{width:"600px"}},[e._v("CK#")]),a("th",{staticClass:"text-left"},[e._v("Amount")])])]),a("tbody",[0==e.chkVoucherForTransmittals.length?a("tr",[a("td",{attrs:{colspan:"3"}},[e._v("No record found")])]):e._l(e.chkVoucherForTransmittals,(function(t){return a("tr",{key:"chk_voucher_for_transmittal_"+t.id},[a("td",[e._v(" "+e._s(e.moment(t.check_voucher_date).format("MM/DD/YY"))+" ")]),a("td",[e._v(e._s(t.ck_no))]),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1)])}))],2)]},proxy:!0}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{staticClass:"d-flex"},[a("div",[a("span",[e._v("Expenses For Check Preparation")])]),a("div",{staticClass:"ml-auto align-self-center",staticStyle:{"margin-right":"6.6em"}},[a("span",{staticClass:"mr-1"},[e._v("Total:")]),a("money-format",{staticClass:"d-inline-block",attrs:{value:parseFloat(this.rv_fund_with_expense_items.expenses_for_check_preparations_total),locale:"en","currency-code":"PHP"}})],1)])]),a("v-expansion-panel-content",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"350px"}},[e._v("PCV Date")]),a("th",{staticClass:"text-left",staticStyle:{width:"600px"}},[e._v(" Particulars ")]),a("th",{staticClass:"text-left"},[e._v("Amount")])])]),a("tbody",[0==e.expensesForChkPreparations.length?a("tr",[a("td",{attrs:{colspan:"3"}},[e._v("No record found")])]):e._l(e.expensesForChkPreparations,(function(t){return a("tr",{key:"expenses_for_chk_preparation_"+t.id},[a("td",[e._v(" "+e._s(e.moment(t.pcv_date).format("MM/DD/YY"))+" ")]),a("td",[e._v(e._s(t.particulars))]),a("td",[a("money-format",{attrs:{value:parseFloat(t.amount),locale:"en","currency-code":"PHP"}})],1)])}))],2)]},proxy:!0}])})],1)],1)],1),a("v-list",[a("v-list-item",[a("v-list-item-content",[a("div",{staticClass:"text-right pb-2"},[a("money-format",{attrs:{value:parseFloat(e.getTotalOfRvFundItems),locale:"en","currency-code":"PHP"}})],1),a("v-divider"),a("div",{staticClass:"d-flex mt-1 text-h6"},[a("div",{staticClass:"font-weight-bold"},[e._v(" AVAILABLE REVOLVING FUND ON HAND ")]),a("div",{staticClass:"ml-auto font-weight-bold"},[a("money-format",{attrs:{value:parseFloat(e.getAvailRVFundOnHand),locale:"en","currency-code":"PHP"}})],1)])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogHistory,callback:function(t){e.dialogHistory=t},expression:"dialogHistory"}},[a("v-card",[a("v-toolbar",{attrs:{color:"dark"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialogHistory=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(e._s(e.branch)+" History")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Save ")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v(" Revolving Fund On Hand History ")]),a("v-list-item",[a("v-list-item-content",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers2,items:e.historyData,search:e.search}})],1)],1)],1)],1)],1)],1)],1)],1)},Yn=[],zn={mixins:[Ke["validationMixin"]],validations:{outcoming:{required:We["required"]},incoming:{required:We["required"]},fields:{or:{maxLength:Object(We["maxLength"])(8)}}},components:{"money-format":$i["a"]},mounted:function(){this.refreshData()},data:function(){return{selected:[],headers:[{text:"BRANCH",value:"branch",width:"25%"},{text:"REVOLVING FUND",value:"revolving_fund"},{text:"CASH ADVANCES",value:"cash_advances"},{text:"AVAILABLE REVOLVING FUND ON HAND",value:"avail_fund_on_hand"},{text:"ACTIONS",value:"actions"}],headers2:[{text:"DOCUMENT NO",value:"ornumber"},{text:"REVOLVING FUND",value:"revolvingfund"},{text:"CASH ADVANCES",value:"cashadvance"},{text:"BALANCE",value:"balance"},{text:"DATE CREATED",value:"created_at"}],rfAv:0,caAv:0,branch:"",search:"",dialogs:{edit_rf:!1,summary_of_rf:!1},dialogHistory:!1,fields:{fund:0},column:null,row:null,validation_errors:{},selected_index:-1,selected_branch:"",rvFundItemsPanel:[]}},methods:{onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()},refreshData:function(){this.$store.dispatch("revolving_fund_avail_on_hand_reports/fetchAvailRvFundOnHandsReports")},editDetails:function(e){this.selected_index=this.items.indexOf(e),0==e.revolving_fund&&(this.rfAv=e.revolving_fund),0!==e.cash_advances&&(this.caAv=e.cash_advances,this.rfAv=e.revolving_fund),this.fields={fund:0,cash_advances:0,rv_fund_id:e.rv_fund_id,branch_id:e.id,or:e.or},this.selected_branch=e.branch,this.dialogs.edit_rf=!0},saveCallRvOnHand:function(e){var t=this;this.$store.dispatch("revolving_fund_avail_on_hand_reports/updateOrCreateRFund",e).then((function(e){t.validation_errors={};var a=e.status,r=e.data;if(422==a)t.validation_errors=r.errors;else if(200==a){var i=r.availRVFundOnHand,n=t.items[t.selected_index];n.rv_fund_id=i.id,n.revolving_fund=i.fund,n.cash_advances=i.cash_advances,n.avail_fund_on_hand=i.avail_fund_on_hand;var o=r.totalData;o.rfTotal&&o.availRfTotal&&t.$store.dispatch("revolving_fund_avail_on_hand_reports/updateTotalData",o),t.onCloseEditDetailsDialog()}}))},saveDetailsDialog:function(){var e=this.fields,t={branch_id:e.branch_id,cash_advances:e.cash_advances,fund:e.fund,or:e.or,ex:this.row,rv_fund_id:e.rv_fund_id};this.saveCallRvOnHand(t)},onCloseEditDetailsDialog:function(){this.validation_errors={},this.fields={},this.dialogs.edit_rf=!1},viewHistory:function(e){this.$store.dispatch("revolving_fund_avail_on_hand_reports/historyData",e.branch),this.branch=e.branch,this.dialogHistory=!0},viewDetails:function(e){e.rv_fund_id?(this.$store.dispatch("revolving_fund_list/viewRevolvingFund",{id:e.rv_fund_id}),this.dialogs.summary_of_rf=!0):this.$store.commit("SNACKBAR_STATUS",[{status:!0,message:"Please set branch's revolving fund first.",timeout:3e3}],{root:!0})},printRvFundsSummary:function(){this.$store.dispatch("revolving_fund_list/printRvFundsSummary",{id:this.rv_fund_with_expense_items.id})},roweports:function(){this.$store.dispatch("revolving_fund_avail_on_hand_reports/printAvailRFOnHandReports")}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({avail_rf_on_hands:"revolving_fund_avail_on_hand_reports/getAvailRvFundOnHands",rv_fund_with_expense_items:"revolving_fund_list/getRvFundWithExpenseItems",historyData:"revolving_fund_avail_on_hand_reports/getHistoryData"})),{},{loadingStatus:function(){return this.$store.state.loading},items:function(){return this.avail_rf_on_hands.items},rvFundsTotal:function(){return this.avail_rf_on_hands.rf_total},rvCashAdvTotal:function(){return this.avail_rf_on_hands.ca_total},availRFundsTotal:function(){return this.avail_rf_on_hands.avail_rf_total},getTotalOfRv:function(){var e=this.rv_fund_with_expense_items;return e?parseFloat(parseFloat(e.fund||0)+parseFloat(e.cash_advances||0)).toFixed(2):0},getTotalOfRvFundItems:function(){return parseFloat(this.chkVoucherVerificationsTotal)+parseFloat(this.chkVoucherForTransmittalsTotal)+parseFloat(this.expensesForChkPreparationsTotal)},getAvailRVFundOnHand:function(){return parseFloat(this.getTotalOfRv-this.getTotalOfRvFundItems).toFixed(2)},chkVoucherVerifications:function(){return this.rv_fund_with_expense_items.check_voucher_verifications},chkVoucherVerificationsTotal:function(){return this.rv_fund_with_expense_items.check_voucher_verifications_total},chkVoucherForTransmittals:function(){return this.rv_fund_with_expense_items.check_voucher_for_transmittals},chkVoucherForTransmittalsTotal:function(){return this.rv_fund_with_expense_items.check_voucher_for_transmittals_total},expensesForChkPreparations:function(){return this.rv_fund_with_expense_items.expenses_for_check_preparations},expensesForChkPreparationsTotal:function(){return this.rv_fund_with_expense_items.expenses_for_check_preparations_total},incomingErrors:function(){var e=[];return this.$v.incoming.$dirty?(!this.$v.incoming.required&&e.push("Incoming is required."),e):e},outgoingErrors:function(){var e=[];return this.$v.outgoing.$dirty?(!this.$v.outgoing.required&&e.push("Outgoing is required."),e):e}})},Kn=zn,Wn=(a("aac1"),Object(m["a"])(Kn,Hn,Yn,!1,null,"3412b479",null)),Qn=Wn.exports;p()(Wn,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardSubtitle:G["b"],VCardText:G["c"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VExpansionPanel:at["a"],VExpansionPanelContent:rt["a"],VExpansionPanelHeader:it["a"],VExpansionPanels:nt["a"],VIcon:f["a"],VList:_["a"],VListItem:b["a"],VListItemContent:y["a"],VRadio:ii["a"],VRadioGroup:ni["a"],VSimpleTable:Qr["a"],VSpacer:P["a"],VSubheader:Fn["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.paymentcbr_data,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("QPLD Incoming Payments CRB")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch["Name"])+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.Date).format("MM.DD.YY"))+" ")]}},{key:"item.Amount",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Amount),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Interest),locale:"en","currency-code":"PHP"}})]}},{key:"item.otherBranch_Acct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.otherBranch_Acct),locale:"en","currency-code":"PHP"}})]}},{key:"item.PaymtAcct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.PaymtAcct),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"Name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment QPLD Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Xn=[],Zn=(a("3ca3"),a("2b3d"),{components:{JsonExcel:ct["a"],"money-format":$i["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:"2022-08-30",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"DocNum",align:"left",value:"DocNum"},{text:"Date",align:"left",value:"Date"},{text:"Name",align:"left",value:"Name"},{text:"Particulars",align:"left",value:"Particulars"},{text:"OR#",align:"left",value:"OR#"},{text:"Amount",align:"left",value:"Amount"},{text:"PaymtAcc",align:"left",value:"PaymtAcct"},{text:"Interest/DP",align:"left",value:"Interest"},{text:"Other Incoming Payments",align:"left",value:"otherBranch_Acct"},{text:"Supplier",align:"left",value:"Supplier"},{text:"Rebate",align:"left",value:"Rebate"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({paymentcbr_data:"paymentCRB/getPaymentCRB",permissions:"userPermissions/getPermission",branches:"blacklisted/getBranchSegment",currentUser:"currentUser"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("paymentCRB/GeneratePaymentCRB"),this.$store.dispatch("blacklisted/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r){var i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/reports/printview?branch="+a+"&date="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return i=e.sent,e.next=5,i.blob();case 5:n=e.sent,o=URL.createObjectURL(n),document.querySelector("iframe").setAttribute("src",o);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch["Name"],this.dates_regular),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};console.log(this.branch["Name"]),this.$store.dispatch("paymentCRB/GeneratePaymentCRB",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};this.$store.dispatch("paymentCRB/GeneratePaymentCRB",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}}),eo=Zn,to=(a("98b8"),Object(m["a"])(eo,Jn,Xn,!1,null,null,null)),ao=to.exports;p()(to,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Invoice Query Series Revised")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("SERIESNAME: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.Date).format("MM.DD.YY"))+" ")]}},{key:"item.Amount",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Amount),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Interest),locale:"en","currency-code":"PHP"}})]}},{key:"item.otherBranch_Acct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.otherBranch_Acct),locale:"en","currency-code":"PHP"}})]}},{key:"item.PaymtAcct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.PaymtAcct),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Invoice Query Series Revised Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},io=[],no={components:{JsonExcel:ct["a"],"money-format":$i["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-02","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"INVOICE#",align:"left",value:"INVOICE"},{text:"DOCUMENT DATE",align:"left",value:"DOCUMENTDATE"},{text:"DOCUMENT NUMBER",align:"left",value:"DOCUMENTNUMBER"},{text:"NAME OF CUSTOMER",align:"left",value:"NAMEOFCUSTOMER"},{text:"INVOICE AMOUNT",align:"left",value:"INVOICEAMOUNT"},{text:"STATUS",align:"left",value:"STATUS"},{text:"PAYMENT TERM",align:"left",value:"PaymentTerms"},{text:"CLOSED TYPE",align:"left",value:"CLOSEDTYPE"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"invoice_query_series_revised/QUERY",permissions:"userPermissions/getPermission",branches:"invoice_query_series_revised/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),created:function(){this.$store.dispatch("invoice_query_series_revised/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r,i){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r,i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/invoicequeryseriesrevised?q=printing&datefrom="+a+"&dateto="+r+"&series="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.SeriesName),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("invoice_query_series_revised/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("invoice_query_series_revised/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},oo=no,so=(a("1ff8"),Object(m["a"])(oo,ro,io,!1,null,null,null)),co=so.exports;p()(so,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Marketing AR Invoice Query")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment QPLD Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},uo=[],mo={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-07-01","2022-07-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"NAME",align:"left",value:"NAME"},{text:"ADDRESS",align:"left",value:"ADDRESS"},{text:"BRAND",align:"left",value:"BRAND"},{text:"PRODUCTCATEGORY",align:"left",value:"PRODUCTCATEGORY"},{text:"MODEL",align:"left",value:"MODEL"},{text:"CONTACTNO",align:"left",value:"CONTACTNO"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"marketing_ar_invoice/QUERY",permissions:"userPermissions/getPermission",branches:"marketing_ar_invoice/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("marketing_ar_invoice/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r,i){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r,i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/marketingarinvoicequery?q=printing&datefrom="+a+"&dateto="+r+"&series="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.SeriesName),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("marketing_ar_invoice/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("marketing_ar_invoice/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},vo=mo,po=(a("e7cb"),Object(m["a"])(vo,lo,uo,!1,null,null,null)),ho=po.exports;p()(po,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var fo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Summary of Customer Deposit Applied")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Summary of Customer Deposit Applied Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},_o=[],go={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CUSTOMERNAME",align:"left",value:"CUSTOMERNAME"},{text:"DATE",align:"left",value:"DATE"},{text:"JE NUMBER",align:"left",value:"JENUMBER"},{text:"TRANSCODE",align:"left",value:"TRANSCODE"},{text:"REF2",align:"left",value:"REF2"},{text:"AMOUNT",align:"left",value:"AMOUNT"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"summary_of_customer_depostiapplied/QUERY",permissions:"userPermissions/getPermission",branches:"summary_of_customer_depostiapplied/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("summary_of_customer_depostiapplied/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r,i){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r,i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/summaryofcustomerdepositapplied?q=printing&datefrom="+a+"&dateto="+r+"&series="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("summary_of_customer_depostiapplied/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("summary_of_customer_depostiapplied/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},bo=go,xo=(a("da2e"),Object(m["a"])(bo,fo,_o,!1,null,null,null)),yo=xo.exports;p()(xo,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Adjustment Sales Discount")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Adjustment Sales Discount Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},To=[],So={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CUSTOMERNAME",align:"left",value:"CUSTOMERNAME"},{text:"DATE",align:"left",value:"DATE"},{text:"JE NUMBER",align:"left",value:"JENUMBER"},{text:"TRANSCODE",align:"left",value:"TRANSCODE"},{text:"REF2",align:"left",value:"REF2"},{text:"AMOUNT",align:"left",value:"AMOUNT"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"adjustment_sales_discount/QUERY",permissions:"userPermissions/getPermission",branches:"adjustment_sales_discount/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("adjustment_sales_discount/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r,i){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r,i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/adjustmentsalesdiscount?q=printing&datefrom="+a+"&dateto="+r+"&series="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("adjustment_sales_discount/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("adjustment_sales_discount/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Do=So,Eo=(a("0af4"),Object(m["a"])(Do,ko,To,!1,null,null,null)),Co=Eo.exports;p()(Eo,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Recomputed Account")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Recomputed Account Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Io=[],wo={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"DOCNUM",align:"left",value:"DocNum"},{text:"CARDNAME",align:"left",value:"CardName"},{text:"INVOICE#",align:"left",value:"Invoice"},{text:"OR#",align:"left",value:"OR"},{text:"DATE OF OR",align:"left",value:"DateofOR"},{text:"COLLECTOR CODE",align:"left",value:"CollectorCode"},{text:"BRANCH",align:"left",value:"Branch"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"recomputed_account/QUERY",permissions:"userPermissions/getPermission",branches:"recomputed_account/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("recomputed_account/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r,i){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r,i){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/recomputedaccount?q=printing&datefrom="+a+"&dateto="+r+"&series="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("recomputed_account/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("recomputed_account/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Ro=wo,Oo=(a("b7a3"),Object(m["a"])(Ro,Ao,Io,!1,null,null,null)),Po=Oo.exports;p()(Oo,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.queries,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Searching of Vehicle Parts")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.queries}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",[e._v(" Select Vehicle Parts & Type ")]),a("v-card-text",[a("v-select",{attrs:{items:e.parts,label:"Parts","item-value":"name","item-text":"name"},model:{value:e.vpart,callback:function(t){e.vpart=t},expression:"vpart"}}),a("v-select",{attrs:{items:e.types,label:"Type","item-text":"U_vRMExpTyp","item-value":"U_vRMExpTyp"},model:{value:e.vtype,callback:function(t){e.vtype=t},expression:"vtype"}})],1),a("v-card-actions",{attrs:{right:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.generate()}}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Searching of Vehicle Parts Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Searching of Vehicle Parts PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},No=[],$o={components:{JsonExcel:ct["a"]},data:function(){return{vpart:"",vtype:"",itemsdata:[],iden:0,printLink:"",printDialog:!1,create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CATEGORY",align:"left",value:"CATEGORY"},{text:"VEHICLE PART",align:"left",value:"VEHICLE PART"},{text:"BODY TYPE",align:"left",value:"BODY TYPE"},{text:"EXPENSE TYPE",align:"left",value:"EXPENSE TYPE"},{text:"LIFE SPAN",align:"left",value:"LIFE SPAN"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({parts:"searching_of_vehicles_parts/PARTS",types:"searching_of_vehicles_parts/TYPES",queries:"searching_of_vehicles_parts/QUERIES",permissions:"userPermissions/getPermission",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),created:function(){this.$store.dispatch("searching_of_vehicles_parts/fetchVEHICLEPARTS"),this.$store.dispatch("searching_of_vehicles_parts/fetchVEHICLETYPE"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,r){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a,r){var i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/searchofvehicleparts?q=printing&part="+a+"&type="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return i=e.sent,e.next=5,i.blob();case 5:n=e.sent,o=URL.createObjectURL(n),document.querySelector("iframe").setAttribute("src",o);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.vpart,this.vtype),this.iden=1},generate:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.itemsdata={type:e.vtype,part:e.vpart},t.next=3,e.$store.dispatch("searching_of_vehicles_parts/GenerateVEHICLETQUERIES",e.itemsdata);case 3:e.create=!1;case 4:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.$store.dispatch("searching_of_vehicles_parts/GenerateVEHICLETQUERIES",this.itemsdata)},openDialog:function(){this.create=!0}}},Uo=$o,qo=(a("2f8b"),Object(m["a"])(Uo,Vo,No,!1,null,null,null)),Lo=qo.exports;p()(qo,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VSelect:O["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("AR-Invoice Open Balance")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("AR-Invoice Open Balance Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Bo=[],Fo={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"Branch"},{text:"DOCUMENT DATE",align:"left",value:"DocDate"},{text:"INVOICE #",align:"left",value:"Invoice"},{text:"DOCUMENT #",align:"left",value:"DocumentNo"},{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBalanceAmt"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"ar_invoice_open_balance/QUERY",permissions:"userPermissions/getPermission",branches:"ar_invoice_open_balance/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("ar_invoice_open_balance/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/arinvoiceopenbalance?q=printing&&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.blob();case 5:i=e.sent,n=URL.createObjectURL(i),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.U_Branch1),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("ar_invoice_open_balance/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("ar_invoice_open_balance/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Go=Fo,jo=(a("25fd"),Object(m["a"])(Go,Mo,Bo,!1,null,null,null)),Ho=jo.exports;p()(jo,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment Customer Deposit")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment Customer Deposit Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},zo=[],Ko={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"Branch"},{text:"DOCUMENT DATE",align:"left",value:"DocDate"},{text:"INVOICE #",align:"left",value:"Invoice"},{text:"DOCUMENT #",align:"left",value:"DocumentNo"},{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBalanceAmt"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"incoming_payment_customer_deposit/QUERY",permissions:"userPermissions/getPermission",branches:"incoming_payment_customer_deposit/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incoming_payment_customer_deposit/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/incomingpaymentcustomerdeposit?q=printing&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.blob();case 5:i=e.sent,n=URL.createObjectURL(i),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.U_Branch1),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_customer_deposit/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_customer_deposit/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Wo=Ko,Qo=(a("5d1f"),Object(m["a"])(Wo,Yo,zo,!1,null,null,null)),Jo=Qo.exports;p()(Qo,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment Open Balance ")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},r),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},r),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},r),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment Open Balance Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Zo=[],es={components:{JsonExcel:ct["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"SERIES NAME",align:"left",value:"SeriesName"},{text:"SERIES",align:"left",value:"Series"},{text:"DOCDATE",align:"left",value:"DocDate"},{text:"DOCNUM",align:"left",value:"DocNum"},{text:"CARDNAME",align:"left",value:"CardName"},{text:"COUNTER REF",align:"left",value:"CounterRef"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBal"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"incoming_payment_open_balance/QUERY",permissions:"userPermissions/getPermission",branches:"incoming_payment_open_balance/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incoming_payment_open_balance/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object(Ii["a"])(regeneratorRuntime.mark((function e(t,a){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.$URLs.backend+"/api/public/reports/queries/incomingpaymentopenbalance?q=printing&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.blob();case 5:i=e.sent,n=URL.createObjectURL(i),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e,this)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.SeriesName),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_open_balance/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_open_balance/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},ts=es,as=(a("788d"),Object(m["a"])(ts,Xo,Zo,!1,null,null,null)),rs=as.exports;p()(as,{VAutocomplete:ut["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"],VTooltip:N["a"]});var is,ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{margin:"10px"},attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrumbs}}),a("v-card",{staticClass:"mx-auto"},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"table-heading, list-item-two-line, image, table-tfoot",loading:e.loadingForTable}},[[a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-autocomplete",{staticStyle:{"margin-top":"10px"},attrs:{items:e.manufacturer,"item-text":"FirmName","item-value":"FirmCode",dense:"",label:"Sort Brand"},on:{change:function(t){return e.sort()}},model:{value:e.sortBrand,callback:function(t){e.sortBrand=t},expression:"sortBrand"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("vs-input",{attrs:{placeholder:"Search Brand"},on:{input:e.onSearch},model:{value:e.searchTerm2,callback:function(t){e.searchTerm2=t},expression:"searchTerm2"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("vs-button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.addItem()}}},[a("span",[e._v("CREATE ITEM MASTER ")])])],1)],1)],a("vue-good-table",{attrs:{columns:e.columns,rows:e.rows,totalRows:e.totalRows,"pagination-options":{enabled:!0,perPage:e.perPage},mode:"server",responsive:!0},on:{"on-page-change":e.onPageChange},scopedSlots:e._u([{key:"table-row",fn:function(t){return["mod"==t.column.field?a("span",[a("button",{on:{click:function(a){return e.customAction(t.row)}}},[a("span",{staticStyle:{color:"blue","text-decoration":"underline"}},[e._v(e._s(t.row.ItemName))])])]):e._e(),"brand"==t.column.field?a("span",[e._v(" "+e._s(e.brand)+" ")]):a("span",[e._v(" "+e._s(t.formattedRow[t.column.field])+" ")])]}}])})],2)],1),a("v-dialog",{attrs:{persistent:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[0!=e.identify?a("v-toolbar",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)"},attrs:{dense:"",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",{attrs:{dark:""}},[e._v("Update Item")])],1):e._e(),0==e.identify?a("v-toolbar",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)"},attrs:{dense:"",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",{attrs:{dark:""}},[e._v("Add Item")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",disabled:e.allError,text:""},on:{click:function(t){return e.save()}}},[e._v(" Save ")])],1)],1):e._e(),a("v-list",{staticStyle:{background:"#E9F0F6"},attrs:{"three-line":"",subheader:""}},[e.itemcode?a("v-subheader",[a("h3",[e._v(e._s(e.itemcode))])]):e._e(),a("v-subheader",[e._v("Item Master Data")]),a("v-list-item",[a("v-list-item-content",[0==e.identify?a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Database")]),a("v-list-item-subtitle",[a("v-container",{staticStyle:{display:"flex","flex-direction":"column",gap:"0"},attrs:{fluid:""}},e._l(e.db,(function(t){return a("div",{key:t},[a("v-checkbox",{staticStyle:{margin:"-12px"},attrs:{label:t.dbname,dense:"",value:t.dbname},model:{value:e.databases,callback:function(t){e.databases=t},expression:"databases"}})],1)})),0)],1)],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Model")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Product Category")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.prodcat,callback:function(t){e.$set(e.data,"prodcat",t)},expression:"data.prodcat"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Item Group")]),a("v-list-item-subtitle",[a("v-autocomplete",{attrs:{items:e.itemgroup,"item-text":"ItmsGrpNam","item-value":"ItmsGrpCod",dense:"",filled:"",label:"Filled"},model:{value:e.data.itmgroup,callback:function(t){e.$set(e.data,"itmgroup",t)},expression:"data.itmgroup"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("WithHolding Tax Liable")]),a("v-list-item-subtitle",[a("v-checkbox",{staticStyle:{"margin-left":"20px"},model:{value:e.data.withHtaxt,callback:function(t){e.$set(e.data,"withHtaxt",t)},expression:"data.withHtaxt"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Brand")]),a("v-list-item-subtitle",[a("v-autocomplete",{attrs:{items:e.manufacturer,"item-text":"FirmName","item-value":"FirmCode",dense:"",filled:"",label:"Filled"},model:{value:e.data.brand,callback:function(t){e.$set(e.data,"brand",t)},expression:"data.brand"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Manage Item By "+e._s(e.managebyserial))]),a("v-list-item-subtitle",[a("v-select",{attrs:{items:e.batchnumber,label:"Select",solo:"",dense:""},model:{value:e.data.batchserial,callback:function(t){e.$set(e.data,"batchserial",t)},expression:"data.batchserial"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Warranty Template")]),a("v-list-item-subtitle",[a("v-autocomplete",{attrs:{items:e.warrantyT,"item-text":"TmpltName","item-value":"TmpltName",dense:"",filled:"",label:"Filled",disabled:!0!==e.managebyserial},model:{value:e.data.warrantytemp,callback:function(t){e.$set(e.data,"warrantytemp",t)},expression:"data.warrantytemp"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Preferred Vendor")]),a("v-list-item-subtitle",[a("v-autocomplete",{attrs:{items:e.preferredv,"item-text":"CardName","item-value":"CardCode",dense:"",filled:"",label:"Filled"},on:{change:e.handleAutocompleteChange},model:{value:e.data.preferredvendor,callback:function(t){e.$set(e.data,"preferredvendor",t)},expression:"data.preferredvendor"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Purchasing UoM")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",placeholder:"UNIT",dense:""},model:{value:e.data.purchaseuom,callback:function(t){e.$set(e.data,"purchaseuom",t)},expression:"data.purchaseuom"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Inventory UoM")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",placeholder:"UNIT",dense:""},model:{value:e.data.inventoryoum,callback:function(t){e.$set(e.data,"inventoryoum",t)},expression:"data.inventoryoum"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sales UoM")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",placeholder:"UNIT",dense:""},model:{value:e.data.salesoum,callback:function(t){e.$set(e.data,"salesoum",t)},expression:"data.salesoum"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title"),a("v-list-item-subtitle",[a("vs-button",{attrs:{color:"rgb(59,222,200)"},on:{click:function(t){return e.properties()}}},[e._v(" Properties ")])],1)],1)],1)],1)],1),a("v-subheader",[e._v("UDF")]),a("v-list-item",{staticStyle:{background:"#E9F0F6"}},[a("v-list-item-content",[a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sell-Out")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.sellout,callback:function(t){e.$set(e.data,"sellout",t)},expression:"data.sellout"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sub Category 1")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.subcat1,callback:function(t){e.$set(e.data,"subcat1",t)},expression:"data.subcat1"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sub Category 2")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.subcat2,callback:function(t){e.$set(e.data,"subcat2",t)},expression:"data.subcat2"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Gross Dealer Price")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.grossdealerprice,callback:function(t){e.$set(e.data,"grossdealerprice",t)},expression:"data.grossdealerprice"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("SRP")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.srp,callback:function(t){e.$set(e.data,"srp",t)},expression:"data.srp"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Regular Net Cost")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.regnetcost,callback:function(t){e.$set(e.data,"regnetcost",t)},expression:"data.regnetcost"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Present Net Cost")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.prenetcost,callback:function(t){e.$set(e.data,"prenetcost",t)},expression:"data.prenetcost"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Freebies")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},model:{value:e.data.freebies,callback:function(t){e.$set(e.data,"freebies",t)},expression:"data.freebies"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Size Name")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.sizename,callback:function(t){e.$set(e.data,"sizename",t)},expression:"data.sizename"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("SPECS1")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.specs1,callback:function(t){e.$set(e.data,"specs1",t)},expression:"data.specs1"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("SPECS2")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.specs2,callback:function(t){e.$set(e.data,"specs2",t)},expression:"data.specs2"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("SPECS3")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.specs3,callback:function(t){e.$set(e.data,"specs3",t)},expression:"data.specs3"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Type")]),a("v-list-item-subtitle",[a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{solo:"",dense:""},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sizes")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.sizes,callback:function(t){e.$set(e.data,"sizes",t)},expression:"data.sizes"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Inst. Subsidy Amt.")]),a("v-list-item-subtitle",[a("v-text-field",{attrs:{solo:"",dense:""},on:{input:e.restrictToNumbers,keypress:e.onlyNumber},model:{value:e.data.instsubamp,callback:function(t){e.$set(e.data,"instsubamp",t)},expression:"data.instsubamp"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-list-item-title",[e._v("Sub Category Group")]),a("v-list-item-subtitle",[a("v-autocomplete",{attrs:{items:e.subcatgroup,"item-text":"CodeName","item-value":"Name",dense:"",filled:"",label:"Filled"},model:{value:e.data.subcatgroup,callback:function(t){e.$set(e.data,"subcatgroup",t)},expression:"data.subcatgroup"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[1==e.identify?a("vs-button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.updateItem()}}},[a("span",[e._v("Update Item")])]):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"300px"},model:{value:e.itempropr,callback:function(t){e.itempropr=t},expression:"itempropr"}},[a("v-card",[a("v-card-title",[e._v("Select Item Properties")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"300px"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.properties1,"items-per-page":10},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item,i=t.index;return[a("v-checkbox",{on:{click:function(t){return e.saveProperty(r.ItmsTypCod,i)}},model:{value:e.chek[i],callback:function(t){e.$set(e.chek,i,t)},expression:"chek[index]"}})]}}])})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.itempropr=!1}}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.itempropr=!1}}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"240"},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[a("v-card",{staticStyle:{background:"linear-gradient(180deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(31,62,126,1) 17%)"}},[a("v-img",{attrs:{"lazy-src":"/syncing3.gif","max-height":"60","max-width":"240",src:"/syncing3.gif"}})],1),a("v-card-text",[e._v(" "+e._s(e.animatedText)+" "),a("v-progress-linear",{attrs:{color:"blue-grey",height:"25"},model:{value:e.progStatus,callback:function(t){e.progStatus=t},expression:"progStatus"}},[a("strong",[e._v(e._s(e.progStatus))])])],1)],1)],1)],1)},os=[];a("7db0");function ss(e,t){var a;return t.forEach((function(t,r){if(t.FirmCode==e)return a=t.FirmName})),a}var cs={mixins:[Ke["validationMixin"]],validations:{data:{model:{required:We["required"]},prodcat:{required:We["required"]},itmgroup:{required:We["required"]},withHtaxt:{required:We["required"]},brand:{required:We["required"]},batchserial:{required:We["required"]},warrantytemp:{required:We["required"]},preferredvendor:{required:We["required"]},purchaseuom:{required:We["required"]},inventoryoum:{required:We["required"]}}},data:function(){return{db:[],loadingForTable:!0,databases:[],chek:[],text:"Connecting to SAP B1 Integration",dots:"",breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Inventory",disabled:!0,href:"/"},{text:"Item Master Data",disabled:!0},{text:"Create",disabled:!0}],itemcode:"",identify:0,isLoading:!1,progStatus:0,clearInterval:"",brand:"",sortBrand:"",data:{subcatgroup:"",oldmodels:"",sortBrand:"",model:"",prodcat:"",itmgroup:"",withHtaxt:"",brand:"",batchserial:"",warrantytemp:"",preferredvendor:"",prevendor:"",purchaseuom:"",inventoryoum:"",salesoum:"",sellout:"00.0",subcat1:"",subcat2:"",grossdealerprice:"00.0",srp:"00.0",regnetcost:"00.0",prenetcost:"00.0",freebies:"",sizename:"",specs1:"",specs2:"",specs3:"",type:"",sizes:"00.0",instsubamp:"00.0",uniqueID:""},checkboxStatus:[],ItmsTypCod:!1,properties1:[],headers:[{text:"ItmsGrpNam",sortable:!0,value:"ItmsGrpNam"},{text:"action",value:"action"}],subcatgroup:[],warrantyT:[],itemgroup:[],manufacturer:[],preferredv:[],batchnumber:["None","Serial Number","Batches"],dialog:!1,itempropr:!1,columns:[{label:"Model",field:"mod"},{label:"Brand",field:"brand"},{label:"Item Code",field:"ItemCode"},{label:"Category",field:"FrgnName"},{label:"Srp",field:"U_srp"},{label:"GDP",field:"U_GDP"},{label:"RNC",field:"U_RegNC"},{label:"PNC",field:"U_PresentNC"}],rows:[],totalRows:0,currentPage:1,perPage:7,searchTerm:"",searchTerm2:""}},computed:{animatedText:function(){return this.text+this.dots},allError:function(){return this.$v.data.$touch(),!!this.$v.data.$error},managebyserial:function(){return"None"!=this.data.batchserial&&"Batches"!=this.data.batchserial&&""!=this.data.batchserial}},created:function(){this.animateText()},methods:{updateItem:function(){var e=this;this.data.uniqueID=Math.floor(99999099*Math.random())+1,this.progress(this.data.uniqueID),this.isLoading=!0;var t={data:this.data,prop:this.checkboxStatus};me.a.post("http://192.168.1.19:7771/api/itemmasterdata/oitm/update",{all:t}).then((function(t){var a;clearInterval(e.interval),e.data.uniqueID="",e.isLoading=!1,a=1==t.data.identify?"error":"success";var r=JSON.stringify(t.data);e.$swal("Update Sync!",""+r,""+a),1!==t.data.identify&&(e.refresh(),e.getFields(),e.onPageChange({currentPage:e.currentPage,perPage:e.perPage}),e.dialog=!1)}))},sort:function(){var e=this;return this.loadingForTable=!0,me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/index?page="+this.currentPage+"&search="+this.sortBrand+"&search2=2&brand="+ss(this.sortBrand,this.manufacturer)).then((function(t){e.brand=t.data.brand,e.rows=t.data.data.data,e.totalRows=t.data.data.total,e.currentPage=t.data.data.current_page,e.perPage=t.data.data.per_page,e.loadingForTable=!1})),""},animateText:function(){var e=this;setInterval((function(){e.dots+="*",e.dots.length>10&&(e.dots="")}),500)},handleAutocompleteChange:function(){var e=this.data.preferredvendor,t=this.preferredv.find((function(t){return t.CardCode===e}));if(t){var a=t.CardName;this.data.prevendor=a}},restrictToNumbers:function(){""==this.data.instsubamp&&(this.data.instsubamp="00.0"),""==this.data.srp&&(this.data.srp="00.0"),""==this.data.sizes&&(this.data.sizes="00.0"),""==this.data.regnetcost&&(this.data.regnetcost="00.0"),""==this.data.prenetcost&&(this.data.prenetcost="00.0"),""==this.data.sellout&&(this.data.sellout="00.0"),""==this.data.grossdealerprice&&(this.data.grossdealerprice="00.0")},save:function(){var e=this;if(0==this.databases.length)this.$swal("No Database selected","Please select database","error");else{this.data.uniqueID=Math.floor(99999099*Math.random())+1,this.progress(this.data.uniqueID),this.isLoading=!0;var t={data:this.data,prop:this.checkboxStatus,database:this.databases};me.a.post("http://192.168.1.19:7771/api/itemmasterdata/oitm/create",{all:t}).then((function(t){var a;clearInterval(e.interval),e.data.uniqueID="",e.isLoading=!1,a=1==t.data.identify?"error":"success";var r=JSON.stringify(t.data);e.$swal("Sync!",""+r,""+a),1!==t.data.identify&&(e.refresh(),e.getFields(),e.onPageChange({currentPage:e.currentPage,perPage:e.perPage}))}))}},progress:function(e){var t=this;this.interval=setInterval((function(){me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/progress?uniqueid="+e).then((function(e){t.progStatus=e.data.status+" %",100===Math.round(e.data.status)&&clearInterval(t.interval)}))}),2e3)},saveProperty:function(e,t){this.checkboxStatus[t]={query:e,status:this.chek[t]},console.log(this.checkboxStatus)},properties:function(){this.itempropr=!0},getFields:function(){var e=this;this.loadingForTable=!0,me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/fields").then((function(t){e.manufacturer=t.data.firmcode,e.preferredv=t.data.preferredv,e.itemgroup=t.data.oitb,e.warrantyT=t.data.warrantyt,e.properties1=t.data.oitg,e.subcatgroup=t.data.subcatgroup,e.loadingForTable=!1})).catch((function(t){e.$swal("Sap Database Error","Please Check Database Connection "+t,"error")})),me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/db").then((function(t){e.db=t.data})).catch((function(t){e.$swal("Sap Database Error","Please Check Database Connection "+t,"error")}))},addItem:function(){this.identify=0,this.dialog=!0,this.refresh(),this.getFields()},refresh:function(){this.data={model:"",prodcat:"",itmgroup:"",withHtaxt:"",brand:"",batchserial:"",warrantytemp:"",preferredvendor:"",purchaseuom:"",inventoryoum:"",sellout:"00.0",subcat1:"",subcat2:"",grossdealerprice:"00.0",srp:"00.0",regnetcost:"00.0",prenetcost:"00.0",freebies:"",sizename:"",specs1:"",specs2:"",specs3:"",type:"",sizes:"00.0",instsubamp:"00.0"},this.properties1=[],this.itemcode=""},onSearch:function(){var e=this;return me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/index?page="+this.currentPage+"&search="+this.sortBrand+"&search2="+this.searchTerm2+"&brand="+ss(this.sortBrand,this.manufacturer)).then((function(t){e.rows=t.data.data.data,e.totalRows=t.data.data.total,e.currentPage=t.data.data.current_page,e.perPage=t.data.data.per_page})),""},customAction:function(e){var t=this;is=e.ItemName,this.itemcode="ITEMCODE: "+e.ItemCode,this.identify=1,this.dialog=!0,this.data={oldmodels:is,grossdealerprice:e.U_GDP,freebies:e.U_Freebies,model:e.ItemName,prodcat:e.FrgnName,itmgroup:parseInt(e.ItmsGrpCod),withHtaxt:"Y"==e.WTLiable,brand:{FirmCode:e.FirmCode},batchserial:"Y"==e.ManSerNum?"Serial Number":"N"==e.ManBtchNum&&"N"==e.ManSerNum?"None":"Batches",warrantytemp:e.WarrntTmpl,preferredvendor:e.CardCode,purchaseuom:e.BuyUnitMsr,inventoryoum:e.InvntryUom,salesoum:e.SalUnitMsr,sellout:e.U_BA_LVAFrom,subcat1:e.U_U_Subcat1,subcat2:e.U_U_Subcat2,srp:e.U_srp,regnetcost:e.U_RegNC,prenetcost:e.U_PresentNC,sizename:e.U_rSubCat,specs1:e.U_cPanel,specs2:e.U_cContent,specs3:e.U_cTransmission,type:e.U_cType,sizes:e.U_cSizes,instsubamp:e.U_SubsidyAmt,subcatgroup:e.U_SubCatGroup},this.properties1=[{ItmsGrpNam:"Items Property 1",value:"Y"==e.QryGroup1?"checked":""},{ItmsGrpNam:"Items Property 2",value:"Y"==e.QryGroup2?"checked":""},{ItmsGrpNam:"Items Property 3",value:"Y"==e.QryGroup3?"checked":""},{ItmsGrpNam:"Items Property 4",value:"Y"==e.QryGroup4?"checked":""},{ItmsGrpNam:"Items Property 5",value:"Y"==e.QryGroup5?"checked":""},{ItmsGrpNam:"Items Property 6",value:"Y"==e.QryGroup6?"checked":""},{ItmsGrpNam:"Items Property 7",value:"Y"==e.QryGroup7?"checked":""},{ItmsGrpNam:"Items Property 8",value:"Y"==e.QryGroup8?"checked":""}],this.properties1.forEach((function(e,a){t.chek[a]="checked"==e.value})),this.handleAutocompleteChange()},onButtonClick:function(e){console.log("Button clicked for row with id ".concat(e))},onPageChange:function(e){var t=this;me.a.get("http://192.168.1.19:7771/api/itemmasterdata/oitm/index?page="+e.currentPage+"&search="+this.sortBrand+"&search2="+this.searchTerm2+"&brand="+ss(this.sortBrand,this.manufacturer)).then((function(a){t.rows=a.data.data.data,t.totalRows=a.data.data.total,t.currentPage=e.current_page,t.perPage=e.per_page}))},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&44!==t&&46!==t&&e.preventDefault()}},mounted:function(){this.getFields(),this.onPageChange({currentPage:this.currentPage,perPage:this.perPage})}},ls=cs,ds=a("2bc5"),us=a("8e36"),ms=Object(m["a"])(ls,ns,os,!1,null,null,null),vs=ms.exports;p()(ms,{VAutocomplete:ut["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VImg:R["a"],VList:_["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VProgressLinear:us["a"],VRow:pt["a"],VSelect:O["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VSubheader:Fn["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"]});var ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}})],1),a("v-col",{staticClass:"text-right"},[e.searchPO?a("v-btn",{attrs:{color:"teal",dark:""},on:{click:e.createdgrpo}},[e._v(" CREATED GRPO's ")]):e._e()],1)],1),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-title",{staticClass:"text-h5 lighten-3"},[e._v(" SyncMaster Pro V1 ")]),a("v-card-text",[e._v(" Ultimate SAP GRPO & Barcode Integration "+e._s(e.creator)+" ")]),a("v-card-text",[a("v-text-field",{attrs:{placeholder:"SEARCH PO #",loading:e.loading,dense:""},model:{value:e.searchPO,callback:function(t){e.searchPO=t},expression:"searchPO"}}),a("v-card-text",[e._v(" Recent PO's:"),a("br"),e._l(e.history,(function(t,r){return a("a",{key:r,on:{click:function(a){return e.historyclick(t)}}},[e._v(" "+e._s(t)+" "),r<e.history.length-1?a("span",[e._v(", ")]):e._e()])}))],2),a("div",{staticClass:"d-flex justify-end"},[a("v-chip",{staticClass:"ma-2",attrs:{color:"teal","text-color":"white"},on:{click:function(t){return e.searchpo()}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("mdi-search-web")])],1),e._v(" Search ")],1)],1)],1),a("v-card-actions",[a("v-spacer"),e.creator?a("div",[e.ccheckbox?e._e():a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.createAtion()}}},[e._v(" CREATE ")])],1):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-skeleton-loader",{attrs:{loading:e.loadingPosList,type:"table-heading, list-item-two-line, image, table-tfoot"}},[a("v-data-table",{attrs:{dense:"",headers:e.headers,items:e.podata,"item-key":"DocEntry"},scopedSlots:e._u([e.creator?{key:"item.Selection",fn:function(t){var r=t.item;return[e.checkerifexist(r.DocEntry+r.ItemCode+r.LineNum)?e._e():a("v-checkbox",{attrs:{value:r.LineNum,disabled:"C"==r.LineStatus,dense:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]}}:null,{key:"item.Quantity",fn:function(t){var r=t.item,i=t.index;return[0==e.getqty(r.DocEntry+r.ItemCode+r.LineNum)?a("vs-input",{attrs:{type:"number",max:"5"},on:{input:function(t){return e.checkqty(r.Quantity,r.OpenQty,i)}},model:{value:e.items[i],callback:function(t){e.$set(e.items,i,t)},expression:"items[index]"}}):e._e()]}},{key:"item.Status",fn:function(t){var a=t.item;return[e._v(" "+e._s("C"==a.LineStatus?"Closed":"Open")+" ")]}},{key:"item.DocEntry",fn:function(t){var r=t.item;return[e.checkerifexist(r.DocEntry+r.ItemCode+r.LineNum||"C"==r.LineStatus)?a("v-btn",{staticClass:"ml-2",attrs:{loading:e.reportsloading,"x-small":"",icon:"",fab:""},on:{click:function(t){return e.reports(r)}}},[a("v-icon",[e._v("mdi-file-document")])],1):e._e()]}}],null,!0)})],1)],1),a("v-divider")],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.pos,callback:function(t){e.pos=t},expression:"pos"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.searchPOs,callback:function(t){e.searchPOs=t},expression:"searchPOs"}})],1),a("v-card-text",[a("v-skeleton-loader",{attrs:{loading:e.loadingPos,type:"table-heading, list-item-two-line, image, table-tfoot"}},[a("v-data-table",{attrs:{headers:e.poheaders,items:e.allpos,search:e.searchPOs},scopedSlots:e._u([{key:"item.DocEntry",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getDocEntry(r.DocEntry)}}},[e._v(" "+e._s(r.DocEntry)+" ")])]}}])})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.pos=!1}}},[e._v(" close ")])],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},on:{click:function(t){return e.focusNextEmptyField(e.index)}},model:{value:e.serialmanageDialog,callback:function(t){e.serialmanageDialog=t},expression:"serialmanageDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{background:"linear-gradient(","border-radius":"10px"}},[a("v-btn",{attrs:{icon:""},on:{click:e.closedserialm}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("v-text-field",{staticStyle:{"margin-top":"19px"},attrs:{label:"Vendor Ref No",dense:"",solo:"","error-messages":e.errorvendor,disabled:!e.creator},on:{input:e.inforeset},model:{value:e.vendorref,callback:function(t){e.vendorref=t},expression:"vendorref"}})],1),a("v-spacer"),e.creator?a("v-toolbar-items",[0==this.errorSN.filter((function(e){return e})).length?a("v-btn",{attrs:{text:"",dense:"",disabled:e.sncheck!=parseFloat(e.listing.quantity).toFixed(0)},on:{click:function(t){return e.verifydata()}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("mdi-content-save-all")])],1):e._e()],1):e._e()],1),a("v-list",{attrs:{"three-line":""}},[a("v-list-item-content",{staticClass:"ml-2"},[a("br"),e._v(" Purchased Order Number#: "+e._s(e.listing.po)+" "),a("br"),e._v(" Quantity: "+e._s(e.listing.quantity)+" "),a("br"),e._v("Line#: "+e._s(e.listing.linenum)),a("br"),e._v("Model: "+e._s(e.listing.model)+" ")]),a("v-spacer"),a("v-textarea",{staticClass:"ml-2 mr-2",attrs:{outlined:"",label:"Remarks","error-messages":e.errorremarks,disabled:!e.creator},on:{input:e.inforeset},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}}),a("v-card-title",[e._v("Serial "),a("v-icon",{attrs:{dense:"",color:"black",disabled:e.sncheck!=parseFloat(e.listing.quantity).toFixed(0)},on:{click:function(t){return e.print()}}},[e._v("mdi-printer")])],1),e._l(e.generateRange(e.listing.quantity),(function(t){return a("div",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"textField"+t,refInFor:!0,attrs:{clearable:"",dense:"",label:"SN"+t+(e.br[t-1]?" BARCODER: "+e.br[t-1]:""),color:"green","error-messages":e.errorSN[t-1]},on:{input:function(a){return e.validateField(t-1,e.listing.quantity)},"click:clear":function(a){return e.validateField(t-1,0)},focus:function(a){return e.focusNextEmptyField(t)},click:function(a){return e.focusNextEmptyField(t)},keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"tab",9,a.key,"Tab")?null:(a.preventDefault(),e.focusNextEmptyField(t))}},model:{value:e.sn[t-1],callback:function(a){e.$set(e.sn,t-1,a)},expression:"sn[index - 1]"}})],1)],1)}))],2),a("v-divider")],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"240"},model:{value:e.isProgress,callback:function(t){e.isProgress=t},expression:"isProgress"}},[a("v-card",{staticStyle:{background:"linear-gradient("}},[a("v-img",{attrs:{"lazy-src":"/syncing3.gif","max-height":"60","max-width":"240",src:"/syncing3.gif"}})],1),a("v-card-text",[e._v(" "+e._s(e.animatedText)+" "),a("v-progress-linear",{attrs:{color:"blue-grey",height:"25"},model:{value:e.progStatus,callback:function(t){e.progStatus=t},expression:"progStatus"}},[a("strong",[e._v(e._s(e.progStatus))])])],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printdialog,callback:function(t){e.printdialog=t},expression:"printdialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"white"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printdialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Print Barcode")]),a("v-spacer"),a("v-card-actions")],1),a("iframe",{attrs:{src:e.printlink,width:"100%",height:"650"}})],1)],1),a("v-dialog",{attrs:{persistent:""},model:{value:e.Verifysync,callback:function(t){e.Verifysync=t},expression:"Verifysync"}},[a("v-card",[a("v-card-title",{staticClass:"text-h8"},[e._v(" Review Breakdown ")]),a("v-card-text",[a("strong",[e._v("PO:")]),e._v(" "+e._s(e.verifiedSerial.listing.po)+" "),a("br"),a("strong",[e._v("Quantity:")]),e._v(" "+e._s(parseFloat(e.verifiedSerial.listing.quantity).toFixed(0))+" "),a("br"),a("strong",[e._v("Line Number:")]),e._v(" "+e._s(e.verifiedSerial.listing.linenum)+" "),a("br"),a("strong",[e._v("Item Code:")]),e._v(" "+e._s(e.verifiedSerial.listing.itemcode)+" "),a("br"),a("strong",[e._v("Unique ID:")]),e._v(" "+e._s(e.verifiedSerial.listing.uniqueid)+" "),a("br"),a("strong",[e._v("Warehouse:")]),e._v(" "+e._s(e.verifiedSerial.listing.whs)+" "),a("br"),a("strong",[e._v("Model:")]),e._v(" "+e._s(e.verifiedSerial.listing.model)+" "),a("br"),a("strong",[e._v("Brand:")]),e._v(" "+e._s(e.verifiedSerial.listing.brand)+" "),a("br"),a("strong",[e._v("Vendor Reference:")]),e._v(" "+e._s(e.verifiedSerial.vendorref)),a("br"),a("strong",[e._v("Remarks:")]),e._v(" "+e._s(e.verifiedSerial.remarks)+" "),a("v-card-title",{staticClass:"text-h8"},[e._v("Serial")]),a("ul",e._l(e.verifiedSerial.serial,(function(t){return a("li",{key:t.index},[a("strong",[e._v(e._s(t.index+1)+". SN:")]),e._v(" "+e._s(t.sn)+", ")])})),0)],1),a("v-card-text",[e._v(" You cannot edit the document once it is submitted successfully. ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.Verifysync=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.send}},[e._v(" Sync & Closed ")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.logsDialog,callback:function(t){e.logsDialog=t},expression:"logsDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("div",{staticStyle:{"max-height":"200px","overflow-y":"auto","font-size":"small","font-weight":"bold"}},[e._v(" "+e._s(e.logsData)+" ")])],1)],1)],1)],1)},hs=[],fs=(a("c740"),a("a630"),a("6062"),a("4d90"),a("2909")),_s={mixins:[Ke["validationMixin"]],validations:{data:{color:"",model:{required:We["required"]},prodcat:{required:We["required"]},itmgroup:{required:We["required"]},withHtaxt:{required:We["required"]},brand:{required:We["required"]},batchserial:{required:We["required"]},warrantytemp:{required:We["required"]},preferredvendor:{required:We["required"]},purchaseuom:{required:We["required"]},inventoryoum:{required:We["required"]}}},data:function(){return{intervalId:null,logsData:"",logsDialog:!1,randomID:null,items:[],mapid:"",status:"",reportsloading:!1,companies:"",history:[],q:"",countserial:"",verifiedSerial:[],Verifysync:!1,perm:["Create GRPO"],loadingPos:!1,loadingPosList:!1,br:[],reportsdata:"",barcoder:"",printlink:"",printdialog:!1,realdata:[],errorremarks:"",errorvendor:"",sndisable:[],errorSN:[],vendorref:"",remarks:"",sndata:[],qoutes:"",pos:!1,qty:1,qtydialog:!1,checker:[],key:[],selected:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"GRPO",disabled:!0,href:"/sapb1/grpo/po"}],progress1:0,isProgress:!1,systemID:"",search:"",podata:[],searchPO:"",loading:!1,listing:{},serialmanageDialog:!1,sn:[],text:"Connecting to SAP B1 Integration",dots:"",progStatus:"",interval:"",headers:[{text:"Selection",value:"Selection"},{text:"Action",align:"start",sortable:!1,value:"DocEntry"},{text:"WhsCode",value:"WhsCode"},{text:"ItemCode",value:"ItemCode"},{text:"Dscription",value:"Dscription"},{text:"Original Quantity",value:"Quantity"},{text:"OpenQty",value:"OpenQty"},{text:"Status",value:"Status"}],poheaders:[{text:"CardCode",value:"CardCode"},{text:"CardName",value:"CardName"},{text:"PO#",value:"DocEntry"}],allpos:[],searchPOs:"",opentQTY:0,liveQTY:0}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermission"})),{},{creator:function(){return this.permissions.includes("Master GRPO")},animatedText:function(){return this.text+this.dots},ccheckbox:function(){return 0===this.selected.length},checkerror:function(){return this.errorSN},sncheck:function(){return this.sn.filter((function(e){return null!==e})).length}}),created:function(){},methods:{generateRandomNumber:function(){this.randomID=Math.floor(1e9+9e9*Math.random())},checkqty:function(e,t,a){var r=parseInt(t),i=parseInt(e);this.opentQTY=r,this.liveQTY=i,this.disableNumberInput(e,a)},disableNumberInput:function(e,t){var a=this.items[t];a>this.opentQTY&&(alert("Quantity exceed"),this.items[t]=this.opentQTY)},createdgrpo:function(){this.$router.push("/sapb1/grpo/po/created/"+this.searchPO)},back:function(){this.$router.push("/sapb1/grpo/po")},historyclick:function(e){this.searchPO=e,this.searchpo()},reports:function(e){var t=this;this.reportsloading=!0;e.DocEntry,parseInt(this.getqty(e.DocEntry+e.ItemCode+e.LineNum)),e.LineNum;me.a.get(this.$URLs.backend+"/api/gen/grporeceiving?data="+e.DocEntry+"-"+parseInt(this.getqty(e.DocEntry+e.ItemCode+e.LineNum))+"-"+e.LineNum,{responseType:"blob"}).then((function(e){t.reportsdata=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));var a=document.createElement("a");a.href=t.reportsdata,a.target="_blank",a.setAttribute("download","receivingreports.pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a),t.reportsloading=!1}))},focusNextEmptyField:function(){var e=this.sn.findIndex((function(e){return null===e||""===e}))+1;this.$refs["textField"+e][0].focus()},closedserialm:function(){this.serialmanageDialog=!1,this.errorSN=[]},validateField:function(e,t){this.q=parseFloat(t),this.countserial=this.sn.filter((function(e){return""!==e})).length,console.log(this.countserial+"-"+this.q),this.hasDuplicates(this.sn)?this.errorSN[e]="Duplicate entries are not allowed.":this.countserial!==this.q?this.errorSN[e]="Don't Blank":this.errorSN[e]="";this.sn[e],this.listing.po,this.listing.uniqueid,this.barcoder},hasDuplicates:function(e){if(1!==e.filter((function(e){return null!==e&&void 0!==e&&""!==e})).length){var t=e.filter(Boolean);return new Set(t).size!==t.length}return!1},checkerifexist:function(e){var t;return this.key.forEach((function(a,r){a==e&&(t=!0)})),1==t},ifsn:function(e){var t;return this.checker.forEach((function(a,r){a.key==e&&(t=a.sn)})),t||!1},getqty:function(e){var t;return this.checker.forEach((function(a,r){a.key==e&&(t=a.qty)})),t||0},getDocEntry:function(e){this.pos=!1,this.searchpo(e)},viewpo:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,me.a.get(t.$URLs.backend+"/api/inventory/grpo/viewpos?status="+e).then((function(e){t.allpos=e.data}));case 2:return a.next=4,t.allpos.forEach((function(e,a){t.history.includes(t.history)||(t.history.push(e.DocEntry),console.log(e.DocEntry))}));case 4:case"end":return a.stop()}}),a)})))()},progress:function(e){var t=this;console.log(e),this.interval=setInterval((function(){me.a.get(t.$URLs.backend+"/api/inventory/grpo/progress?data="+e).then((function(e){t.progStatus=e.data.status+" %",100===Math.round(e.data.status)&&clearInterval(t.interval)}))}),2e4)},verifydata:function(){this.Verifysync=!0;var e=this.alldata();this.verifiedSerial=e},send:function(){this.isProgress=!0;var e=this.alldata();this.creategrpo(e),this.progress(this.systemID)},alldata:function(){if(0!=this.vendorref.length&&0!=this.remarks.length){var e,t=[];return this.sn.forEach((function(e,a){t.push({sn:e,index:a})})),e={listing:this.listing,serial:t,vendorref:this.vendorref,remarks:this.remarks},e}this.errorvendor="Required",this.errorremarks="Required"},generateRange:function(e){return Array.from({length:e},(function(e,t){return t+1}))},creategrpo:function(e){var t=this;me.a.post(this.$URLs.backend+"/api/inventory/grpo/create",{data:e}).then((function(e){console.log(e.data),t.refresh2();JSON.stringify(e.data);t.$swal("Sync!",""+e.data.message,e.data.status),t.Verifysync=!1}))},searchpo:function(e){var t=this;this.$socket.emit("history",this.companies);var a=e;e||(a=this.searchPO),this.loadingPosList=!0,this.loading=!0,me.a.post(this.$URLs.backend+"/api/inventory/grpo/search?status="+this.status,{data:a}).then((function(e){t.barcoder=e.data.barcoder,t.podata=e.data.data,t.loading=!1,t.loadingPosList=!1,t.key=[],t.checker=[],e.data.key.forEach((function(e,a){t.key.push(e[3]),t.checker.push({key:e[3],sn:e[7],qty:e[8]})}))}))},inforeset:function(){},handleDocEntryClick:function(e,t){var a=this,r=e.WhsCode.split("-");if(this.listing={po:e.DocEntry,quantity:this.getqty(e.DocEntry+e.ItemCode+e.LineNum),linenum:e.LineNum,itemcode:e.ItemCode,uniqueid:e.DocEntry+e.ItemCode+e.LineNum+e.OpenQty,whs:r[0],model:e.Dscription,brand:e.FirmName},1==t){var i=new Date,n=(i.getMonth()+1).toString().padStart(2,"0"),o=i.getDate().toString().padStart(2,"0"),s=i.getFullYear().toString(),c=i.getHours(),l=i.getMinutes(),d=s.slice(-2)+""+n+o+c+l+this.listing.whs;this.sn=[],this.generateRange(this.listing.quantity).forEach((function(e,t){a.sn[t]=d+e})),this.systemID=this.listing.uniqueid,this.serialmanageDialog=!0}else me.a.get(this.$URLs.backend+"/api/inventory/grpo/getlines?data="+e.DocEntry+"-"+parseInt(this.getqty(e.DocEntry+e.ItemCode+e.LineNum))+"-"+e.LineNum).then((function(t){a.remarks="",a.vendorref="",console.log(a.checkerifexist(e.DocEntry+e.ItemCode+e.LineNum)),1==a.checkerifexist(e.DocEntry+e.ItemCode+e.LineNum)?(a.systemID=a.listing.uniqueid,a.sn=[],a.sndata=t.data,a.serialmanageDialog=!0,t.data["sn"].forEach((function(e,t){a.sn[e[2]]=e[3]})),a.remarks=t.data["info"][3],a.vendorref=t.data["info"][2]):alert("@Stevefox_Linux 404")}))},fetchLogs:function(e){var t=this;me.a.get(this.$URLs.backend+"/api/getlogs/grpo?data="+e).then((function(e){t.logsData=e.data}))},logsIinterVal:function(e){var t=this;this.intervalId=setInterval((function(){t.fetchLogs(e)}),1e3)},createAtion:function(){var e=this;this.generateRandomNumber();var t=this.$vs.loading({progress1:0}),a=setInterval((function(){e.progress<=100&&t.changeProgress(e.progress++)}),40);this.logsDialog=!0;var r=[],i=this.items.filter((function(e){return""!==e}));console.log(i),this.podata.forEach((function(t,a){e.selected.forEach((function(e,a){e==t.LineNum&&(console.log(i[a]),r.push({DocEntry:t.DocEntry,LineNum:t.LineNum,TargetType:t.TargetType,TrgetEntry:t.TrgetEntry,BaseRef:t.BaseRef,BaseType:t.BaseType,BaseEntry:t.BaseEntry,BaseLine:t.BaseLine,LineStatus:t.LineStatus,ItemCode:t.ItemCode,Dscription:t.Dscription,qty:i[a]?i[a]:t.OpenQty,ShipDate:t.ShipDate,OpenQty:t.OpenQty,Price:t.Price,Currency:t.Currency,Rate:t.Rate,DiscPrcnt:t.DiscPrcnt,LineTotal:t.LineTotal,TotalFrgn:t.TotalFrgn,OpenSum:t.OpenSum,OpenSumFC:t.OpenSumFC,VendorNum:t.VendorNum,SerialNum:t.SerialNum,WhsCode:t.WhsCode,SlpCode:t.SlpCode,Commission:t.Commission,TreeType:t.TreeType,AcctCode:t.AcctCode,TaxStatus:t.TaxStatus,GrossBuyPr:t.GrossBuyPr,PriceBefDi:t.PriceBefDi,DocDate:t.DocDate,Flags:t.Flags,OpenCreQty:t.OpenCreQty,UseBaseUn:t.UseBaseUn,SubCatNum:t.SubCatNum,BaseCard:t.BaseCard,TotalSumSy:t.TotalSumSy,OpenSumSys:t.OpenSumSys,InvntSttus:t.InvntSttus,OcrCode:t.OcrCode,Project:t.Project,CodeBars:t.CodeBars,VatPrcnt:t.VatPrcnt,VatGroup:t.VatGroup,PriceAfVAT:t.PriceAfVAT,Height1:t.Height1,FirmName:t.FirmName}))}))})),this.logsIinterVal(this.randomID);var n=btoa(JSON.stringify(r)),o={hash:n,line:this.selected,logsID:this.randomID};console.log(o),me.a.post(this.$URLs.backend+"/api/inventory/grpo/createpo",{data:o}).then((function(r){t.close(),clearInterval(a),clearInterval(e.intervalId),e.logsDialog=!1,e.progress=0;JSON.stringify(r.data);e.$swal("Grpo Creation",""+r.data.message,r.data.status),e.createdgrpo()})).catch((function(r){clearInterval(e.intervalId),console.error("An error occurred:",r),e.$swal("Error!","Failed to sync data: "+r.message,"error"),t.close(),clearInterval(a)}))},refresh2:function(){this.listing={},this.systemID="",this.isProgress=!1,this.serialmanageDialog=!1,this.selected=[],this.searchpo(this.searchPO)},refresh:function(){this.listing={},this.systemID="",this.isProgress=!1,this.serialmanageDialog=!1,this.selected=[],this.searchpo(this.searchPO),this.$socket.emit("refresh",this.searchPO)},print:function(){this.printlink="",this.printdialog=!0,this.printlink=this.$URLs.backend+"/api/grpo/print?id="+btoa(JSON.stringify(this.sn))+"&brand="+this.listing.brand+"&model="+this.listing.model},download:function(){this.$store.dispatch("printgrpobarcode/download",this.sn).then((function(e){var t=e;window.open(t,"_blank")}))}},mounted:function(){var e=this;this.mapid=this.$route.params.mapid,this.mapid?(this.status="O",this.searchPO=this.mapid,this.viewpo("O"),this.searchpo(this.searchPO)):(this.viewpo("O"),this.status="O");var t=localStorage.getItem("user");this.companies=JSON.parse(t).branch.companies,this.verifiedSerial={listing:{po:"",quantity:"",linenum:"",itemcode:"",uniqueid:"",whs:"",model:"",brand:""},serial:[],vendorref:"",remarks:""},this.$store.dispatch("userPermissions/fetchPermission"),this.sockets.subscribe("refresh",(function(t){e.searchPO==t&&(e.listing={},e.systemID="",e.isProgress=!1,e.serialmanageDialog=!1,e.selected=[],e.searchpo(e.searchPO))})),this.sockets.subscribe("serialized",(function(t){t.uniqueid==e.listing.uniqueid&&t.id==e.listing.po&&(e.sn=[].concat(Object(fs["a"])(e.sn.slice(0,t.key)),[t.sn],Object(fs["a"])(e.sn.slice(t.key+1))),e.br[t.key]=t.barcoder,e.remarks=t.remark,e.vendorref=t.vendor,e.focusNextEmptyField())})),this.sockets.subscribe("history",(function(t){console.log(t.company+"-"+e.companies),t.company==e.companies&&(e.history.includes(t.po)||e.history.push(t.po))}))}},gs=_s,bs=Object(m["a"])(gs,ps,hs,!1,null,null,null),xs=bs.exports;p()(bs,{VAvatar:Dn["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VImg:R["a"],VList:_["a"],VListItemContent:y["a"],VProgressLinear:us["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"]});var ys=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}})],1),a("v-col",{staticClass:"text-right"},[e.mapid?a("v-btn",{attrs:{color:"teal",dark:""},on:{click:function(t){return e.back()}}},[e._v(" BACK ")]):e._e()],1)],1),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-text",[a("v-text-field",{staticStyle:{"margin-top":"19px"},attrs:{label:"Vendor Ref No",dense:"",solo:"","error-messages":e.errorvendor},on:{input:e.inforeset},model:{value:e.vendorref,callback:function(t){e.vendorref=t},expression:"vendorref"}}),a("v-textarea",{staticClass:"ml-2 mr-2",attrs:{outlined:"",label:"Remarks","error-messages":e.errorremarks},on:{input:e.inforeset},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1),a("v-card-text",[a("v-text-field",{attrs:{placeholder:"SEARCH PO #",loading:e.loading,dense:""},model:{value:e.searchPO,callback:function(t){e.searchPO=t},expression:"searchPO"}}),a("v-card-text",[e._v(" Recent PO's:"),a("br"),e._l(e.history,(function(t,r){return a("a",{key:r,on:{click:function(a){return e.historyclick(t)}}},[e._v(" "+e._s(t)+" "),r<e.history.length-1?a("span",[e._v(", ")]):e._e()])}))],2),a("div",{staticClass:"d-flex justify-end"},[a("v-chip",{staticClass:"ma-2",attrs:{color:"teal","text-color":"white"},on:{click:function(t){return e.searchpo()}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("mdi-search-web")])],1),e._v(" Search ")],1)],1)],1),a("v-card-actions",[a("v-spacer"),e.creator?a("div",[e.ccheckbox?e._e():a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.createAtion()}}},[e._v(" CREATE ")])],1):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-skeleton-loader",{attrs:{loading:e.loadingPosList,type:"table-heading, list-item-two-line, image, table-tfoot"}},[a("v-data-table",{attrs:{dense:"",headers:e.headers,items:e.podata,"item-key":"DocEntry"},scopedSlots:e._u([{key:"item.Quantity",fn:function(t){var r=t.item;return[a("vs-input",{attrs:{type:"number",max:"5",disabled:!0},model:{value:r.Quantity,callback:function(t){e.$set(r,"Quantity",t)},expression:"item.Quantity"}})]}},{key:"item.Status",fn:function(t){var a=t.item;return[e._v(" "+e._s("C"==a.LineStatus?"Closed":"Open")+" ")]}},{key:"item.DocEntry",fn:function(t){var r=t.item;return[e.checkerifexist(r.DocEntry+r.ItemCode+r.LineNum+e.formatNumber(r.OpenQty)||"C"==r.LineStatus)?a("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",color:0==r.status?"grey":"success",disabled:0==r.status&&!e.vendorref},on:{click:function(t){return e.handleDocEntryClick(r)}}},[a("strong",[e._v(" "+e._s(0==r.status?"SERIALIZED":"VIEWPRINT")+" ")])]):e._e(),0==r.status?a("v-btn",{attrs:{disabled:0==r.status&&!e.vendorref,"x-small":"",color:"orange"},on:{click:function(t){return e.handleDocEntryClick(r,1)}}},[a("strong",[e._v(" AUTO SN ")])]):e._e(),a("v-btn",{staticClass:"ml-2",attrs:{disabled:0==r.status&&!e.vendorref,loading:e.reportsloading,"x-small":"",icon:"",fab:""},on:{click:function(t){return e.reports(r.mapid)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])})],1)],1),a("v-divider")],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.pos,callback:function(t){e.pos=t},expression:"pos"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.searchPOs,callback:function(t){e.searchPOs=t},expression:"searchPOs"}})],1),a("v-card-text",[a("v-skeleton-loader",{attrs:{loading:e.loadingPos,type:"table-heading, list-item-two-line, image, table-tfoot"}},[a("v-data-table",{attrs:{headers:e.poheaders,items:e.allpos,search:e.searchPOs},scopedSlots:e._u([{key:"item.DocEntry",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getDocEntry(r.DocEntry)}}},[e._v(" "+e._s(r.DocEntry)+" ")])]}}])})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.pos=!1}}},[e._v(" close ")])],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},on:{click:function(t){return e.focusNextEmptyField(e.index)}},model:{value:e.serialmanageDialog,callback:function(t){e.serialmanageDialog=t},expression:"serialmanageDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{background:"linear-gradient(","border-radius":"10px"}},[a("v-btn",{attrs:{icon:""},on:{click:e.closedserialm}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("v-text-field",{staticStyle:{"margin-top":"19px"},attrs:{label:"Vendor Ref No",dense:"",solo:"","error-messages":e.errorvendor,disabled:!0},on:{input:e.inforeset},model:{value:e.vendorref,callback:function(t){e.vendorref=t},expression:"vendorref"}})],1),a("v-spacer"),e.creator?a("v-toolbar-items",[0==this.errorSN.filter((function(e){return e})).length?a("v-btn",{attrs:{text:"",dense:"",disabled:e.sncheck!=parseFloat(e.listing.quantity).toFixed(0)},on:{click:function(t){return e.verifydata()}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("mdi-content-save-all")])],1):e._e()],1):e._e()],1),a("v-list",{attrs:{"three-line":""}},[a("v-list-item-content",{staticClass:"ml-2"},[a("br"),e._v(" Purchased Order Number#: "+e._s(e.listing.po)+" "),a("br"),e._v(" Quantity: "+e._s(e.listing.quantity)+" "),a("br"),e._v("Line#: "+e._s(e.listing.linenum)),a("br"),e._v("Model: "+e._s(e.listing.model)+" ")]),a("v-list-item-content",{staticClass:"ml-2"},[a("v-alert",{attrs:{dismissible:"",color:"red",border:"left",elevation:"2","colored-border":"",icon:"mdi-warning",label:"Please Dont used the following serial"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.errors)+" ")])],1),a("v-spacer"),a("v-textarea",{staticClass:"ml-2 mr-2",attrs:{outlined:"",label:"Remarks","error-messages":e.errorremarks,disabled:!0},on:{input:e.inforeset},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}}),a("v-card-title",[e._v("Serial "),a("v-icon",{attrs:{dense:"",color:"black",disabled:e.sncheck!=parseFloat(e.listing.quantity).toFixed(0)},on:{click:function(t){return e.print()}}},[e._v("mdi-printer")])],1),e._l(e.generateRange(e.listing.quantity),(function(t){return a("div",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"textField"+t,refInFor:!0,attrs:{clearable:"",dense:"",label:"SN"+t+(e.br[t-1]?" BARCODER: "+e.br[t-1]:""),color:"green","error-messages":e.errorSN[t-1]},on:{input:function(a){return e.validateField(t-1,e.listing.quantity)},"click:clear":function(a){return e.validateField(t-1,0)},focus:function(a){return e.focusNextEmptyField(t)},click:function(a){return e.focusNextEmptyField(t)},keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"tab",9,a.key,"Tab")?null:(a.preventDefault(),e.focusNextEmptyField(t))}},model:{value:e.sn[t-1],callback:function(a){e.$set(e.sn,t-1,a)},expression:"sn[index - 1]"}})],1)],1)}))],2),a("v-divider")],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"240"},model:{value:e.isProgress,callback:function(t){e.isProgress=t},expression:"isProgress"}},[a("v-card",{staticStyle:{background:"linear-gradient("}},[a("v-img",{attrs:{"lazy-src":"/syncing3.gif","max-height":"60","max-width":"240",src:"/syncing3.gif"}})],1),a("v-card-text",[e._v(" "+e._s(e.animatedText)+" "),a("v-progress-linear",{attrs:{color:"blue-grey",height:"25"},model:{value:e.progStatus,callback:function(t){e.progStatus=t},expression:"progStatus"}},[a("strong",[e._v(e._s(e.progStatus))])])],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printdialog,callback:function(t){e.printdialog=t},expression:"printdialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"white"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printdialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Print Barcode")]),a("v-spacer"),a("v-card-actions")],1),a("iframe",{attrs:{src:e.printlink,width:"100%",height:"650"}})],1)],1),a("v-dialog",{attrs:{persistent:""},model:{value:e.Verifysync,callback:function(t){e.Verifysync=t},expression:"Verifysync"}},[a("v-card",[a("v-card-title",{staticClass:"text-h8"},[e._v(" Review Breakdown ")]),a("v-card-text",[a("strong",[e._v("PO:")]),e._v(" "+e._s(e.verifiedSerial.listing.po)+" "),a("br"),a("strong",[e._v("Quantity:")]),e._v(" "+e._s(parseFloat(e.verifiedSerial.listing.quantity).toFixed(0))+" "),a("br"),a("strong",[e._v("Line Number:")]),e._v(" "+e._s(e.verifiedSerial.listing.linenum)+" "),a("br"),a("strong",[e._v("Item Code:")]),e._v(" "+e._s(e.verifiedSerial.listing.itemcode)+" "),a("br"),a("strong",[e._v("Unique ID:")]),e._v(" "+e._s(e.verifiedSerial.listing.uniqueid)+" "),a("br"),a("strong",[e._v("Warehouse:")]),e._v(" "+e._s(e.verifiedSerial.listing.whs)+" "),a("br"),a("strong",[e._v("Model:")]),e._v(" "+e._s(e.verifiedSerial.listing.model)+" "),a("br"),a("strong",[e._v("Brand:")]),e._v(" "+e._s(e.verifiedSerial.listing.brand)+" "),a("br"),a("strong",[e._v("Vendor Reference:")]),e._v(" "+e._s(e.verifiedSerial.vendorref)),a("br"),a("strong",[e._v("Remarks:")]),e._v(" "+e._s(e.verifiedSerial.remarks)+" "),a("v-card-title",{staticClass:"text-h8"},[e._v("Serial")]),a("ul",e._l(e.verifiedSerial.serial,(function(t){return a("li",{key:t.index},[a("strong",[e._v(e._s(t.index+1)+". SN:")]),e._v(" "+e._s(t.sn)+", ")])})),0)],1),a("v-card-text",[e._v(" You cannot edit the document once it is submitted successfully. ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.Verifysync=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.send}},[e._v(" Sync & Closed ")])],1)],1)],1)],1)},ks=[],Ts={mixins:[Ke["validationMixin"]],validations:{data:{color:"",model:{required:We["required"]},prodcat:{required:We["required"]},itmgroup:{required:We["required"]},withHtaxt:{required:We["required"]},brand:{required:We["required"]},batchserial:{required:We["required"]},warrantytemp:{required:We["required"]},preferredvendor:{required:We["required"]},purchaseuom:{required:We["required"]},inventoryoum:{required:We["required"]}}},data:function(){return{alert:!1,errors:[],mapid:"",status:"",reportsloading:!1,companies:"",history:[],q:"",countserial:"",verifiedSerial:[],Verifysync:!1,perm:["Create GRPO"],loadingPos:!1,loadingPosList:!1,br:[],reportsdata:"",barcoder:"",printlink:"",printdialog:!1,realdata:[],errorremarks:"",errorvendor:"",sndisable:[],errorSN:[],vendorref:"",remarks:"",sndata:[],qoutes:"",pos:!1,qty:1,qtydialog:!1,checker:[],key:[],selected:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"GRPO",disabled:!0,href:"/sapb1/grpo/po"},{text:"CREATED",disabled:!0,href:"/sapb1/grpo/po/created/"+this.searchPO}],progress1:0,isProgress:!1,systemID:"",search:"",podata:[],searchPO:"",loading:!1,listing:{},serialmanageDialog:!1,sn:[],text:"Connecting to SAP B1 Integration",dots:"",progStatus:"",interval:"",headers:[{text:"Action",align:"start",sortable:!1,value:"DocEntry"},{text:"WhsCode",value:"WhsCode"},{text:"ItemCode",value:"ItemCode"},{text:"Dscription",value:"Dscription"},{text:"Quantity",value:"Quantity"}],poheaders:[{text:"CardCode",value:"CardCode"},{text:"CardName",value:"CardName"},{text:"PO#",value:"DocEntry"}],allpos:[],searchPOs:""}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermission"})),{},{creator:function(){return this.permissions.includes("Master GRPO")},animatedText:function(){return this.text+this.dots},ccheckbox:function(){return 0===this.selected.length},checkerror:function(){return this.errorSN},sncheck:function(){return this.sn.filter((function(e){return null!==e})).length}}),created:function(){},watch:{alert:function(e){e||this.onAlertClose()}},methods:{formatNumber:function(e){return parseFloat(e)},onAlertClose:function(){var e=this;this.errors.forEach((function(t,a){t==e.sn[a]&&(e.sn[a]="")})),this.errors=[]},back:function(){this.$router.push("/sapb1/grpo/po/"+this.mapid)},historyclick:function(e){this.searchPO=e,this.searchpo()},reports:function(e){var t=this;this.reportsloading=!0;var a=e;me.a.get(this.$URLs.backend+"/api/gen/grporeceiving?data="+a,{responseType:"blob"}).then((function(e){t.reportsdata=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));var a=document.createElement("a");a.href=t.reportsdata,a.target="_blank",a.setAttribute("download","receivingreports.pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a),t.reportsloading=!1}))},focusNextEmptyField:function(e){this.recheckSn(e);var t=this.sn.findIndex((function(e){return null===e||""===e}))+1;this.$refs["textField"+t][0].focus()},closedserialm:function(){this.serialmanageDialog=!1,this.errorSN=[]},validateField:function(e,t){this.q=parseFloat(t),this.countserial=this.sn.filter((function(e){return""!==e})).length,console.log(this.countserial+"-"+this.q),this.hasDuplicates(this.sn)?this.errorSN[e]="Duplicate entries are not allowed.":this.countserial!==this.q?this.errorSN[e]="Don't Blank":this.errorSN[e]="";var a={key:e,sn:this.sn[e],id:this.listing.po,uniqueid:this.listing.uniqueid,barcoder:this.barcoder};this.$socket.emit("serialized",a)},hasDuplicates:function(e){if(1!==e.filter((function(e){return null!==e&&void 0!==e&&""!==e})).length){var t=e.filter(Boolean);return new Set(t).size!==t.length}return!1},keycheckStatus:function(e){var t;return this.checker.forEach((function(a,r){if(e==r)return t=100==a.status})),t},checkerifexist:function(e){var t;return this.key.forEach((function(a,r){a==e&&(t=!0)})),1==t},ifsn:function(e){var t;return this.checker.forEach((function(a,r){a.key==e&&(t=a.sn)})),t||!1},getqty:function(e){var t;return this.checker.forEach((function(a,r){a.key==e&&(t=a.qty)})),t||0},getDocEntry:function(e){this.pos=!1,this.searchpo(e)},viewpo:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,me.a.get(t.$URLs.backend+"/api/inventory/grpo/viewpos?status="+e).then((function(e){t.allpos=e.data}));case 2:return a.next=4,t.allpos.forEach((function(e,a){t.history.includes(t.history)||(t.history.push(e.DocEntry),console.log(e.DocEntry))}));case 4:case"end":return a.stop()}}),a)})))()},progress:function(e){var t=this;console.log(e),this.interval=setInterval((function(){me.a.get(t.$URLs.backend+"/api/inventory/grpo/progress?data="+e).then((function(e){t.progStatus=e.data.status+" %",100===Math.round(e.data.status)&&clearInterval(t.interval)}))}),2e4)},verifydata:function(){var e=this;this.sn.forEach((function(t,a){e.recheckSn(a,e.listing.uniqueid)})),this.Verifysync=!0;var t=this.alldata();this.verifiedSerial=t},recheckSn:function(e,t){var a=this;console.log(this.listing);var r={brand:this.listing.brand,sn:this.sn[e-1],model:this.listing.model};console.log(r),me.a.get(this.$URLs.backend+"/api/grpo/checkserial/getlines?sn="+r.sn+"&brand="+r.brand+"&model="+r.model+"&uid="+t).then((function(e){a.errors.includes(e.data[0].sn)?(console.log("Item already exists"),a.alert=!0):(a.alert=!0,a.errors.push(e.data[0].sn))}))},send:function(){var e=this,t=this.alldata();this.sn.forEach((function(t,a){e.recheckSn(a)})),0==this.errors.length?(this.isProgress=!0,this.creategrpo(t),this.progress(this.systemID)):alert("Something wrong this serial "+this.errors+" is already in "+t.listing.brand)},alldata:function(){if(0!=this.vendorref.length&&0!=this.remarks.length){var e,t=[];return this.sn.forEach((function(e,a){t.push({sn:e,index:a})})),e={listing:this.listing,serial:t,vendorref:this.vendorref,remarks:this.remarks},e}this.errorvendor="Required",this.errorremarks="Required"},generateRange:function(e){return Array.from({length:e},(function(e,t){return t+1}))},creategrpo:function(e){var t=this;me.a.post(this.$URLs.backend+"/api/inventory/grpo/create",{data:e}).then((function(e){console.log(e.data),t.refresh2();JSON.stringify(e.data);t.$swal("Sync!",""+e.data.message,e.data.status),t.Verifysync=!1})).catch((function(e){console.error("An error occurred:",e),t.$swal("Error!","Failed to sync data: "+e.message,"error"),t.Verifysync=!0}))},searchpo:function(e){var t=this;this.$socket.emit("history",this.companies);var a=e;e||(a=this.searchPO),this.loadingPosList=!0,this.loading=!0,me.a.post(this.$URLs.backend+"/api/inventory/grpo/createdgrpos?status="+this.status,{data:a}).then((function(e){t.barcoder=e.data.barcoder,t.podata=e.data.data,t.loading=!1,t.loadingPosList=!1,t.key=[],t.checker=[],e.data.key.forEach((function(e,a){t.key.push(e[3]),t.checker.push({key:e[3],sn:e[7],qty:e[8],status:e[1]})})),console.log(t.key)}))},inforeset:function(){},handleDocEntryClick:function(e,t){var a=this,r=e.WhsCode.split("-");if(this.listing={po:e.DocEntry,quantity:this.getqty(e.DocEntry+e.ItemCode+e.LineNum+this.formatNumber(e.OpenQty)),linenum:e.LineNum,itemcode:e.ItemCode,uniqueid:e.DocEntry+e.ItemCode+e.LineNum+this.formatNumber(e.OpenQty),whs:r[0],model:e.Dscription,brand:e.FirmName},1==t){var i=new Date,n=(i.getMonth()+1).toString().padStart(2,"0"),o=i.getDate().toString().padStart(2,"0"),s=i.getFullYear().toString(),c=i.getHours(),l=i.getMinutes(),d=s.slice(-2)+""+n+o+c+l+this.listing.whs;this.sn=[],this.generateRange(this.listing.quantity).forEach((function(e,t){a.sn[t]=d+e})),this.systemID=this.listing.uniqueid,this.serialmanageDialog=!0}else me.a.get(this.$URLs.backend+"/api/inventory/grpo/getlines?data="+e.DocEntry+"-"+parseInt(this.getqty(e.DocEntry+e.ItemCode+e.LineNum+this.formatNumber(e.OpenQty)))+"-"+e.LineNum).then((function(t){console.log(a.checkerifexist(e.DocEntry+e.ItemCode+e.LineNum+a.formatNumber(e.OpenQty))),1==a.checkerifexist(e.DocEntry+e.ItemCode+e.LineNum+a.formatNumber(e.OpenQty))?(a.systemID=a.listing.uniqueid,a.sn=[],a.sndata=t.data,a.serialmanageDialog=!0,t.data["sn"].forEach((function(e,t){a.sn[e[2]]=e[3]})),a.remarks=t.data["info"][3],a.vendorref=t.data["info"][2]):alert("@Stevefox_Linux 404")}))},createAtion:function(){var e=this,t=this.$vs.loading({progress1:0}),a=setInterval((function(){e.progress<=100&&t.changeProgress(e.progress++)}),40),r=[];this.podata.forEach((function(t,a){e.selected.forEach((function(e,a){e==t.LineNum&&r.push({ItemCode:t.ItemCode,LineNum:t.LineNum,DocEntry:t.DocEntry,qty:t.Quantity})}))}));var i=btoa(JSON.stringify(r)),n={hash:i,line:this.selected};me.a.post(this.$URLs.backend+"/api/inventory/grpo/createpo",{data:n}).then((function(r){console.log(r.data),e.refresh(),t.close(),clearInterval(a),e.progress=0;JSON.stringify(r.data);e.$swal("Grpo Creation",""+r.data.message,r.data.status),e.$socket.emit("history",{company:e.companies,po:e.searchPO})}))},refresh2:function(){this.listing={},this.systemID="",this.isProgress=!1,this.serialmanageDialog=!1,this.selected=[],this.searchpo(this.searchPO)},refresh:function(){this.listing={},this.systemID="",this.isProgress=!1,this.serialmanageDialog=!1,this.selected=[],this.searchpo(this.searchPO),this.$socket.emit("refresh",this.searchPO)},print:function(){this.printlink="",this.printdialog=!0,this.printlink=this.$URLs.backend+"/api/grpo/print?id="+btoa(JSON.stringify(this.sn))+"&brand="+this.listing.brand+"&model="+this.listing.model},download:function(){this.$store.dispatch("printgrpobarcode/download",this.sn).then((function(e){var t=e;window.open(t,"_blank")}))}},mounted:function(){var e=this;this.mapid=this.$route.params.mapid,this.mapid?(this.status="C",this.searchPO=this.mapid,this.viewpo("C"),this.searchpo(this.searchPO)):(this.viewpo("O"),this.status="O");var t=localStorage.getItem("user");this.companies=JSON.parse(t).branch.companies,this.verifiedSerial={listing:{po:"",quantity:"",linenum:"",itemcode:"",uniqueid:"",whs:"",model:"",brand:""},serial:[],vendorref:"",remarks:""},this.$store.dispatch("userPermissions/fetchPermission"),this.sockets.subscribe("refresh",(function(t){e.searchPO==t&&(e.listing={},e.systemID="",e.isProgress=!1,e.serialmanageDialog=!1,e.selected=[],e.searchpo(e.searchPO))})),this.sockets.subscribe("serialized",(function(t){t.uniqueid==e.listing.uniqueid&&t.id==e.listing.po&&(e.sn=[].concat(Object(fs["a"])(e.sn.slice(0,t.key)),[t.sn],Object(fs["a"])(e.sn.slice(t.key+1))),e.br[t.key]=t.barcoder,e.focusNextEmptyField())})),this.sockets.subscribe("history",(function(t){console.log(t.company+"-"+e.companies),t.company==e.companies&&(e.history.includes(t.po)||e.history.push(t.po))}))}},Ss=Ts,Ds=Object(m["a"])(Ss,ys,ks,!1,null,null,null),Es=Ds.exports;p()(Ds,{VAlert:Sn["a"],VAvatar:Dn["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VImg:R["a"],VList:_["a"],VListItemContent:y["a"],VProgressLinear:us["a"],VRow:pt["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"]});var Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}}),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-title",{staticClass:"text-h5 lighten-3"},[e._v(" BARCODE PRINTING (Invty Transfer)")]),a("v-card-text",[e._v(" Barcode Printing ")]),a("v-card-text",[a("strong",[e._v("Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))])]),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search (DocNumber)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-card-text",[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction(1)}}},[e._v(" ALL ")]),a("v-btn",{style:"color: "+(1==e.invtymap?"red":""),attrs:{"x-small":"",dense:""},on:{click:function(t){return e.modulesativator(1)}}},[e._v(" Invty Transfer ")]),a("v-btn",{style:"color: "+(2==e.invtymap?"red":""),attrs:{"x-small":"",dense:""},on:{click:function(t){return e.modulesativator(2)}}},[e._v(" A/R Invoice ")]),a("v-btn",{style:"color: "+(3==e.invtymap?"red":""),attrs:{"x-small":"",dense:""},on:{click:function(t){return e.modulesativator(3)}}},[e._v(" Goods Receipt ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-card-actions",[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.owtr.data,"item-key":"DocEntry","hide-default-footer":""},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getDocEntry(r.DocEntry)}}},[e._v(" View Item ")])]}}])})],1),a("v-divider")],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printdialog,callback:function(t){e.printdialog=t},expression:"printdialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"white"}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printdialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Print Barcode")]),a("v-spacer"),a("v-card-actions")],1),a("iframe",{attrs:{src:e.printlink,width:"100%",height:"650"}})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"690"},model:{value:e.getItem,callback:function(t){e.getItem=t},expression:"getItem"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6"},[e._v(" Invetory Transfer Items ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers2,items:e.wtr1,"item-key":"DocEntry","hide-default-footer":""},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.print(r)}}},[e._v(" print ")])]}}])}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.getItem=!1}}},[e._v(" Close ")])],1)],1)],1)],1)},As=[],Is={mixins:[Ke["validationMixin"]],validations:{data:{}},data:function(){return{invtymap:1,printlink:"",printdialog:!1,wtr1:[],getItem:!1,path:"",search:"",documentno:"2222",nextv:"",prevv:"",currentpage:"",topage:"",totalpage:"",owtr:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"BARCODE PRINTING",disabled:!0,href:"/sapb1/barcode/printing"}],headers:[{text:"DocNumber",align:"start",sortable:!1,value:"DocNum"},{text:"Branch",value:"U_Name"},{text:"Comments",value:"Comments"},{text:"Action",value:"action"}],headers2:[{text:"DocEntry",align:"start",sortable:!1,value:"DocEntry"},{text:"ItemCode",value:"ItemCode"},{text:"Brand",value:"Brand"},{text:"Dscription",value:"Dscription"},{text:"Quantity",value:"Quantity"},{text:"DocDate",value:"DocDate"},{text:"WhsCode",value:"WhsCode"},{text:"Action",value:"action"}]}},computed:{},created:function(){},methods:{print:function(e){var t=this;console.log(e),this.printlink="",this.printdialog=!0,this.getItem=!0,me.a.get(this.$URLs.backend+"/api/inventory/transfer/printing/getserial?whscode="+e.WhsCode+"&itemcode="+e.ItemCode+"&baseline="+e.LineNum+"&brand="+e.Brand+"&model="+e.Dscription+"&qty="+e.Quantity+"&indate="+e.DocDate).then((function(e){var a=new Blob([e.data],{type:"text/html"});t.printlink=URL.createObjectURL(a),console.log(URL.createObjectURL(a))}))},getDocEntry:function(e){var t=this;this.getItem=!0,me.a.get(this.$URLs.backend+"/api/inventory/transfer/printing/getitem?item="+e).then((function(e){t.wtr1=e.data}))},modulesativator:function(e){var t=this;me.a.get(this.$URLs.backend+"/api/inventory/transfer/printing/activate?routeid="+e).then((function(a){t.invtymap=e,me.a.get(t.$URLs.backend+"/api/inventory/transfer/printing").then((function(e){t.owtr=e.data,t.nextv=e.data.next_page_url,t.prevv=e.data.prev_page_url,t.currentpage=e.data.current_page,t.topage=e.data.to,t.totalpage=e.data.total,t.path=e.data.path}))}))},searchfunction:function(e){var t=this.path+"?search="+this.search;this.callurl(t),1==e&&this.callurl(this.path)},callurl:function(e){var t=this;me.a.get(e).then((function(e){t.owtr=e.data,t.nextv=e.data.next_page_url,t.prevv=e.data.prev_page_url,t.currentpage=e.data.current_page,t.topage=e.data.to,t.totalpage=e.data.total,t.path=e.data.path}))},next:function(){this.callurl(this.nextv)},prev:function(){this.callurl(this.prevv)}},mounted:function(){var e=this;me.a.get(this.$URLs.backend+"/api/inventory/transfer/printing").then((function(t){console.log(t.data),e.owtr=t.data,e.nextv=t.data.next_page_url,e.prevv=t.data.prev_page_url,e.currentpage=t.data.current_page,e.topage=t.data.to,e.totalpage=t.data.total,e.path=t.data.path})),this.modulesativator(1)}},ws=Is,Rs=Object(m["a"])(ws,Cs,As,!1,null,null,null),Os=Rs.exports;p()(Rs,{VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VSpacer:P["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarTitle:V["b"]});var Ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}}),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-title",{staticClass:"text-h5 lighten-3"},[e._v("Goods Issue ")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.previous()}}},[e._v(" PREVIOUS ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.nextline()}}},[e._v(" NEXT ")])],1)],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.selectitem()}}},[e._v(" SELECT ITEM ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.submit()}}},[e._v(" SUBMIT ITEM ")])],1)],1)],1),a("v-card-actions",[e._v(" "+e._s(e.goodsissuelist)+" "),a("v-data-table",{key:e.componentKey,staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.goodsissue,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Quantity",fn:function(t){t.item;var r=t.index;return[a("v-text-field",{key:e.componentKey,attrs:{disabled:!0,placeholder:"Quantity",dense:""},model:{value:e.qtyModel[r],callback:function(t){e.$set(e.qtyModel,r,t)},expression:"qtyModel[index]"}},[e._v(e._s(r)+" "+e._s(e.qtyModel)+" ")])]}},{key:"item.whse",fn:function(t){var r=t.item,i=t.index;return[a("v-text-field",{attrs:{placeholder:"Warehouse",dense:""},on:{click:function(t){return e.getwhs(r.ItemCode,i)}},model:{value:e.warehouseModel[i],callback:function(t){e.$set(e.warehouseModel,i,t)},expression:"warehouseModel[index]"}},[e._v(e._s(r))])]}},{key:"item.serial",fn:function(t){var r=t.item,i=t.index;return[1==e.creation?a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(t){return e.viewSerial(r)}}},[e._v("Serial")]):e._e(),e.sn[i]&&0==e.creation?a("v-select",{key:e.componentKey,attrs:{items:e.sn[i],label:"Serial",multiple:""},on:{change:function(t){return e.getQty(i)}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[a("v-checkbox",{key:e.componentKey,attrs:{label:"Select All"},on:{click:function(t){return e.toggle(i)}},model:{value:e.selectall[i],callback:function(t){e.$set(e.selectall,i,t)},expression:"selectall[index]"}})],1)],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}],null,!0),model:{value:e.selectedSerial[i],callback:function(t){e.$set(e.selectedSerial,i,t)},expression:"selectedSerial[index]"}}):e._e()]}},{key:"item.glaccount",fn:function(t){t.item;var r=t.index;return[a("v-autocomplete",{attrs:{chips:"",clearable:"","deletable-chips":"",dense:"","small-chips":"",items:e.glAccount,"item-value":"AcctCode","item-text":"AcctName",label:"GL ACCOUNT"},model:{value:e.glModel[r],callback:function(t){e.$set(e.glModel,r,t)},expression:"glModel[index]"}},[e._v(e._s(r))])]}}])})],1),a("v-divider"),a("v-row",[a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Remarks",value:e.listgoodsissue.Comments},model:{value:e.remarksModel,callback:function(t){e.remarksModel=t},expression:"remarksModel"}})],1),a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{disabled:!0,outlined:"",name:"input-7-4",label:"Journal Remarks",value:e.listgoodsissue.JrnlMemo}})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.getItem,callback:function(t){e.getItem=t},expression:"getItem"}},[a("v-card",[a("v-card-title",[e._v(" List of Items ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Item Name)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers2,items:e.oitm,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item,i=t.index;return[a("v-checkbox",{on:{click:function(t){return e.getItemData(r,i)}},model:{value:e.checkbox[i],callback:function(t){e.$set(e.checkbox,i,t)},expression:"checkbox[index]"}})]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.getItem=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.warehouseDialog,callback:function(t){e.warehouseDialog=t},expression:"warehouseDialog"}},[a("v-card",[a("v-card-title",[e._v(" List of Warehouse ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Warehouse Code)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.warehouseHeader,items:e.oitw,"hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getWarehouse(r)}}},[e._v(" Select ")])]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.warehouseDialog=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.viewSerialNumbers,callback:function(t){e.viewSerialNumbers=t},expression:"viewSerialNumbers"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Serial ")]),e._l(e.closeserial,(function(t,r){return a("v-card-text",{key:r},[a("strong",[a("p",[e._v(e._s(t.IntrSerial))])])])})),a("v-card-actions",[a("v-spacer")],1)],2)],1)],1)},Vs=[],Ns={mixins:[Ke["validationMixin"]],validations:{data:{}},data:function(){return{loading2:!1,loader:null,creation:0,search:"",selectall:[],activewhsfields:0,activeModal:4,activevalue:0,currentpage:"",topage:"",totalpage:"",nextt:"",prevtt:"",getItem:!1,warehouseDialog:!1,serialDialog:!1,viewSerialNumbers:!1,nextpages:"",prevpages:"",lastpages:"",checkbox:[],dialogs:["items","itembywarehouse","availablesn","gl","goodsissuelist"],activeRouteBase:"",oitm:[],oitw:[],goodsissue:[],sn:[],selectedSerial:[],glAccount:[],glModel:[],warehouseModel:[],qtyModel:[],remarksModel:[],listgoodsissue:{},closeserial:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"Transactions",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"},{text:"Goods Issue",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"}],warehouseHeader:[{text:"WhsCode",align:"start",sortable:!1,value:"WhsCode"},{text:"ItemCode",value:"ItemCode"},{text:"Stocks",value:"OnHand"},{text:"IsCommited",value:"IsCommited"},{text:"OnOrder",value:"OnOrder"},{text:"Action",value:"Action"}],headers:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"Item Description",value:"ItemName"},{text:"Quantity",value:"Quantity"},{text:"Whse",value:"whse"},{text:"Serial",value:"serial"},{text:"Inventory Offset - Decrease Account",value:"glaccount"}],headers2:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"ItemName",value:"ItemName"},{text:"FrgnName",value:"FrgnName"},{text:"Stocks",value:"OnHand"},{text:"SRP",value:"U_srp"},{text:"Reg NC",value:"U_RegNC"},{text:"Present NC",value:"U_PresentNC"},{text:"Freebies",value:"U_Freebies"},{text:"Sizes",value:"U_cSizes"},{text:"Action",value:"Action"}],componentKey:0,selectedIndex:-1,page:0}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){return e[t]=!1}),3e3),this.loader=null}},computed:{},created:function(){},methods:{controller:function(e,t,a){var r=this;return Object(Ii["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,1==t?n="http://192.168.1.19:7771/api/inventory/goodsissue/getters?"+r.activeRouteBase:2==t?n=r.nextt:3==t?n=r.prevtt:4==t?n="http://192.168.1.19:7771/api/inventory/goodsissue/getters?get="+e+"&search="+r.search:5==t&&(n="http://192.168.1.19:7771/api/inventory/goodsissue/getters?get="+e+"&docentry="+a),i.next=4,me.a.get(n);case 4:return o=i.sent,i.abrupt("return",o.data);case 8:throw i.prev=8,i.t0=i["catch"](0),console.error("Error fetching data:",i.t0),i.t0;case 12:case"end":return i.stop()}}),i,null,[[0,8]])})))()},Getactivemodals:function(e){return this.dialogs[e]},selectitem:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.refresh(),e.creation=0,e.activevalue=0,e.getItem=!0,e.activeModal=0,e.activeRouteBase="&get="+e.Getactivemodals(e.activeModal),t.prev=6,t.next=9,e.controller(e.Getactivemodals(e.activeModal),1);case 9:a=t.sent,e.oitm=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),console.error("Error in selectitem:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[6,18]])})))()},next:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),2);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,console.log(e.listgoodsissue),e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=17,e.controller("index",5,a.data[0].DocEntry);case 17:return e.goodsissue=t.sent,t.next=20,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.glModel[a]=t.AcctCode,e.remarksModel=e.listgoodsissue.Comments}));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},prev:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),3);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=16,e.controller("index",5,a.data[0].DocEntry);case 16:return e.goodsissue=t.sent,t.next=19,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.glModel[a]=t.AcctCode,e.remarksModel=e.listgoodsissue.Comments}));case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},searchfunction:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeRouteBase=e.activeRouteBase+"&search="+e.search,t.prev=1,e.activevalue=4,t.next=5,e.controller(e.Getactivemodals(e.activeModal),4);case 5:a=t.sent,e.oitm=a.data,e.oitw=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.error("Error in selectitem:",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getItemData:function(e,t){this.selectall.push(!1),this.qtyModel.push(null),!0===this.checkbox[t]?this.goodsissue.push(e):this.goodsissue.splice(t,1)},getwhs:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.selectedIndex=t,a.activewhsfields=t,a.search="",a.activeModal=1,a.warehouseDialog=!0,a.search?a.activeRouteBase="&itemcode="+e+"&search="+a.search+"&get="+a.Getactivemodals(a.activeModal):a.activeRouteBase="&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e,a.oitm=[],a.oitw=[],r.prev=8,r.next=11,a.controller(a.Getactivemodals(a.activeModal),1,e);case 11:i=r.sent,a.oitw=i.data,a.nextt=i.next_page_url+a.activeRouteBase,a.prevtt=i.prev_page_url+a.activeRouteBase,a.currentpage=i.current_page,a.topage=i.to,a.totalpage=i.total,r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](8),console.error("Error in selectitem:",r.t0);case 23:case"end":return r.stop()}}),r,null,[[8,20]])})))()},getWarehouse:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$set(t.warehouseModel,t.activewhsfields,e.WhsCode);case 2:return a.next=4,e.WhsCode;case 4:return t.warehouseModel[t.activewhsfields]=a.sent,a.next=7,t.getsn(e,t.selectedIndex);case 7:return a.t0=t.componentKey,a.next=10,1;case 10:t.componentKey=a.t0+=a.sent,t.warehouseDialog=!1;case 12:case"end":return a.stop()}}),a)})))()},getsn:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.activeModal=2,a.activeRouteBase="&status=0&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+a.warehouseModel[t],a.serialDialog=!0,r.prev=3,r.next=6,a.controller(a.Getactivemodals(a.activeModal),1);case 6:i=r.sent,a.sn[t]=[],i.forEach((function(e){a.sn[t].push(e.IntrSerial)})),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](3),console.error("Error in selectitem:",r.t0);case 14:case"end":return r.stop()}}),r,null,[[3,11]])})))()},getItemData2:function(e){return Object(Ii["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},toggle:function(e){1==this.selectall[e]?(this.selectedSerial[e]=this.sn[e].slice(),this.componentKey+=1):(this.selectedSerial[e]=[],this.componentKey+=1),this.getQty(e)},getQty:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.qtyModel[e]=t.selectedSerial[e].length;case 1:case"end":return a.stop()}}),a)})))()},getGL:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.controller(e.activeRouteBase,1);case 2:return a=t.sent,t.abrupt("return",e.glAccount=a);case 4:case"end":return t.stop()}}),t)})))()},getGoodsIssue:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.page){a.next=15;break}return a.next=3,t.controller(t.activeRouteBase,1);case 3:return r=a.sent,t.listgoodsissue=r.data[0],t.nextt=r.next_page_url+t.activeRouteBase,t.prevtt=r.prev_page_url+t.activeRouteBase,t.lastpages=r.last_page_url,a.next=10,t.controller("index",5,r.data[0].DocEntry);case 10:t.goodsissue=a.sent,t.goodsissue.forEach((function(e,a){t.qtyModel[a]=e.Quantity,t.warehouseModel[a]=e.WhsCode,t.glModel[a]=e.AcctCode})),t.remarksModel=t.listgoodsissue.Comments,a.next=16;break;case 15:1==e?t.next():t.prev();case 16:case"end":return a.stop()}}),a)})))()},arrange:function(e,t,a,r,i,n,o){var s={myserialnumber:e,warehouse:t,MyItemCode:a,Quantity:r,GL:i,Model:n,Remarks:o};return s},submit:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),r=[],t.next=4,e.goodsissue.forEach((function(t,a){r.push(e.arrange(e.selectedSerial[a],e.warehouseModel[a],t.ItemCode,e.qtyModel[a],e.glModel[a],t.ItemName,e.remarksModel))}));case 4:if(!r){t.next=7;break}return t.next=7,me.a.post("http://192.168.1.19:7771/api/inventory/goodsissue/submit",r).then((function(t){e.$swal("Sync!",""+t.data.message,t.data.status),a.close(),"warning"!==t.data.status&&e.refresh()}));case 7:case"end":return t.stop()}}),t)})))()},nextline:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(1),console.log(this.activeRouteBase),this.creation=1,this.page+=1},previous:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(2),this.creation=1,this.page-=1},viewSerial:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.activeModal=2,t.activeRouteBase="&status=1&get="+t.Getactivemodals(t.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+e.WhsCode,t.viewSerialNumbers=!0,a.prev=3,a.next=6,t.controller(t.Getactivemodals(t.activeModal),1);case 6:r=a.sent,t.closeserial=r,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](3),console.error("Error in selectitem:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},refresh:function(){this.page=0,this.search="",this.selectall=[],this.activewhsfields=0,this.activeModal=4,this.activevalue=0,this.currentpage="",this.topage="",this.totalpage="",this.nextt="",this.prevtt="",this.getItem=!1,this.warehouseDialog=!1,this.serialDialog=!1,this.activeRouteBase="",this.oitm=[],this.oitw=[],this.goodsissue=[],this.sn=[],this.selectedSerial=[],this.glModel=[],this.warehouseModel=[],this.qtyModel=[],this.listgoodsissue={}}},mounted:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,3;case 2:return e.activeModal=t.sent,t.next=5,"&get=";case 5:t.t0=t.sent,t.t1=e.Getactivemodals(e.activeModal),e.activeRouteBase=t.t0+t.t1,e.getGL();case 9:case"end":return t.stop()}}),t)})))()}},$s=Ns,Us=Object(m["a"])($s,Ps,Vs,!1,null,null,null),qs=Us.exports;p()(Us,{VAutocomplete:ut["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VRow:pt["a"],VSelect:O["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"]});var Ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}}),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-title",{staticClass:"text-h5 lighten-3"},[e._v("Goods Receipt ")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.previous()}}},[e._v(" PREVIOUS ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.nextline()}}},[e._v(" NEXT ")])],1)],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.selectitem()}}},[e._v(" SELECT ITEM ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.submit()}}},[e._v(" SUBMIT ITEM ")])],1)],1)],1),a("v-card-actions",[e._v(" "+e._s(e.goodsreceiptlist)+" "),a("v-data-table",{key:e.componentKey,staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.goodsissue,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Quantity",fn:function(t){t.item;var r=t.index;return[a("v-text-field",{key:e.componentKey,attrs:{placeholder:"Quantity",dense:""},model:{value:e.qtyModel[r],callback:function(t){e.$set(e.qtyModel,r,t)},expression:"qtyModel[index]"}},[e._v(e._s(r)+" "+e._s(e.qtyModel)+" ")])]}},{key:"item.whse",fn:function(t){var r=t.item,i=t.index;return[a("v-text-field",{attrs:{placeholder:"Warehouse",dense:""},on:{click:function(t){return e.getwhs(r.ItemCode,i)}},model:{value:e.warehouseModel[i],callback:function(t){e.$set(e.warehouseModel,i,t)},expression:"warehouseModel[index]"}},[e._v(e._s(r))])]}},{key:"item.serial",fn:function(t){var r=t.item,i=t.index;return[1==e.creation?a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(t){return e.viewSerial(r)}}},[e._v("Serial")]):e._e(),1!==e.creation?a("div",[e.warehouseModel[i]?a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(t){return e.CreateSerial(r,i)}}},[e._v("Serial")]):e._e()],1):e._e()]}},{key:"item.glaccount",fn:function(t){t.item;var r=t.index;return[a("v-autocomplete",{attrs:{chips:"",clearable:"","deletable-chips":"",dense:"","small-chips":"",items:e.glAccount,"item-value":"AcctCode","item-text":"AcctName",label:"GL ACCOUNT"},model:{value:e.glModel[r],callback:function(t){e.$set(e.glModel,r,t)},expression:"glModel[index]"}},[e._v(e._s(r))])]}}])})],1),a("v-divider"),a("v-row",[a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Remarks",value:e.listgoodsissue.Comments},model:{value:e.remarksModel,callback:function(t){e.remarksModel=t},expression:"remarksModel"}})],1),a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{disabled:!0,outlined:"",name:"input-7-4",label:"Journal Remarks",value:e.listgoodsissue.JrnlMemo}})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.getItem,callback:function(t){e.getItem=t},expression:"getItem"}},[a("v-card",[a("v-card-title",[e._v(" List of Items ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Item Name)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers2,items:e.oitm,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item,i=t.index;return[a("v-checkbox",{on:{click:function(t){return e.getItemData(r,i)}},model:{value:e.checkbox[i],callback:function(t){e.$set(e.checkbox,i,t)},expression:"checkbox[index]"}})]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.getItem=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.warehouseDialog,callback:function(t){e.warehouseDialog=t},expression:"warehouseDialog"}},[a("v-card",[a("v-card-title",[e._v(" List of Warehouse ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Warehouse Code)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.warehouseHeader,items:e.oitw,"hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getWarehouse(r)}}},[e._v(" Select ")])]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.warehouseDialog=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.viewSerialNumbers,callback:function(t){e.viewSerialNumbers=t},expression:"viewSerialNumbers"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Serial ")]),e._l(e.closeserial,(function(t,r){return a("v-card-text",{key:r},[a("strong",[a("p",[e._v(e._s(t.IntrSerial))])])])})),a("v-card-actions",[a("v-spacer")],1)],2)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.createserialDialog,callback:function(t){e.createserialDialog=t},expression:"createserialDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h7"},[e._v(" Create Serial ")]),e.qtyModel[e.activewhsfields]?a("div",e._l(Number(e.qtyModel[e.activewhsfields]),(function(t,r){return a("div",{key:t},[a("v-text-field",{staticClass:"ml-2 mr-2",attrs:{solo:"",label:t,dense:"",clearable:""},model:{value:e.serialCreationModal[e.activerouteserial+r],callback:function(t){e.$set(e.serialCreationModal,e.activerouteserial+r,t)},expression:"serialCreationModal[activerouteserial+index]"}})],1)})),0):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.createserialDialog=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.submitserial(e.activerouteserial)}}},[e._v(" Create ")])],1)],1)],1)],1)},Ms=[],Bs={mixins:[Ke["validationMixin"]],validations:{data:{}},data:function(){return{loading2:!1,loader:null,creation:0,search:"",selectall:[],activerouteserial:0,activewhsfields:0,activeModal:4,activevalue:0,currentpage:"",topage:"",totalpage:"",nextt:"",prevtt:"",createserialDialog:!1,getItem:!1,warehouseDialog:!1,serialDialog:!1,viewSerialNumbers:!1,nextpages:"",prevpages:"",lastpages:"",checkbox:[],dialogs:["items","itembywarehouse","availablesn","gl","goodsreceiptlist"],activeRouteBase:"",oitm:[],oitw:[],goodsissue:[],sn:[],selectedSerial:[],glAccount:[],glModel:[],warehouseModel:[],qtyModel:[],remarksModel:[],listgoodsissue:{},closeserial:[],serialCreationModal:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"Transactions",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"},{text:"Goods Issue",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"}],warehouseHeader:[{text:"WhsCode",align:"start",sortable:!1,value:"WhsCode"},{text:"ItemCode",value:"ItemCode"},{text:"Stocks",value:"OnHand"},{text:"IsCommited",value:"IsCommited"},{text:"OnOrder",value:"OnOrder"},{text:"Action",value:"Action"}],headers:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"Item Description",value:"ItemName"},{text:"Quantity",value:"Quantity"},{text:"Whse",value:"whse"},{text:"Serial",value:"serial"},{text:"Inventory Offset - Decrease Account",value:"glaccount"}],headers2:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"ItemName",value:"ItemName"},{text:"FrgnName",value:"FrgnName"},{text:"Stocks",value:"OnHand"},{text:"SRP",value:"U_srp"},{text:"Reg NC",value:"U_RegNC"},{text:"Present NC",value:"U_PresentNC"},{text:"Freebies",value:"U_Freebies"},{text:"Sizes",value:"U_cSizes"},{text:"Action",value:"Action"}],componentKey:0,selectedIndex:-1,page:0}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){return e[t]=!1}),3e3),this.loader=null}},computed:{},created:function(){},methods:{controller:function(e,t,a){var r=this;return Object(Ii["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,1==t?n="http://192.168.1.19:7771/api/inventory/goodsreceipt/getters?"+r.activeRouteBase:2==t?n=r.nextt:3==t?n=r.prevtt:4==t?n="http://192.168.1.19:7771/api/inventory/goodsreceipt/getters?get="+e+"&search="+r.search:5==t&&(n="http://192.168.1.19:7771/api/inventory/goodsreceipt/getters?get="+e+"&docentry="+a),i.next=4,me.a.get(n);case 4:return o=i.sent,i.abrupt("return",o.data);case 8:throw i.prev=8,i.t0=i["catch"](0),console.error("Error fetching data:",i.t0),i.t0;case 12:case"end":return i.stop()}}),i,null,[[0,8]])})))()},Getactivemodals:function(e){return this.dialogs[e]},selectitem:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.refresh(),e.creation=0,e.activevalue=0,e.getItem=!0,e.activeModal=0,e.activeRouteBase="&get="+e.Getactivemodals(e.activeModal),t.prev=6,t.next=9,e.controller(e.Getactivemodals(e.activeModal),1);case 9:a=t.sent,e.oitm=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),console.error("Error in selectitem:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[6,18]])})))()},next:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),2);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,console.log(e.listgoodsissue),e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=17,e.controller("index",5,a.data[0].DocEntry);case 17:return e.goodsissue=t.sent,t.next=20,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.glModel[a]=t.AcctCode,e.remarksModel=e.listgoodsissue.Comments}));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},prev:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),3);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=16,e.controller("index",5,a.data[0].DocEntry);case 16:return e.goodsissue=t.sent,t.next=19,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.glModel[a]=t.AcctCode,e.remarksModel=e.listgoodsissue.Comments}));case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},searchfunction:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeRouteBase=e.activeRouteBase+"&search="+e.search,t.prev=1,e.activevalue=4,t.next=5,e.controller(e.Getactivemodals(e.activeModal),4);case 5:a=t.sent,e.oitm=a.data,e.oitw=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.error("Error in selectitem:",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getItemData:function(e,t){this.selectall.push(!1),this.qtyModel.push(null),!0===this.checkbox[t]?this.goodsissue.push(e):this.goodsissue.splice(t,1)},getwhs:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.selectedIndex=t,a.activewhsfields=t,a.search="",a.activeModal=1,a.warehouseDialog=!0,a.search?a.activeRouteBase="&itemcode="+e+"&search="+a.search+"&get="+a.Getactivemodals(a.activeModal):a.activeRouteBase="&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e,a.oitm=[],a.oitw=[],r.prev=8,r.next=11,a.controller(a.Getactivemodals(a.activeModal),1,e);case 11:i=r.sent,a.oitw=i.data,a.nextt=i.next_page_url+a.activeRouteBase,a.prevtt=i.prev_page_url+a.activeRouteBase,a.currentpage=i.current_page,a.topage=i.to,a.totalpage=i.total,r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](8),console.error("Error in selectitem:",r.t0);case 23:case"end":return r.stop()}}),r,null,[[8,20]])})))()},getWarehouse:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$set(t.warehouseModel,t.activewhsfields,e.WhsCode);case 2:return a.next=4,e.WhsCode;case 4:t.warehouseModel[t.activewhsfields]=a.sent,t.warehouseDialog=!1;case 6:case"end":return a.stop()}}),a)})))()},getsn:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.activeModal=2,a.activeRouteBase="&status=0&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+a.warehouseModel[t],a.serialDialog=!0,r.prev=3,r.next=6,a.controller(a.Getactivemodals(a.activeModal),1);case 6:i=r.sent,a.sn[t]=[],i.forEach((function(e){a.sn[t].push(e.IntrSerial)})),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](3),console.error("Error in selectitem:",r.t0);case 14:case"end":return r.stop()}}),r,null,[[3,11]])})))()},CreateSerial:function(e,t){this.activerouteserial=e.ItemCode,this.createserialDialog=!0,this.activewhsfields=t},submitserial:function(e){console.log(this.serialCreationModal[this.activerouteserial+0]),console.log(this.serialCreationModal[this.activerouteserial+1]),console.log(this.serialCreationModal[this.activerouteserial+2])},toggle:function(e){1==this.selectall[e]?(this.selectedSerial[e]=this.sn[e].slice(),this.componentKey+=1):(this.selectedSerial[e]=[],this.componentKey+=1),this.getQty(e)},getQty:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.qtyModel[e]=t.selectedSerial[e].length;case 1:case"end":return a.stop()}}),a)})))()},getGL:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.controller(e.activeRouteBase,1);case 2:return a=t.sent,t.abrupt("return",e.glAccount=a);case 4:case"end":return t.stop()}}),t)})))()},getGoodsIssue:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.page){a.next=15;break}return a.next=3,t.controller(t.activeRouteBase,1);case 3:return r=a.sent,t.listgoodsissue=r.data[0],t.nextt=r.next_page_url+t.activeRouteBase,t.prevtt=r.prev_page_url+t.activeRouteBase,t.lastpages=r.last_page_url,a.next=10,t.controller("index",5,r.data[0].DocEntry);case 10:t.goodsissue=a.sent,t.goodsissue.forEach((function(e,a){t.qtyModel[a]=e.Quantity,t.warehouseModel[a]=e.WhsCode,t.glModel[a]=e.AcctCode})),t.remarksModel=t.listgoodsissue.Comments,a.next=16;break;case 15:1==e?t.next():t.prev();case 16:case"end":return a.stop()}}),a)})))()},arrange:function(e,t,a,r,i,n,o){var s={myserialnumber:e,warehouse:t,MyItemCode:a,Quantity:r,GL:i,Model:n,Remarks:o};return s},submit:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),r=[],t.next=4,e.goodsissue.forEach((function(t,a){for(var i=[],n=0;n<e.qtyModel[a];n++)e.serialCreationModal[t.ItemCode+n],console.log(e.serialCreationModal[t.ItemCode+n]),i.push(e.serialCreationModal[t.ItemCode+n]);r.push(e.arrange(i,e.warehouseModel[a],t.ItemCode,e.qtyModel[a],e.glModel[a],t.ItemName,e.remarksModel))}));case 4:if(console.log(r),!r){t.next=8;break}return t.next=8,me.a.post("http://192.168.1.19:7771/api/inventory/goodsreceipt/submit",r).then((function(t){e.$swal("Sync!",""+t.data.message,t.data.status),a.close(),"warning"!==t.data.status&&e.refresh()}));case 8:case"end":return t.stop()}}),t)})))()},nextline:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(1),console.log(this.activeRouteBase),this.creation=1,this.page+=1},previous:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(2),this.creation=1,this.page-=1},viewSerial:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.activeModal=2,t.activeRouteBase="&status=0&get="+t.Getactivemodals(t.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+e.WhsCode,t.viewSerialNumbers=!0,a.prev=3,a.next=6,t.controller(t.Getactivemodals(t.activeModal),1);case 6:r=a.sent,t.closeserial=r,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](3),console.error("Error in selectitem:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},refresh:function(){this.page=0,this.search="",this.selectall=[],this.activewhsfields=0,this.activeModal=4,this.activevalue=0,this.currentpage="",this.topage="",this.totalpage="",this.nextt="",this.prevtt="",this.getItem=!1,this.warehouseDialog=!1,this.serialDialog=!1,this.activeRouteBase="",this.oitm=[],this.oitw=[],this.goodsissue=[],this.sn=[],this.selectedSerial=[],this.glModel=[],this.warehouseModel=[],this.qtyModel=[],this.listgoodsissue={}}},mounted:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,3;case 2:return e.activeModal=t.sent,t.next=5,"&get=";case 5:t.t0=t.sent,t.t1=e.Getactivemodals(e.activeModal),e.activeRouteBase=t.t0+t.t1,e.getGL();case 9:case"end":return t.stop()}}),t)})))()}},Fs=Bs,Gs=Object(m["a"])(Fs,Ls,Ms,!1,null,null,null),js=Gs.exports;p()(Gs,{VAutocomplete:ut["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VRow:pt["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}}),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-card-title",{staticClass:"text-h5 lighten-3"},[e._v("Inventory Transfer "),a("v-col",{staticClass:"d-flex justify-end"},[1==e.creation?a("v-chip",{attrs:{color:"green","text-color":"white"}},[a("strong",[e._v("FROM: "+e._s(e.frommwh))])]):e._e()],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.previous()}}},[e._v(" PREVIOUS ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{dense:""},on:{click:function(t){return e.nextline()}}},[e._v(" NEXT ")])],1)],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.selectitem()}}},[e._v(" SELECT ITEM ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{"x-small":"",dense:"",disabled:1==e.creation},on:{click:function(t){return e.submit()}}},[e._v(" SUBMIT ITEM ")])],1)],1)],1),a("v-card-actions",[e._v(" "+e._s(e.goodsissuelist)+" "),a("v-data-table",{key:e.componentKey,staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.goodsissue,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Quantity",fn:function(t){t.item;var r=t.index;return[a("v-text-field",{key:e.componentKey,attrs:{disabled:!0,placeholder:"Quantity",dense:""},model:{value:e.qtyModel[r],callback:function(t){e.$set(e.qtyModel,r,t)},expression:"qtyModel[index]"}},[e._v(e._s(r)+" "+e._s(e.qtyModel)+" ")])]}},{key:"item.whse",fn:function(t){var r=t.item,i=t.index;return[a("v-text-field",{attrs:{placeholder:"Warehouse",dense:""},on:{click:function(t){return e.getwhs(r.ItemCode,i)}},model:{value:e.warehouseModel[i],callback:function(t){e.$set(e.warehouseModel,i,t)},expression:"warehouseModel[index]"}},[e._v(e._s(r))])]}},{key:"item.serial",fn:function(t){var r=t.item,i=t.index;return[1==e.creation?a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(t){return e.viewSerial(r)}}},[e._v("Serial")]):e._e(),e.sn[i]&&0==e.creation?a("v-select",{key:e.componentKey,attrs:{items:e.sn[i],label:"Serial",multiple:""},on:{change:function(t){return e.getQty(i)}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[a("v-checkbox",{key:e.componentKey,attrs:{label:"Select All"},on:{click:function(t){return e.toggle(i)}},model:{value:e.selectall[i],callback:function(t){e.$set(e.selectall,i,t)},expression:"selectall[index]"}})],1)],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}],null,!0),model:{value:e.selectedSerial[i],callback:function(t){e.$set(e.selectedSerial,i,t)},expression:"selectedSerial[index]"}}):e._e()]}},{key:"item.towarehouse",fn:function(t){t.item;var r=t.index;return[a("v-autocomplete",{attrs:{chips:"",clearable:"","deletable-chips":"",dense:"","small-chips":"",items:e.owhslist,"item-value":"WhsCode","item-text":"WhsCode",label:"TO WAREHOUSE",disabled:1==e.creation},model:{value:e.whsModel[r],callback:function(t){e.$set(e.whsModel,r,t)},expression:"whsModel[index]"}},[e._v(e._s(r))])]}}])})],1),a("v-divider"),a("v-row",[a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Remarks",value:e.listgoodsissue.Comments},model:{value:e.remarksModel,callback:function(t){e.remarksModel=t},expression:"remarksModel"}})],1),a("v-col",{staticStyle:{margin:"5px"},attrs:{cols:"6",md:"3"}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Journal Remarks",value:e.listgoodsissue.JrnlMemo},model:{value:e.JrnlMemo,callback:function(t){e.JrnlMemo=t},expression:"JrnlMemo"}})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.getItem,callback:function(t){e.getItem=t},expression:"getItem"}},[a("v-card",[a("v-card-title",[e._v(" List of Items ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Item Name)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers2,items:e.oitm,"item-key":"ItemCode","hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item,i=t.index;return[a("v-checkbox",{on:{click:function(t){return e.getItemData(r,i)}},model:{value:e.checkbox[i],callback:function(t){e.$set(e.checkbox,i,t)},expression:"checkbox[index]"}})]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.getItem=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:e.warehouseDialog,callback:function(t){e.warehouseDialog=t},expression:"warehouseDialog"}},[a("v-card",[a("v-card-title",[e._v(" List of Warehouse ")]),a("v-card-title",[a("v-text-field",{attrs:{label:"Search (Warehouse Code)",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.searchfunction()}}},[e._v(" SEARCH ")]),a("br"),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.prev()}}},[e._v(" PREV ")]),a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.next()}}},[e._v(" NEXT ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.warehouseHeader,items:e.oitw,"hide-default-footer":""},scopedSlots:e._u([{key:"item.Action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{"x-small":"",color:"blue-grey"},on:{click:function(t){return e.getWarehouse(r)}}},[e._v(" Select ")])]}}])}),a("v-card-actions",[a("strong",[e._v(" Page: "+e._s(this.currentpage)+" To: "+e._s(this.topage)+" Total: "+e._s(this.totalpage))]),a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.warehouseDialog=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.viewSerialNumbers,callback:function(t){e.viewSerialNumbers=t},expression:"viewSerialNumbers"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6 py-2 px-3"},[e._v("Serial")]),a("v-card-text",{staticClass:"py-0 px-3",staticStyle:{"max-height":"200px","overflow-y":"auto"}},e._l(e.closeserial,(function(t,r){return a("div",{key:r,staticClass:"my-1"},[a("strong",[a("p",{staticClass:"mb-1 text-caption"},[e._v(e._s(t.IntrSerial))])])])})),0),a("v-card-actions",{staticClass:"py-1 px-3"},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.viewSerialNumbers=!1}}},[e._v("Close")])],1)],1)],1)],1)},Ys=[],zs={mixins:[Ke["validationMixin"]],validations:{data:{}},data:function(){return{JrnlMemo:"",frommwh:[],owhslist:[],loading2:!1,loader:null,creation:0,search:"",selectall:[],activewhsfields:0,activeModal:4,activevalue:0,currentpage:"",topage:"",totalpage:"",nextt:"",prevtt:"",getItem:!1,warehouseDialog:!1,serialDialog:!1,viewSerialNumbers:!1,nextpages:"",prevpages:"",lastpages:"",checkbox:[],dialogs:["items","itembywarehouse","availablesn","gl","inventorytransferlist","whslist"],activeRouteBase:"",oitm:[],oitw:[],goodsissue:[],sn:[],selectedSerial:[],glAccount:[],whsModel:[],warehouseModel:[],qtyModel:[],remarksModel:[],listgoodsissue:{},closeserial:[],breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"Transactions",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"},{text:"Goods Issue",disabled:!0,href:"/sapb1/invt/transactions/goodsissue"}],warehouseHeader:[{text:"WhsCode",align:"start",sortable:!1,value:"WhsCode"},{text:"ItemCode",value:"ItemCode"},{text:"Stocks",value:"OnHand"},{text:"IsCommited",value:"IsCommited"},{text:"OnOrder",value:"OnOrder"},{text:"Action",value:"Action"}],headers:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"Item Description",value:"ItemName"},{text:"Quantity",value:"Quantity"},{text:"Whse",value:"whse"},{text:"Serial",value:"serial"},{text:"To Warehouse",value:"towarehouse"}],headers2:[{text:"Item No.",align:"start",sortable:!1,value:"ItemCode"},{text:"ItemName",value:"ItemName"},{text:"FrgnName",value:"FrgnName"},{text:"Stocks",value:"OnHand"},{text:"SRP",value:"U_srp"},{text:"Reg NC",value:"U_RegNC"},{text:"Present NC",value:"U_PresentNC"},{text:"Freebies",value:"U_Freebies"},{text:"Sizes",value:"U_cSizes"},{text:"Action",value:"Action"}],componentKey:0,selectedIndex:-1,page:0}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){return e[t]=!1}),3e3),this.loader=null}},computed:{},created:function(){},methods:{controller:function(e,t,a){var r=this;return Object(Ii["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,1==t?n="http://192.168.1.19:7771/api/inventory/transfer/getters?"+r.activeRouteBase:2==t?n=r.nextt:3==t?n=r.prevtt:4==t?n="http://192.168.1.19:7771/api/inventory/transfer/getters?get="+e+"&search="+r.search:5==t&&(n="http://192.168.1.19:7771/api/inventory/transfer/getters?get="+e+"&docentry="+a),i.next=4,me.a.get(n);case 4:return o=i.sent,i.abrupt("return",o.data);case 8:throw i.prev=8,i.t0=i["catch"](0),console.error("Error fetching data:",i.t0),i.t0;case 12:case"end":return i.stop()}}),i,null,[[0,8]])})))()},Getactivemodals:function(e){return this.dialogs[e]},selectitem:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.refresh(),e.creation=0,e.activevalue=0,e.getItem=!0,e.activeModal=0,e.activeRouteBase="&get="+e.Getactivemodals(e.activeModal),t.prev=6,t.next=9,e.controller(e.Getactivemodals(e.activeModal),1);case 9:a=t.sent,e.oitm=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),console.error("Error in selectitem:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[6,18]])})))()},next:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),2);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,console.log(e.listgoodsissue),e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=17,e.controller("index",5,a.data[0].DocEntry);case 17:return e.goodsissue=t.sent,t.next=20,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.remarksModel=e.listgoodsissue.Comments,e.frommwh=e.listgoodsissue.Filler,e.JrnlMemo=e.listgoodsissue.JrnlMemo}));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},prev:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.controller(e.Getactivemodals(e.activeModal),3);case 3:return a=t.sent,e.oitm=a.data,e.oitw=a.data,t.next=8,a.data[0];case 8:return e.listgoodsissue=t.sent,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=16,e.controller("index",5,a.data[0].DocEntry);case 16:return e.goodsissue=t.sent,t.next=19,e.goodsissue.forEach((function(t,a){e.qtyModel[a]=t.Quantity,e.warehouseModel[a]=t.WhsCode,e.glModel[a]=t.AcctCode,e.remarksModel=e.listgoodsissue.Comments,e.frommwh=e.listgoodsissue.Filler,e.JrnlMemo=e.listgoodsissue.JrnlMemo}));case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("Error in selectitem:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},searchfunction:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeRouteBase=e.activeRouteBase+"&search="+e.search,t.prev=1,e.activevalue=4,t.next=5,e.controller(e.Getactivemodals(e.activeModal),4);case 5:a=t.sent,e.oitm=a.data,e.oitw=a.data,e.nextt=a.next_page_url+e.activeRouteBase,e.prevtt=a.prev_page_url+e.activeRouteBase,e.currentpage=a.current_page,e.topage=a.to,e.totalpage=a.total,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.error("Error in selectitem:",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getItemData:function(e,t){this.selectall.push(!1),this.qtyModel.push(null),!0===this.checkbox[t]?this.goodsissue.push(e):this.goodsissue.splice(t,1)},getwhs:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.selectedIndex=t,a.activewhsfields=t,a.search="",a.activeModal=1,a.warehouseDialog=!0,a.search?a.activeRouteBase="&itemcode="+e+"&search="+a.search+"&get="+a.Getactivemodals(a.activeModal):a.activeRouteBase="&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e,a.oitm=[],a.oitw=[],r.prev=8,r.next=11,a.controller(a.Getactivemodals(a.activeModal),1,e);case 11:i=r.sent,a.oitw=i.data,a.nextt=i.next_page_url+a.activeRouteBase,a.prevtt=i.prev_page_url+a.activeRouteBase,a.currentpage=i.current_page,a.topage=i.to,a.totalpage=i.total,r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](8),console.error("Error in selectitem:",r.t0);case 23:case"end":return r.stop()}}),r,null,[[8,20]])})))()},getWarehouse:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$set(t.warehouseModel,t.activewhsfields,e.WhsCode);case 2:return a.next=4,e.WhsCode;case 4:return t.warehouseModel[t.activewhsfields]=a.sent,a.next=7,t.getsn(e,t.selectedIndex);case 7:return a.t0=t.componentKey,a.next=10,1;case 10:t.componentKey=a.t0+=a.sent,t.warehouseDialog=!1;case 12:case"end":return a.stop()}}),a)})))()},getsn:function(e,t){var a=this;return Object(Ii["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.activeModal=2,a.activeRouteBase="&status=0&get="+a.Getactivemodals(a.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+a.warehouseModel[t],a.serialDialog=!0,r.prev=3,r.next=6,a.controller(a.Getactivemodals(a.activeModal),1);case 6:i=r.sent,a.sn[t]=[],i.forEach((function(e){a.sn[t].push(e.IntrSerial)})),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](3),console.error("Error in selectitem:",r.t0);case 14:case"end":return r.stop()}}),r,null,[[3,11]])})))()},getItemData2:function(e){return Object(Ii["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},toggle:function(e){1==this.selectall[e]?(this.selectedSerial[e]=this.sn[e].slice(),this.componentKey+=1):(this.selectedSerial[e]=[],this.componentKey+=1),this.getQty(e)},getQty:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.qtyModel[e]=t.selectedSerial[e].length;case 1:case"end":return a.stop()}}),a)})))()},getGL:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.controller(e.activeRouteBase,1);case 2:return a=t.sent,t.abrupt("return",e.glAccount=a);case 4:case"end":return t.stop()}}),t)})))()},getOwhs:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.controller(e.activeRouteBase,1);case 2:return a=t.sent,t.abrupt("return",e.owhslist=a);case 4:case"end":return t.stop()}}),t)})))()},getGoodsIssue:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.page){a.next=17;break}return a.next=3,t.controller(t.activeRouteBase,1);case 3:return r=a.sent,t.listgoodsissue=r.data[0],t.nextt=r.next_page_url+t.activeRouteBase,t.prevtt=r.prev_page_url+t.activeRouteBase,t.lastpages=r.last_page_urld,a.next=10,t.controller("index",5,r.data[0].DocEntry);case 10:t.goodsissue=a.sent,t.goodsissue.forEach((function(e,a){t.qtyModel[a]=e.Quantity,t.warehouseModel[a]=e.WhsCode})),t.remarksModel=t.listgoodsissue.Comments,t.frommwh=t.listgoodsissue.Filler,t.JrnlMemo=t.listgoodsissue.JrnlMemo,a.next=18;break;case 17:1==e?t.next():t.prev();case 18:case"end":return a.stop()}}),a)})))()},arrange:function(e,t,a,r,i,n,o,s){var c={myserialnumber:e,fromMWH:t,MyItemCode:a,Quantity:r,toMWH:i,Model:n,Remarks:o,JrnlMemo:s};return c},submit:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),r=[],t.next=4,e.goodsissue.forEach((function(t,a){r.push(e.arrange(e.selectedSerial[a],e.warehouseModel[a],t.ItemCode,e.qtyModel[a],e.whsModel[a],t.ItemName,e.remarksModel,e.JrnlMemo))}));case 4:if(console.log(r),!r){t.next=8;break}return t.next=8,me.a.post("http://192.168.1.19:7771/api/inventory/transfer/submit",r).then((function(t){e.$swal("Sync!",""+t.data.message,t.data.status),a.close()}));case 8:case"end":return t.stop()}}),t)})))()},nextline:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(1),console.log(this.activeRouteBase),this.creation=1,this.page+=1},previous:function(){this.activeModal=4,this.activeRouteBase="&get="+this.Getactivemodals(this.activeModal,1),this.getGoodsIssue(2),this.creation=1,this.page-=1},viewSerial:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.activeModal=2,t.activeRouteBase="&status=1&get="+t.Getactivemodals(t.activeModal)+"&itemcode="+e.ItemCode+"&warehouse="+e.WhsCode,t.viewSerialNumbers=!0,a.prev=3,a.next=6,t.controller(t.Getactivemodals(t.activeModal),1);case 6:r=a.sent,t.closeserial=r,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](3),console.error("Error in selectitem:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},refresh:function(){this.page=0,this.search="",this.selectall=[],this.activewhsfields=0,this.activeModal=4,this.activevalue=0,this.currentpage="",this.topage="",this.totalpage="",this.nextt="",this.prevtt="",this.getItem=!1,this.warehouseDialog=!1,this.serialDialog=!1,this.activeRouteBase="",this.oitm=[],this.oitw=[],this.goodsissue=[],this.sn=[],this.selectedSerial=[],this.glModel=[],this.warehouseModel=[],this.qtyModel=[],this.listgoodsissue={}}},mounted:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,5;case 2:return e.activeModal=t.sent,t.next=5,"&get=";case 5:t.t0=t.sent,t.t1=e.Getactivemodals(e.activeModal),e.activeRouteBase=t.t0+t.t1,e.getOwhs();case 9:case"end":return t.stop()}}),t)})))()}},Ks=zs,Ws=Object(m["a"])(Ks,Hs,Ys,!1,null,null,null),Qs=Ws.exports;p()(Ws,{VAutocomplete:ut["a"],VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VCheckbox:Bn["a"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VListItem:b["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VRow:pt["a"],VSelect:O["a"],VSpacer:P["a"],VTextField:Ce["a"],VTextarea:Tr["a"]});var Js=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-breadcrumbs",{attrs:{items:e.breadcrums}}),a("v-card",{attrs:{color:"white lighten-2"}},[a("v-toolbar",{attrs:{flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{centered:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",[e._v(" BUSINESS PARTNER ")])],1)]},proxy:!0}])},[a("v-text-field",{attrs:{flat:"","hide-details":"",label:"Search","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{attrs:{dense:"","x-small":""},on:{click:function(t){return e.searchH()}}},[e._v(" Search ")])],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex justify-start"},[a("v-btn",{attrs:{dense:"","x-small":""},on:{click:function(t){return e.previous()}}},[e._v(" PREVIOUS ")])],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{dense:"","x-small":""},on:{click:function(t){return e.nextline()}}},[e._v(" NEXT ")]),a("v-btn",{attrs:{dense:"","x-small":""},on:{click:function(t){return e.lastline()}}},[e._v(" LAST ")])],1)],1)],1),a("v-card-text",[a("v-row",[e.cardcode?a("v-col",{staticClass:"d-flex  "},[a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.cardcode))])],1):e._e(),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{"x-small":"",dense:""},on:{click:function(t){return e.submit()}}},[e._v(" SUBMIT ITEM ")])],1)],1)],1),a("v-tabs-items",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card",[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("div",{staticClass:"text-overline mb-4"},[e._v("Customer/Vendor Info")]),a("v-select",{attrs:{items:e.cardtypelist,label:"CARDTYPE","item-text":"SeriesName","item-value":"Series",dense:""},model:{value:e.cardtype,callback:function(t){e.cardtype=t},expression:"cardtype"}}),a("v-select",{attrs:{items:e.serieslist,label:"SERIES/CODE","item-text":"SeriesName","item-value":"Series",dense:""},model:{value:e.series,callback:function(t){e.series=t},expression:"series"}}),a("v-select",{attrs:{items:e.groupcodelist,label:"Group","item-text":"GroupName","item-value":"GroupCode",dense:""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),a("v-menu",{ref:"birthdate",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Birthday date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}},"v-text-field",i,!1),r))]}}]),model:{value:e.birhtdate,callback:function(t){e.birhtdate=t},expression:"birhtdate"}},[a("v-date-picker",{attrs:{"active-picker":e.activePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substring(0,10),min:"1950-01-01"},on:{"update:activePicker":function(t){e.activePicker=t},"update:active-picker":function(t){e.activePicker=t},change:e.save},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),a("v-text-field",{attrs:{dense:"",label:"NAME"},model:{value:e.fullname,callback:function(t){e.fullname=t},expression:"fullname"}}),a("div",{staticClass:"text-overline mb-4"},[e._v("PAYMENT TERMS")]),a("v-select",{attrs:{items:e.paymenttermslist,label:"PAYMENT TERMS",dense:"","item-text":"PymntGroup","item-value":"GroupNum"},model:{value:e.paymentterm,callback:function(t){e.paymentterm=t},expression:"paymentterm"}}),a("v-select",{attrs:{items:e.pricelist,label:"PRICE LIST",dense:""},model:{value:e.pricelistdata,callback:function(t){e.pricelistdata=t},expression:"pricelistdata"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("div",{staticClass:"text-overline mb-4"},[e._v("GENERAL")]),a("v-text-field",{attrs:{dense:"",label:"MOBILE PHONE"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),a("v-select",{attrs:{items:e.salesemployeelist,label:"SALES EMPLOYEE","item-text":"SlpName","item-value":"SlpCode",dense:""},model:{value:e.salesemployee,callback:function(t){e.salesemployee=t},expression:"salesemployee"}}),a("div",{staticClass:"text-overline mb-4"},[e._v("ADDRESS/BILL TO")]),a("v-text-field",{attrs:{dense:"",label:"ADDRESS ID",disabled:!0},model:{value:e.addressid,callback:function(t){e.addressid=t},expression:"addressid"}}),a("v-text-field",{attrs:{dense:"",label:"STREET/PO Box"},model:{value:e.streetpobox,callback:function(t){e.streetpobox=t},expression:"streetpobox"}}),a("v-text-field",{attrs:{dense:"",label:"BARANGAY"},model:{value:e.barangay,callback:function(t){e.barangay=t},expression:"barangay"}}),a("v-text-field",{attrs:{dense:"",label:"CITY"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),a("v-text-field",{attrs:{dense:"",label:"AREA CODE"},model:{value:e.areacode,callback:function(t){e.areacode=t},expression:"areacode"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("div",{staticClass:"text-overline mb-4"},[e._v(" PAYMENT RUN / HOUSE BANK ")]),a("v-select",{attrs:{items:e.BankList,"item-text":"BankName","item-value":"BankCode",label:"Bank"},on:{change:function(t){return e.getBankDetails()}},model:{value:e.bankname,callback:function(t){e.bankname=t},expression:"bankname"}}),a("v-text-field",{attrs:{dense:"",label:"Account",disabled:!0},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),a("v-text-field",{attrs:{dense:"",label:"Branch",disabled:!0},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-btn",{staticClass:"mb-15",attrs:{color:"blue",fab:"",dark:"",small:"",fixed:"",bottom:"",right:""},on:{click:function(t){return e.create()}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)},Xs=[],Zs={mixins:[Ke["validationMixin"]],validations:{data:{}},data:function(){return{activePicker:null,date:null,birthdate:!1,birthday:null,cardcode:"",next_page_url:"",last_page_url:"",prev_page_url:"",path:"",bp:[],summary:{},cardtype:"",series:"",search:"",group:"",fullname:"",paymentterm:"",pricelistdata:"",salesemployee:"",addressid:"",streetpobox:"",barangay:"",city:"",areacode:"",bankname:"",account:"",branch:"",mobile:"",bank:"",serieslist:[],salesemployeelist:[],groupcodelist:[],BankList:[],cardtypelist:["CUSTOMER","VENDOR"],pricelist:["Price List 01","Price List 02","Price List 03","Price List 04","Price List 05"],paymenttermslist:[],provincelist:["BATAAN","BULACAN","METRO MANILA","NUEJA ECIJA","PAMPANGA","PANGASINAN","TARLAC"],countrylist:["Philippines"],regionlist:["NCR","REION I","REGION II","REGION III","REGION IV","REGION V"],tabs:null,text:" ",routers:"",breadcrums:[{text:"Dashboard",disabled:!1,href:"/"},{text:"Business Partner",disabled:!0,href:"/sapb1/businesspartner"}]}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.activePicker="YEAR"}))}},computed:{},created:function(){},methods:{create:function(){this.cardcode="",this.next_page_url="",this.last_page_url="",this.prev_page_url="",this.path="",this.cardtype="",this.series="",this.search="",this.group="",this.fullname="",this.paymentterm="",this.pricelistdata="",this.salesemployee="",this.addressid="",this.streetpobox="",this.barangay="",this.city="",this.areacode="",this.bankname="",this.account="",this.branch="",this.mobile="",this.bank=""},save:function(e){this.$refs.menu.save(e)},basementUrl:function(e){var t=this;return Object(Ii["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t.path){a.next=8;break}return a.next=4,me.a.get(t.route);case 4:return r=a.sent,a.abrupt("return",r.data);case 8:return a.next=10,me.a.get("".concat(t.$URLs.backend,"/api/inventory/businesspartner/getters?").concat(e));case 10:return i=a.sent,a.abrupt("return",i.data);case 12:a.next=23;break;case 14:return a.prev=14,a.t0=a["catch"](0),console.error("Error fetching data:",a.t0),t.next_page_url="",t.prev_page_url="",t.last_page_url="",t.path="",t.route="",a.abrupt("return",null);case 23:case"end":return a.stop()}}),a,null,[[0,14]])})))()},nextline:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),t.next=3,e.basementUrl("item=bp&search="+e.search);case 3:r=t.sent,e.next_page_url=r.next_page_url,e.prev_page_url=r.prev_page_url,e.last_page_url=r.last_page_url,e.path=r.path,e.route=e.next_page_url+"&item=bp&search="+e.search,e.bp=r.data,a.close(),e.pluckdata();case 12:case"end":return t.stop()}}),t)})))()},lastline:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),t.next=3,e.basementUrl("item=bp&search="+e.search);case 3:r=t.sent,e.prev_page_url=r.prev_page_url,e.last_page_url=r.last_page_url,e.path=r.path,e.route=e.last_page_url+"&item=bp&search="+e.search,e.bp=r.data,a.close(),e.pluckdata();case 11:case"end":return t.stop()}}),t)})))()},searchH:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),e.next_page_url="",e.prev_page_url="",e.last_page_url="",e.path="",e.route="",t.next=8,e.basementUrl("item=bp&search="+e.search);case 8:return r=t.sent,t.next=11,r.next_page_url;case 11:e.next_page_url=t.sent,e.prev_page_url=r.prev_page_url,e.last_page_url=r.last_page_url,e.path=r.path,e.route=e.next_page_url+"&item=bp&search="+e.search,e.bp=r.data,a.close(),e.pluckdata();case 19:case"end":return t.stop()}}),t)})))()},pluckdata:function(){this.cardcode=this.bp[0].CardCode,this.mobile=this.bp[0].Cellular,this.cardtype="C"==this.bp[0].CardType?"CUSTOMER":"VENDOR",this.series=this.bp[0].Series,this.group=this.bp[0].GroupCode,this.fullname=this.bp[0].CardName,this.paymentterm=this.bp[0].GroupNum,this.pricelistdata="Price List 01",this.salesemployee=this.bp[0].SlpCode,this.addressid=this.bp[0].CardName,this.streetpobox=this.bp[0].Building,this.barangay=this.bp[0].Block,this.city=this.bp[0].City,this.areacode=this.bp[0].ZipCode,this.bankname=this.bp[0].HouseBank,this.account=this.bp[0].HousBnkAct,this.branch=this.bp[0].HousBnkBrn,this.birthday=this.bp[0].U_Bday,console.log(this.bp[0])},previous:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({progress1:0}),t.next=3,e.basementUrl("item=bp&search="+e.search);case 3:r=t.sent,e.next_page_url=r.next_page_url,e.prev_page_url=r.prev_page_url,e.last_page_url=r.last_page_url,e.path=r.path,e.route=e.prev_page_url+"&item=bp&search="+e.search,e.bp=r.data,a.close(),e.pluckdata();case 12:case"end":return t.stop()}}),t)})))()},getBankDetails:function(){var e=this;this.BankList.forEach((function(t,a){console.log(e.BankList),t.BankCode===e.bankname&&(e.account=t.DfltAcct,e.branch=t.DfltBranch)}))},listData:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.basementUrl("item=series");case 2:return e.serieslist=t.sent,t.next=5,e.basementUrl("item=groupcode");case 5:return e.groupcodelist=t.sent,t.next=8,e.basementUrl("item=paymentterm");case 8:return e.paymenttermslist=t.sent,t.next=11,e.basementUrl("item=salesemployee");case 11:return e.salesemployeelist=t.sent,t.next=14,e.basementUrl("item=bank");case 14:e.BankList=t.sent;case 15:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.summary={cardcode:e.cardcode,cardtype:"CUSTOMER"==e.cardtype?"C":"S",series:e.series,group:e.group,name:e.fullname,paymentterm:e.paymentterm,pricelistdata:e.pricelistdata,salesemployee:e.salesemployee,addressid:e.fullname,streetpobox:e.streetpobox,barangay:e.barangay,city:e.city,areacode:e.areacode,bankname:e.bankname,account:e.account,branch:e.branch,mobile:e.mobile,birthday:e.birthday},a=e.$vs.loading({progress1:0}),!e.summary){t.next=5;break}return t.next=5,me.a.post(e.$URLs.backend+"/api/inventory/businesspartner/submit",e.summary).then((function(t){e.$swal("Business Partner Sync!",""+t.data.message,t.data.status),a.close()})).catch((function(t){console.error("An error occurred:",t),e.$swal("Error!","Failed to sync data: "+t.message,"error")}));case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(Ii["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.listData();case 1:case"end":return t.stop()}}),t)})))()}},ec=Zs,tc=Object(m["a"])(ec,Js,Xs,!1,null,null,null),ac=tc.exports;p()(tc,{VBreadcrumbs:ds["a"],VBtn:w["a"],VCard:F["a"],VCardText:G["c"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDatePicker:wr["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:y["a"],VMenu:Fr["a"],VRow:pt["a"],VSelect:O["a"],VTab:Rr["a"],VTabItem:Or["a"],VTabs:Pr["a"],VTabsItems:Vr["a"],VTextField:Ce["a"],VToolbar:Ae["a"]});var rc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"text-xs-center":""}},[a("vs-button",{staticStyle:{"background-color":"blanchedalmond","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){e.dialog=!0}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("CONFIGURE ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("SAP B1 DATABASE")])],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",transition:"dialog-bottom-transition",color:"black"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:"#f2e7d0"}},[a("v-toolbar",{attrs:{dark:"",color:"#f2e7d0"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Database / Configure")]),a("v-spacer"),a("v-toolbar-items",[a("vs-button",{attrs:{size:"large"},on:{click:function(t){return e.submit()}}},[a("v-icon",[e._v("mdi-content-save-all")])],1),a("vs-button",{attrs:{size:"large"},on:{click:function(t){return e.create()}}},[e._v(" CREATE ")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-subheader",[e._v("DATABASE / CREATE")]),a("v-list-item",[a("v-list-item-content",[a("form",[a("v-text-field",{attrs:{"error-messages":e.hostErrors,label:"Host",required:""},on:{input:function(t){return e.$v.host.$touch()},blur:function(t){return e.$v.host.$touch()}},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}}),a("v-text-field",{attrs:{"error-messages":e.dbnameErrors,label:"Database Name",required:""},on:{input:function(t){return e.$v.dbname.$touch()},blur:function(t){return e.$v.dbname.$touch()}},model:{value:e.dbname,callback:function(t){e.dbname=t},expression:"dbname"}}),a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.username.$touch()},blur:function(t){return e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{"error-messages":e.passwordErrors,label:"Password",type:"password",required:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-select",{attrs:{items:e.connections,"error-messages":e.connectionsErrors,label:"Connection","item-text":"name","item-value":"value",required:""},on:{change:function(t){return e.$v.connections.$touch()},blur:function(t){return e.$v.connections.$touch()}},model:{value:e.connection,callback:function(t){e.connection=t},expression:"connection"}}),a("v-select",{attrs:{items:e.ports,"error-messages":e.portsErrors,label:"Port","item-text":"name","item-value":"value",required:""},on:{change:function(t){return e.$v.ports.$touch()},blur:function(t){return e.$v.ports.$touch()}},model:{value:e.port,callback:function(t){e.port=t},expression:"port"}})],1)])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-subheader",[e._v("DATABASE / UPDATE ")]),a("v-list-item",[a("v-list-item-content",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.databaseData,"items-per-page":5},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("vs-button-group",[a("vs-button",{attrs:{border:""},on:{click:function(t){return e.edit(r)}}},[a("v-icon",[e._v("mdi-grease-pencil")])],1),a("vs-button",{attrs:{border:"",icon:""},on:{click:function(t){return e.trash(r)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)]}}])})],1)],1)],1)],1)],1)],1),a("v-divider")],1)],1)],1)},ic=[],nc={mixins:[Ke["validationMixin"]],validations:{host:{required:We["required"]},dbname:{required:We["required"]},username:{required:We["required"]},password:{required:We["required"]},connections:{required:We["required"]},ports:{required:We["required"]}},data:function(){return{headers:[{text:"HOST",value:"host"},{text:"DBNAME",value:"dbname"},{text:"USERNAME",value:"username"},{text:"PASSWORD",value:"password"},{text:"CONNECTION",value:"connection"},{text:"PORT",value:"port"},{text:"ACTION",value:"action"}],id:"",entryname:"",dialog:!1,host:"",dbname:"",username:"",password:"",connections:[{name:"Mssql",value:"sqlsrv"},{name:"mysql",value:"mysql"},{name:" PostgreSQL",value:"pgsql"}],ports:[{name:"3306",value:"3306"},{name:"1433",value:"1433"}],connection:"",port:""}},created:function(){this.$store.dispatch("fetchDBAll")},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({databaseData:"getDBLIST"})),{},{hostErrors:function(){var e=[];return this.$v.host.$dirty?(!this.$v.host.required&&e.push("Host is required"),e):e},dbnameErrors:function(){var e=[];return this.$v.dbname.$dirty?(!this.$v.dbname.required&&e.push("Database Name is required"),e):e},usernameErrors:function(){var e=[];return this.$v.username.$dirty?(!this.$v.username.required&&e.push("UserName is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),e):e},connectionsErrors:function(){var e=[];return this.$v.connections.$dirty?(!this.$v.connections.required&&e.push("Connection is required"),e):e},portsErrors:function(){var e=[];return this.$v.ports.$dirty?(!this.$v.ports.required&&e.push("Port is required"),e):e}}),methods:{submit:function(){var e=this;this.$v.$touch();var t={host:this.host,dbname:this.dbname,username:this.username,password:this.password,connection:this.connection,port:this.port,id:this.id,entry:this.entryname};this.id?this.$store.dispatch("updateDBcon",t).then((function(t){200==t.status&&e.refresh()})):this.$store.dispatch("createDBcon",t).then((function(t){200==t.status&&e.refresh()}))},refresh:function(){this.id="",this.host="",this.dbname="",this.username="",this.password="",this.port="1433",this.connection="mssql",this.$store.dispatch("fetchDBAll")},edit:function(e){this.host=e.host,this.dbname=e.dbname,this.username=e.username,this.password=e.password,this.port=e.port,this.connection=e.connection,this.id=e.id,this.entryname=e.entry},create:function(){this.id="",this.host="",this.dbname="",this.username="",this.password="",this.port="1433",this.connection="mssql"},trash:function(e){var t=this,a={id:e.id,entryname:e.entry};this.$store.dispatch("deleteDBcon",a).then((function(e){200==e.status&&t.refresh()}))}}},oc=nc,sc=Object(m["a"])(oc,rc,ic,!1,null,null,null),cc=sc.exports;p()(sc,{VBtn:w["a"],VCard:F["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VImg:R["a"],VList:_["a"],VListItem:b["a"],VListItemContent:y["a"],VRow:pt["a"],VSelect:O["a"],VSpacer:P["a"],VSubheader:Fn["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"]});var lc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-btn",{staticStyle:{margin:"10px"},attrs:{color:"primary",dark:""},on:{click:function(t){return e.openUploadDialog()}}},[e._v(" create ")]),a("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",i,!1),r),[e._v(" GENERATE ")])]}}]),model:{value:e.generateD,callback:function(t){e.generateD=t},expression:"generateD"}},[a("v-card",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-date-picker",{attrs:{range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}}),a("v-select",{attrs:{items:e.rfidtype,label:"RFID TYPE",solo:""},model:{value:e.gentype,callback:function(t){e.gentype=t},expression:"gentype"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.generateD=!1}}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.generate()}}},[e._v(" Generate ")])],1)],1)],1),a("v-chip",{staticStyle:{margin:"10px"},attrs:{filter:"",label:"",link:"",outlined:"",color:"green"}},[e._v(" "+e._s(e.dateRangeText))]),a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-skeleton-loader",{attrs:{loading:e.skeleton,type:"table-heading, list-item-two-line, image, table-tfoot"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.data,search:e.search},scopedSlots:e._u([{key:"item.action",fn:function(t){var r=t.item;return[a("div",{staticClass:"my-2"},[a("v-btn",{staticStyle:{margin:"2px"},attrs:{"x-small":"",color:"white",dark:""},on:{click:function(t){return e.trash(r.uid)}}},[a("v-icon",{attrs:{color:"red",small:""}},[e._v("mdi-trash-can-outline")])],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"white",dark:"",dense:""}},"v-btn",i,!1),r),[a("v-icon",{attrs:{color:"green",small:""}},[e._v("mdi-eye-arrow-right-outline")])],1)]}}],null,!0)},[a("v-list",e._l(r.rfid,(function(t,i){return a("v-list-item",{key:i},[a("v-btn",{on:{click:function(a){return e.view(r.id,t)}}},[e._v(" "+e._s(1==t?"EASYTRIP":"AUTOSWEEP")+" ")])],1)})),1)],1)],1)]}}])})],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#1b4475"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"white"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"white"}},[e._v("ExpressWay Usage Print Preview")]),a("v-spacer")],1),a("v-divider"),a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.link,title:"Searching of Vehicle Parts PrintPreview"}}),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.createDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("RUF USAGE FORM")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){return e.save()}}},[e._v(" Submit ")])],1),a("v-menu",{attrs:{bottom:"",right:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",i,!1),r),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])})],1),a("v-card-text",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.dialog2=!e.dialog2}}},[e._v(" Select Driver ")]),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("INFO")]),a("v-list-item",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",i,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-text-field",{attrs:{label:"Destination",solo:""},model:{value:e.rufdata.destination,callback:function(t){e.$set(e.rufdata,"destination",t)},expression:"rufdata.destination"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-text-field",{attrs:{label:"Purpose",solo:""},model:{value:e.rufdata.purpose,callback:function(t){e.$set(e.rufdata,"purpose",t)},expression:"rufdata.purpose"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-select",{attrs:{items:e.rfidtype,label:"RFID TYPE",solo:""},model:{value:e.rufdata.rfidtype,callback:function(t){e.$set(e.rufdata,"rfidtype",t)},expression:"rufdata.rfidtype"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-select",{attrs:{items:e.exptype,label:"EXPRESSWAY TYPE",solo:""},on:{change:function(t){return e.expressways()}},model:{value:e.rufdata.exptype,callback:function(t){e.$set(e.rufdata,"exptype",t)},expression:"rufdata.exptype"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-1",attrs:{outlined:"",tile:""}},[a("v-select",{attrs:{items:e.entrylist,label:"ENTRY",solo:""},model:{value:e.rufdata.entry,callback:function(t){e.$set(e.rufdata,"entry",t)},expression:"rufdata.entry"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-1",attrs:{outlined:"",tile:""}},[a("v-select",{attrs:{items:e.exitlist,label:"EXIT",solo:""},model:{value:e.rufdata.exit,callback:function(t){e.$set(e.rufdata,"exit",t)},expression:"rufdata.exit"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-1",attrs:{outlined:"",tile:""}},[a("v-text-field",{attrs:{label:"Amount",solo:""},model:{value:e.rufdata.amount,callback:function(t){e.$set(e.rufdata,"amount",t)},expression:"rufdata.amount"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-card",{staticClass:"pa-1",attrs:{outlined:"",tile:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.add()}}},[e._v(" Add ")])],1)],1)],1)],1)],1),a("v-divider"),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Data")]),a("v-list-item",[a("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("DESTINATION")]),a("th",{staticClass:"text-left"},[e._v("PURPOSE")]),a("th",{staticClass:"text-left"},[e._v("RFIDTYPE")]),a("th",{staticClass:"text-left"},[e._v("EXPRESSWAY TYPE")]),a("th",{staticClass:"text-left"},[e._v("ENTRY")]),a("th",{staticClass:"text-left"},[e._v("EXIT")]),a("th",{staticClass:"text-left"},[e._v("AMOUNT")]),a("th",{staticClass:"text-left"},[e._v("ACTION")])])]),a("tbody",e._l(e.tabledata,(function(t,r){return a("tr",{key:t.destination},[a("td",[e._v(e._s(t.destination))]),a("td",[e._v(e._s(t.purpose))]),a("td",[e._v(e._s(t.rfidtype))]),a("td",[e._v(e._s(t.exptype))]),a("td",[e._v(e._s(t.entry))]),a("td",[e._v(e._s(t.exit))]),a("td",[e._v(e._s(t.amount))]),a("td",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.removeItem(r)}}},[e._v(" x ")])],1)])})),0)]},proxy:!0}])})],1)],1)],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-card-title",[e._v(" Driver ")]),a("v-card-text",[a("v-select",{attrs:{items:e.driversdata,label:"Select Driver","item-value":"id","item-text":"driver"},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.driver)+" / "+e._s(a.plate)+" ")]}}]),model:{value:e.driver,callback:function(t){e.driver=t},expression:"driver"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog2=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)},dc=[],uc=(a("a15b"),a("9911"),{data:function(){return{gentype:"AutoSweep",generateD:!1,dates:["2024-01-01","2024-01-01"],driver:"",driversdata:[],tabledata:[],rufdata:[{destination:"",purpose:"",rfidtype:"",exptype:"",entry:"",exit:"",amount:""}],entrylist:[],exitlist:[],rfidtype:["AutoSweep","EasyTrip"],exptype:["TPLEX","NLEX/SCTEX","SLEX","METRO MANILA SKYWAY STAGE 3","STAR"],date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,itemsA:[{title:"AUTOSWEEP",val:0},{title:"EASYTRIP",val:1}],skeleton:!1,loading:!1,createDialog:!1,printDialog:!1,dialog2:!1,search:"",link:"",files:"",headers:[{text:"CREATOR ID",align:"start",filterable:!1,value:"uid"},{text:"PLATE NO.",value:"plateno"},{text:"DRIVER",value:"name"},{text:"ASOF",value:"asof"},{text:"DATE UPLOADED",value:"created_at"},{text:"ACTION",value:"action"}],data:[]}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},created:function(){var e=this;this.$store.dispatch("motorpool_expressway/monitoring").then((function(t){e.data=t.data})),this.$store.dispatch("motorpool_expressway/drivers").then((function(t){e.driversdata=t.data}))},methods:{removeItem:function(e){this.tabledata.splice(e,1)},expressways:function(){"TPLEX"==this.rufdata.exptype?(this.entrylist=["La Paz, Tarlac","Victoria, Tarlac","Gerona, Tarlac","Paniqui, Tarlac","Rosales, Pangasinan","Urdaneta, Pangasinan","Binalonan, Pangasinan","Pozorrubio, Pangasinan","Sison, Pangasinan","Rosario, La Union"],this.exitlist=this.entrylist):"NLEX/SCTEX"==this.rufdata.exptype?(this.entrylist=["Mindanao Avenue","Karuhatan","Valenzuela","Lawang Bato","Meycauayan","Marilao","Ciudad de Victoria","Bocaue","Tambubong","Balagtas","Tabang","Sta. Rita","Pulilan","San Simon","San Fernando","Mexico","Angeles","Dau","Sta. Ines","Tipo/SFEX","Dinalupihan","Floridablanca","Porac","Clark South","Mabalacat (Mabiga)","Clark North","Dolores","Concepcion","San Miguel","Tarlac"],this.exitlist=this.entrylist):"METRO MANILA SKYWAY STAGE 3"==this.rufdata.exptype?(this.entrylist=["Buendia","Plaza Azul/Nagtahan","E. Rodriguez","Quezon Avenue","NLEX","Balintawak-A.Bonifacio","Quezon Avenue","Plaza Dilao"],this.exitlist=this.entrylist):"SLEX"==this.rufdata.exptype?(this.entrylist=["Merville","Bicutan","Sucat","Alabang","Filinvest","MCX","Susana Heights","San Pedro","Southwoods","Carmona","Mamplasan","Sta. Rosa","ABI/Greenfield","Cabuyao","Silangan","Calamba","Sto. Tomas"],this.exitlist=this.entrylist):"STAR"==this.rufdata.exptype&&(this.entrylist=["STO.TOMAS","TANAUAN","MALVAR","STO.TORIBIO","LIPA","IBAAN","BATANGAS"],this.exitlist=this.entrylist)},add:function(){if(""!==this.driver){var e={destination:this.rufdata.destination,purpose:this.rufdata.purpose,rfidtype:this.rufdata.rfidtype,exptype:this.rufdata.exptype,entry:this.rufdata.entry,exit:this.rufdata.exit,amount:this.rufdata.amount},t=this.tabledata.some((function(t){return t.destination===e.destination&&t.purpose===e.purpose&&t.rfidtype===e.rfidtype&&t.exptype===e.exptype&&t.entry===e.entry&&t.exit===e.exit&&t.amount===e.amount}));t?console.log("Object already exists in the array."):this.tabledata.push(e)}else alert("Please Select Driver")},view:function(e,t){this.link="http://192.168.1.19:7771/api/expressway/monitoring/view?uid="+e+"&type="+t,this.printDialog=!0},generate:function(){var e=1;e="AutoSweep"==this.gentype?0:1,this.link="http://192.168.1.19:7771/api/expressway/monitoring/generates/reports?date="+this.dates+"&type="+e,this.printDialog=!0},openUploadDialog:function(){this.createDialog=!0},save:function(){var e=this;0!==this.tabledata.length?this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed){var a={driver:e.driver,ruf:e.tabledata,date:e.date};e.$store.dispatch("motorpool_expressway/newruf",a),e.refresh(),e.$swal.fire("Save!","Your file has been save.","success"),e.createDialog=!1}})):alert("No Entry Please add")},upload:function(){var e=this;this.loading=!0,this.$store.dispatch("motorpool_expressway/upload",this.files).then((function(t){0==t?(e.loading=!1,alert("Uploaded..!"),e.refresh()):2==t?(e.loading=!1,alert("The file is not supported. Please try using another document as recommended by the developers."),e.refresh()):(e.loading=!1,alert("File Already Exists"))})).catch((function(e){console.error(e)}))},trash:function(e){var t=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&(t.$store.dispatch("motorpool_expressway/trash",e),t.$swal.fire("Deleted!","Your file has been deleted.","success"),t.refresh())}))},refresh:function(){var e=this;this.skeleton=!0,this.$store.dispatch("motorpool_expressway/monitoring").then((function(t){e.data=t.data,e.skeleton=!1}))}}}),mc=uc,vc=Object(m["a"])(mc,lc,dc,!1,null,null,null),pc=vc.exports;p()(vc,{VBtn:w["a"],VCard:F["a"],VCardActions:G["a"],VCardText:G["c"],VCardTitle:G["d"],VChip:et["a"],VCol:mt["a"],VContainer:Te["a"],VDataTable:vt["a"],VDatePicker:wr["a"],VDialog:tt["a"],VDivider:h["a"],VIcon:f["a"],VList:_["a"],VListItem:b["a"],VMenu:Fr["a"],VRow:pt["a"],VSelect:O["a"],VSimpleTable:Qr["a"],VSkeletonLoader:gi["a"],VSpacer:P["a"],VSubheader:Fn["a"],VTextField:Ce["a"],VToolbar:Ae["a"],VToolbarItems:V["a"],VToolbarTitle:V["b"]});var hc=[{path:"/",component:He,name:"home",meta:{requiresAuth:!0}},{path:"/users",component:_t,name:"users",meta:{requiresAuth:!0}},{path:"/branches",component:wt,name:"branches",meta:{requiresAuth:!0}},{path:"/regions",component:Kt,name:"regions",meta:{requiresAuth:!0}},{path:"/divisions",component:oa,name:"divisions",meta:{requiresAuth:!0}},{path:"/departments",component:ma,name:"departments",meta:{requiresAuth:!0}},{path:"/branch-schedules",component:$t,name:"branch-schedules",meta:{requiresAuth:!0}},{path:"/positions",component:ga,name:"positions",meta:{requiresAuth:!0}},{path:"/permissions",component:$a,name:"permissions",meta:{requiresAuth:!0}},{path:"/roles",component:wa,name:"roles",meta:{requiresAuth:!0}},{path:"/user-employments",component:St,name:"user-employments",meta:{requiresAuth:!0}},{path:"/product-items",component:Fa,name:"product-items",meta:{requiresAuth:!0}},{path:"/product-brands",component:Ka,name:"product-brands",meta:{requiresAuth:!0}},{path:"/product-categories",component:er,name:"product-categories",meta:{requiresAuth:!0}},{path:"/service-types",component:or,name:"service-types",meta:{requiresAuth:!0}},{path:"/service-categories",component:mr,name:"service-categories",meta:{requiresAuth:!0}},{path:"/service-providers",component:gr,name:"service-providers",meta:{requiresAuth:!0}},{path:"/computerware-tickets",component:Dr,name:"computerware-tickets",meta:{requiresAuth:!0}},{path:"/connectivity-tickets",component:Ur,name:"connectivity-tickets",meta:{requiresAuth:!0}},{path:"/power-interruptions",component:jr,name:"power-interruptions",meta:{requiresAuth:!0}},{path:"/pending-transactions",component:Xr,name:"pending-transactions",meta:{requiresAuth:!0}},{path:"/archived",component:si,name:"archived-for-land",meta:{requiresAuth:!0}},{path:"/agencies",component:vi,name:"agencies",meta:{requiresAuth:!0}},{path:"/ccs/creditstanding/dashboard",component:xi,name:"credit_standing",meta:{requiresAuth:!0}},{path:"/ccs/blacklisted/dashboard",component:Ei,name:"black_listed",meta:{requiresAuth:!0}},{path:"/ccs/customerdigitized/dashboard",component:Pi,name:"customer_digitized_req",meta:{requiresAuth:!0}},{path:"/ccs/installment/dashboard",component:Mi,name:"installment",meta:{requiresAuth:!0}},{path:"/ccs/reconciliation/dashboard",component:zi,name:"reconciliation",meta:{requiresAuth:!0}},{path:"/ccs/dunning-letters",component:Zi,name:"dunning",meta:{requiresAuth:!0}},{path:"/validation-portal/template",component:on,name:"validation_template",meta:{requiresAuth:!0}},{path:"/validation-portal/good-receipt-model-serial-model",component:mn,name:"validation_good_receipt_serial_model",meta:{requiresAuth:!0}},{path:"/validation-portal/bp-master-cardcode-ar-invoice-cardcode",component:bn,name:"validation_bp_master_cardcode_ar_invoice",meta:{requiresAuth:!0}},{path:"/raffle",component:Cn,name:"raffle",meta:{requiresAuth:!1}},{path:"/giftcodes/index",component:Vn,name:"giftcode",meta:{requiresAuth:!0}},{path:"/revolving-fund/list",component:jn,name:"list_of_rv_funds",meta:{requiresAuth:!0}},{path:"/revolving-fund/avail-revolving-fund-on-hand-reports",component:Qn,name:"avail_rv_fund_on_hand_reports",meta:{requiresAuth:!0}},{path:"/sapb1/reports/index",component:ao,name:"incomingpaymentcrb",meta:{requiresAuth:!0}},{path:"/sapb1/reports/incomingpayment/openbalance",component:rs,name:"incomingpayment_openbalance",meta:{requiresAuth:!0}},{path:"/sapb1/reports/incomingpayment/customerdeposit",component:Jo,name:"incomingpayment_customer_deposit",meta:{requiresAuth:!0}},{path:"/sapb1/reports/ar/openbalance",component:Ho,name:"ar_invoice_openbalance",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/searching/vehicles/parts",component:Lo,name:"searching_of_vehicles_parts",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/series/revised",component:co,name:"invoice_query_series_revised",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/marketing/ar/invoice",component:ho,name:"marketing_ar_invoice_query",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/summary/customer/depositapplied",component:yo,name:"summary_of_customer_depositapplied",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/adjustment/sales/discount",component:Co,name:"adjustment_sales_discount",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/recomputed/account",component:Po,name:"recomputed_amount",meta:{requiresAuth:!0}},{path:"/sapb1/itmmasterdata/create",component:vs,name:"itemmasterdata",meta:{requiresAuth:!0}},{path:"/sapb1/grpo/po",component:xs,name:"grpo",meta:{requiresAuth:!0}},{path:"/sapb1/grpo/po/:mapid",component:xs,name:"grpo",meta:{requiresAuth:!0}},{path:"/sapb1/grpo/po/created/:mapid",component:Es,name:"grpo created",meta:{requiresAuth:!0}},{path:"/sapb1/barcode/printing",component:Os,name:"barcodeprinting",meta:{requiresAuth:!0}},{path:"/sapb1/invt/transactions/goodsissue",component:qs,name:"goodsissue",meta:{requiresAuth:!0}},{path:"/sapb1/invt/transactions/goodsreceipt",component:js,name:"goodsissue",meta:{requiresAuth:!0}},{path:"/sapb1/invt/transactions/inventorytransfer",component:Qs,name:"inventorytransfer",meta:{requiresAuth:!0}},{path:"/sapb1/businesspartner",component:ac,name:"businesspartner",meta:{requiresAuth:!0}},{path:"/settings/database/configure",component:cc,name:"configure",meta:{requiresAuth:!0}},{path:"/expressway/monitoring",component:pc,name:"tollwaysmonitoring",meta:{requiresAuth:!0}}],fc=hc;r["default"].use(oe["a"]);var _c=[];_c=_c.concat(Oe,Le,fc);var gc=_c,bc=new oe["a"]({mode:"history",base:"/",routes:gc});bc.beforeResolve((function(e,t,a){e.name&&ce.a.start(),t&&console.log("catch"),a()})),bc.afterEach((function(e,t){(e||t)&&console.log("catch"),ce.a.done()}));var xc=bc,yc=ge.backend,kc=yc,Tc=kc+"/api/users",Sc={fetchUsers:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Tc).then((function(t){e.commit("SET_USER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeUser:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Tc,t).then((function(t){e.commit("STORE_USER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("USER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateUser:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Tc+"/update",t).then((function(t){e.commit("UPDATE_USER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("USER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteUsers:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Tc+"/delete/multiple",t).then((function(t){e.commit("DELETE_USERS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Dc=Sc,Ec={users:[],errors:[],userItem:[],roleDialog:!1},Cc={getUsers:function(e){return e.users},getUserErrors:function(e){return e.errors},openRoleDialog:function(e){return e.roleDialog},getUserItem:function(e){return e.userItem}},Ac={SET_USER:function(e,t){e.users=t},STORE_USER:function(e,t){e.users.unshift(t)},UPDATE_USER:function(e,t){e.users=e.users.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_USERS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.users.findIndex((function(e){return e.id===t[a].id}));e.users.splice(r,1)}},USER_ERROR:function(e,t){e.errors=t},SET_USER_ITEM:function(e,t){e.roleDialog=t.dialog,e.userItem=t.item}},Ic={namespaced:!0,state:Ec,getters:Cc,mutations:Ac,actions:Dc},wc=kc+"/api/user-employments",Rc={fetchEmployments:function(e){me.a.get(wc).then((function(t){e.commit("SET_EMPLOYMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateEmployment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(wc+"/update",t).then((function(t){e.commit("UPDATE_EMPLOYMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User Employment successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("EMPLOYMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Oc=Rc,Pc={employments:[],errors:[]},Vc={getEmployments:function(e){return e.employments},getEmploymentErrors:function(e){return e.errors}},Nc={SET_EMPLOYMENT:function(e,t){e.employments=t},UPDATE_EMPLOYMENT:function(e,t){e.employments=e.employments.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},EMPLOYMENT_ERROR:function(e,t){e.errors=t}},$c={namespaced:!0,state:Pc,getters:Vc,mutations:Nc,actions:Oc},Uc=kc+"/api/branches",qc={fetchBranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Uc).then((function(t){e.commit("SET_BRANCH",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeBranch:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Uc,t).then((function(t){e.commit("STORE_BRANCH",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRANCH_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateBranch:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Uc+"/update",t).then((function(t){e.commit("UPDATE_BRANCH",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRANCH_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteBranches:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Uc+"/delete/multiple",t).then((function(t){e.commit("DELETE_BRANCHES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch(es) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Lc=qc,Mc={branches:[],errors:[]},Bc={getBranches:function(e){return e.branches},getBranchErrors:function(e){return e.errors}},Fc={SET_BRANCH:function(e,t){e.branches=t},STORE_BRANCH:function(e,t){e.branches.unshift(t)},UPDATE_BRANCH:function(e,t){e.branches=e.branches.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_BRANCHES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.branches.findIndex((function(e){return e.id===t[a].id}));e.branches.splice(r,1)}},BRANCH_ERROR:function(e,t){e.errors=t}},Gc={namespaced:!0,state:Mc,getters:Bc,mutations:Fc,actions:Lc},jc=kc+"/api/bscheds",Hc={fetchSchedules:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(jc).then((function(t){e.commit("SET_SCHEDULE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeSchedule:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(jc,t).then((function(t){e.commit("STORE_SCHEDULE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("SCHEDULE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateSchedule:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(jc+"/update",t).then((function(t){e.commit("UPDATE_SCHEDULE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("SCHEDULE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteSchedules:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(jc+"/delete/multiple",t).then((function(t){e.commit("DELETE_SCHEDULES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Yc=Hc,zc={schedules:[],errors:[]},Kc={getSchedules:function(e){return e.schedules},getScheduleErrors:function(e){return e.errors}},Wc={SET_SCHEDULE:function(e,t){e.schedules=t},STORE_SCHEDULE:function(e,t){e.schedules.unshift(t)},UPDATE_SCHEDULE:function(e,t){e.schedules=e.schedules.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_SCHEDULES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.schedules.findIndex((function(e){return e.id===t[a].id}));e.schedules.splice(r,1)}},SCHEDULE_ERROR:function(e,t){e.errors=t}},Qc={namespaced:!0,state:zc,getters:Kc,mutations:Wc,actions:Yc},Jc=kc+"/api/regions",Xc={fetchRegions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Jc).then((function(t){e.commit("SET_REGION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeRegion:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Jc,t).then((function(t){e.commit("STORE_REGION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("REGION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateRegion:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Jc+"/update",t).then((function(t){e.commit("UPDATE_REGION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("REGION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteRegions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Jc+"/delete/multiple",t).then((function(t){e.commit("DELETE_REGIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Zc=Xc,el={regions:[],errors:[],regionItem:[],branchDialog:!1},tl={getRegions:function(e){return e.regions},getRegionErrors:function(e){return e.errors},getBranchDialog:function(e){return e.branchDialog},getRegionItem:function(e){return e.regionItem}},al={SET_REGION:function(e,t){e.regions=t},STORE_REGION:function(e,t){e.regions.unshift(t)},UPDATE_REGION:function(e,t){e.regions=e.regions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_REGIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.regions.findIndex((function(e){return e.id===t[a].id}));e.regions.splice(r,1)}},REGION_ERROR:function(e,t){e.errors=t},SET_REGION_ITEM:function(e,t){e.branchDialog=t.dialog,e.regionItem=t.item}},rl={namespaced:!0,state:el,getters:tl,mutations:al,actions:Zc},il=kc+"/api/divisions",nl={fetchDivisions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(il).then((function(t){e.commit("SET_DIVISION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeDivision:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(il,t).then((function(t){e.commit("STORE_DIVISION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DIVISION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateDivision:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(il+"/update",t).then((function(t){e.commit("UPDATE_DIVISION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DIVISION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteDivisions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(il+"/delete/multiple",t).then((function(t){e.commit("DELETE_DIVISIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},ol=nl,sl={divisions:[],errors:[],divisionItem:[],deptDialog:!1},cl={getDivisions:function(e){return e.divisions},getDivisionErrors:function(e){return e.errors},getDeptDialog:function(e){return e.deptDialog},getDivisionItem:function(e){return e.divisionItem}},ll={SET_DIVISION:function(e,t){e.divisions=t},STORE_DIVISION:function(e,t){e.divisions.unshift(t)},UPDATE_DIVISION:function(e,t){e.divisions=e.divisions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_DIVISIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.divisions.findIndex((function(e){return e.id===t[a].id}));e.divisions.splice(r,1)}},DIVISION_ERROR:function(e,t){e.errors=t},SET_DIVISION_ITEM:function(e,t){e.deptDialog=t.dialog,e.divisionItem=t.item}},dl={namespaced:!0,state:sl,getters:cl,mutations:ll,actions:ol},ul=kc+"/api/departments",ml={fetchDepartments:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(ul).then((function(t){e.commit("SET_DEPARTMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeDepartment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(ul,t).then((function(t){e.commit("STORE_DEPARTMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DEPARTMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateDepartment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(ul+"/update",t).then((function(t){e.commit("UPDATE_DEPARTMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DEPARTMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteDepartments:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(ul+"/delete/multiple",t).then((function(t){e.commit("DELETE_DEPARTMENTS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},vl=ml,pl={departments:[],errors:[]},hl={getDepartments:function(e){return e.departments},getDepartmentErrors:function(e){return e.errors}},fl={SET_DEPARTMENT:function(e,t){e.departments=t},STORE_DEPARTMENT:function(e,t){e.departments.unshift(t)},UPDATE_DEPARTMENT:function(e,t){e.departments=e.departments.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_DEPARTMENTS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.departments.findIndex((function(e){return e.id===t[a].id}));e.departments.splice(r,1)}},DEPARTMENT_ERROR:function(e,t){e.errors=t}},_l={namespaced:!0,state:pl,getters:hl,mutations:fl,actions:vl},gl=kc+"/api/positions",bl={fetchPositions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(gl).then((function(t){e.commit("SET_POSITION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePosition:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(gl,t).then((function(t){e.commit("STORE_POSITION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POSITION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePosition:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(gl+"/update",t).then((function(t){e.commit("UPDATE_POSITION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POSITION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePositions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(gl+"/delete/multiple",t).then((function(t){e.commit("DELETE_POSITIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},xl=bl,yl={positions:[],errors:[]},kl={getPositions:function(e){return e.positions},getPositionErrors:function(e){return e.errors}},Tl={SET_POSITION:function(e,t){e.positions=t},STORE_POSITION:function(e,t){e.positions.unshift(t)},UPDATE_POSITION:function(e,t){e.positions=e.positions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_POSITIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.positions.findIndex((function(e){return e.id===t[a].id}));e.positions.splice(r,1)}},POSITION_ERROR:function(e,t){e.errors=t}},Sl={namespaced:!0,state:yl,getters:kl,mutations:Tl,actions:xl},Dl=kc+"/api/roles",El={fetchRoles:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Dl).then((function(t){e.commit("SET_ROLE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeRole:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Dl,t).then((function(a){console.log(t),e.commit("STORE_ROLE",a.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var r=[{status:!0,message:"Role successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",r,{root:!0})})).catch((function(t){e.commit("ROLE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateRole:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Dl+"/update",t).then((function(t){e.commit("UPDATE_ROLE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Role successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ROLE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteRoles:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Dl+"/delete/multiple",t).then((function(t){e.commit("DELETE_ROLES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Role(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Cl=El,Al={roles:[],errors:[],roleItem:[],permDialog:!1},Il={getRoles:function(e){return e.roles},getRoleErrors:function(e){return e.errors},getPermDialog:function(e){return e.permDialog},getRoleItem:function(e){return e.roleItem}},wl={SET_ROLE:function(e,t){e.roles=t},STORE_ROLE:function(e,t){e.roles.unshift(t)},UPDATE_ROLE:function(e,t){e.roles=e.roles.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_ROLES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.roles.findIndex((function(e){return e.id===t[a].id}));e.roles.splice(r,1)}},ROLE_ERROR:function(e,t){e.errors=t},SET_ROLE_ITEM:function(e,t){e.permDialog=t.dialog,e.roleItem=t.item}},Rl={namespaced:!0,state:Al,getters:Il,mutations:wl,actions:Cl},Ol=kc+"/api/permissions",Pl={fetchPerms:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Ol).then((function(t){e.commit("SET_PERM",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePerm:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Ol,t).then((function(t){e.commit("STORE_PERM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePerm:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Ol+"/update",t).then((function(t){e.commit("UPDATE_PERM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePerms:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Ol+"/delete/multiple",t).then((function(t){e.commit("DELETE_PERMS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Vl=Pl,Nl={perms:[],errors:[]},$l={getPerms:function(e){return e.perms},getPermErrors:function(e){return e.errors}},Ul={SET_PERM:function(e,t){e.perms=t},STORE_PERM:function(e,t){e.perms.unshift(t)},UPDATE_PERM:function(e,t){e.perms=e.perms.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PERMS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.perms.findIndex((function(e){return e.id===t[a].id}));e.perms.splice(r,1)}},PERM_ERROR:function(e,t){e.errors=t}},ql={namespaced:!0,state:Nl,getters:$l,mutations:Ul,actions:Vl},Ll=kc+"/api/product-items",Ml={fetchItems:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Ll).then((function(t){e.commit("SET_ITEM",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeItem:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Ll,t).then((function(t){e.commit("STORE_ITEM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ITEM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateItem:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Ll+"/update",t).then((function(t){e.commit("UPDATE_ITEM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ITEM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteItems:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Ll+"/delete/multiple",t).then((function(t){e.commit("DELETE_ITEMS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Bl=Ml,Fl={items:[],errors:[]},Gl={getItems:function(e){return e.items},getItemErrors:function(e){return e.errors}},jl={SET_ITEM:function(e,t){e.items=t},STORE_ITEM:function(e,t){e.items.unshift(t)},UPDATE_ITEM:function(e,t){e.items=e.items.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_ITEMS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.items.findIndex((function(e){return e.id===t[a].id}));e.items.splice(r,1)}},ITEM_ERROR:function(e,t){e.errors=t}},Hl={namespaced:!0,state:Fl,getters:Gl,mutations:jl,actions:Bl},Yl=kc+"/api/product-brands",zl={fetchBrands:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Yl).then((function(t){e.commit("SET_BRAND",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeBrand:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Yl,t).then((function(t){e.commit("STORE_BRAND",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRAND_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateBrand:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Yl+"/update",t).then((function(t){e.commit("UPDATE_BRAND",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRAND_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteBrands:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Yl+"/delete/multiple",t).then((function(t){e.commit("DELETE_BRANDS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Kl=zl,Wl={brands:[],errors:[]},Ql={getBrands:function(e){return e.brands},getBrandErrors:function(e){return e.errors}},Jl={SET_BRAND:function(e,t){e.brands=t},STORE_BRAND:function(e,t){e.brands.unshift(t)},UPDATE_BRAND:function(e,t){e.brands=e.brands.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_BRANDS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.brands.findIndex((function(e){return e.id===t[a].id}));e.brands.splice(r,1)}},BRAND_ERROR:function(e,t){e.errors=t}},Xl={namespaced:!0,state:Wl,getters:Ql,mutations:Jl,actions:Kl},Zl=kc+"/api/product-categories",ed={fetchCategories:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Zl).then((function(t){e.commit("SET_CATEGORY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Zl,t).then((function(t){e.commit("STORE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Zl+"/update",t).then((function(t){e.commit("UPDATE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCategories:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Zl+"/delete/multiple",t).then((function(t){e.commit("DELETE_CATEGORIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},td=ed,ad={categories:[],errors:[]},rd={getCategories:function(e){return e.categories},getCategoryErrors:function(e){return e.errors}},id={SET_CATEGORY:function(e,t){e.categories=t},STORE_CATEGORY:function(e,t){e.categories.unshift(t)},UPDATE_CATEGORY:function(e,t){e.categories=e.categories.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_CATEGORIES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.categories.findIndex((function(e){return e.id===t[a].id}));e.categories.splice(r,1)}},CATEGORY_ERROR:function(e,t){e.errors=t}},nd={namespaced:!0,state:ad,getters:rd,mutations:id,actions:td},od=kc+"/api/service-types",sd={fetchTypes:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(od).then((function(t){e.commit("SET_TYPE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeType:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(od,t).then((function(t){e.commit("STORE_TYPE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TYPE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateType:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(od+"/update",t).then((function(t){e.commit("UPDATE_TYPE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TYPE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTypes:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(od+"/delete/multiple",t).then((function(t){e.commit("DELETE_TYPES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},cd=sd,ld={types:[],errors:[]},dd={getTypes:function(e){return e.types},getTypeErrors:function(e){return e.errors}},ud={SET_TYPE:function(e,t){e.types=t},STORE_TYPE:function(e,t){e.types.unshift(t)},UPDATE_TYPE:function(e,t){e.types=e.types.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TYPES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.types.findIndex((function(e){return e.id===t[a].id}));e.types.splice(r,1)}},TYPE_ERROR:function(e,t){e.errors=t}},md={namespaced:!0,state:ld,getters:dd,mutations:ud,actions:cd},vd=kc+"/api/service-categories",pd={fetchCategories:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(vd).then((function(t){e.commit("SET_CATEGORY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(vd,t).then((function(t){e.commit("STORE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(vd+"/update",t).then((function(t){e.commit("UPDATE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCategories:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(vd+"/delete/multiple",t).then((function(t){e.commit("DELETE_CATEGORIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},hd=pd,fd={categories:[],errors:[]},_d={getCategories:function(e){return e.categories},getCategoryErrors:function(e){return e.errors}},gd={SET_CATEGORY:function(e,t){e.categories=t},STORE_CATEGORY:function(e,t){e.categories.unshift(t)},UPDATE_CATEGORY:function(e,t){e.categories=e.categories.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_CATEGORIES:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.categories.findIndex((function(e){return e.id===t[a].id}));e.categories.splice(r,1)}},CATEGORY_ERROR:function(e,t){e.errors=t}},bd={namespaced:!0,state:fd,getters:_d,mutations:gd,actions:hd},xd=kc+"/api/service-providers",yd={fetchProviders:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(xd).then((function(t){e.commit("SET_PROVIDER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeProvider:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(xd,t).then((function(t){e.commit("STORE_PROVIDER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PROVIDER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateProvider:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(xd+"/update",t).then((function(t){e.commit("UPDATE_PROVIDER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PROVIDER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteProviders:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(xd+"/delete/multiple",t).then((function(t){e.commit("DELETE_PROVIDERS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},kd=yd,Td={providers:[],errors:[]},Sd={getProviders:function(e){return e.providers},getProviderErrors:function(e){return e.errors}},Dd={SET_PROVIDER:function(e,t){e.providers=t},STORE_PROVIDER:function(e,t){e.providers.unshift(t)},UPDATE_PROVIDER:function(e,t){e.providers=e.providers.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PROVIDERS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.providers.findIndex((function(e){return e.id===t[a].id}));e.providers.splice(r,1)}},PROVIDER_ERROR:function(e,t){e.errors=t}},Ed={namespaced:!0,state:Td,getters:Sd,mutations:Dd,actions:kd},Cd=kc+"/api/computerware-tickets",Ad={fetchTickets:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Cd).then((function(t){e.commit("SET_TICKET",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Cd,t).then((function(t){e.commit("STORE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Cd+"/update",t).then((function(t){e.commit("UPDATE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTickets:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Cd+"/delete/multiple",t).then((function(t){e.commit("DELETE_TICKETS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Id=Ad,wd={tickets:[],errors:[]},Rd={getTickets:function(e){return e.tickets},getTicketErrors:function(e){return e.errors}},Od={SET_TICKET:function(e,t){e.tickets=t},STORE_TICKET:function(e,t){e.tickets.unshift(t)},UPDATE_TICKET:function(e,t){e.tickets=e.tickets.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TICKETS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.tickets.findIndex((function(e){return e.id===t[a].id}));e.tickets.splice(r,1)}},TICKET_ERROR:function(e,t){e.errors=t}},Pd={namespaced:!0,state:wd,getters:Rd,mutations:Od,actions:Id},Vd=kc+"/api/connectivity-tickets",Nd={fetchTickets:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Vd).then((function(t){e.commit("SET_TICKET",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Vd,t).then((function(t){e.commit("STORE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Vd+"/update",t).then((function(t){e.commit("UPDATE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTickets:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Vd+"/delete/multiple",t).then((function(t){e.commit("DELETE_TICKETS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},$d=Nd,Ud={tickets:[],errors:[]},qd={getTickets:function(e){return e.tickets},getTicketErrors:function(e){return e.errors}},Ld={SET_TICKET:function(e,t){e.tickets=t},STORE_TICKET:function(e,t){e.tickets.unshift(t)},UPDATE_TICKET:function(e,t){e.tickets=e.tickets.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TICKETS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.tickets.findIndex((function(e){return e.id===t[a].id}));e.tickets.splice(r,1)}},TICKET_ERROR:function(e,t){e.errors=t}},Md={namespaced:!0,state:Ud,getters:qd,mutations:Ld,actions:$d},Bd=kc+"/api/power-interruptions",Fd={fetchPowerInterruptions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Bd).then((function(t){e.commit("SET_POWERINTERRUPTION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePowerInterruption:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Bd,t).then((function(t){e.commit("STORE_POWERINTERRUPTION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POWERINTERRUPTION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePowerInterruption:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Bd+"/update",t).then((function(t){e.commit("UPDATE_POWERINTERRUPTION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POWERINTERRUPTION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePowerInterruptions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Bd+"/delete/multiple",t).then((function(t){e.commit("DELETE_POWERINTERRUPTIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Gd=Fd,jd={powerinterruptions:[],errors:[],powerinterruptionItem:[]},Hd={getPowerInterruptions:function(e){return e.powerinterruptions},getPowerInterruptionErrors:function(e){return e.errors},getPowerInterruptionItem:function(e){return e.powerinterruptionItem}},Yd={SET_POWERINTERRUPTION:function(e,t){e.powerinterruptions=t},STORE_POWERINTERRUPTION:function(e,t){e.powerinterruptions.unshift(t)},UPDATE_POWERINTERRUPTION:function(e,t){e.powerinterruptions=e.powerinterruptions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_POWERINTERRUPTIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var r=e.powerinterruptions.findIndex((function(e){return e.id===t[a].id}));e.powerinterruptions.splice(r,1)}},POWERINTERRUPTION_ERROR:function(e,t){e.errors=t},SET_POWERINTERRUPTION_ITEM:function(e,t){e.powerinterruptionItem=t.item}},zd={namespaced:!0,state:jd,getters:Hd,mutations:Yd,actions:Gd},Kd=kc+"/api/pending-transactions",Wd={fetchPendingTrans:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Kd+"/index",t).then((function(t){e.commit("SET_PENDINGTRAN",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Kd,t).then((function(t){e.commit("STORE_PENDINGTRAN",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a="";a=0==t.data.inDB?"Pending Transaction successfully added.":"Pending Transaction successfully updated.";var r=[{status:!0,message:a,timeout:3e3}];e.commit("SNACKBAR_STATUS",r,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},addAllPendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Kd+"/addall",t).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"All Pending Transaction(s) successfully added to current.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.put(Kd+"/update",t).then((function(t){console.log(t.data);var a=[{status:!0,message:"Pending Transaction successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.message),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Update failed!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})}))},deletePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.patch(Kd+"/delete",t).then((function(t){e.commit("DELETE_PENDINGTRAN",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Pending Transaction successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Qd=Wd,Jd={pendingtrans:[],errors:[],pendingtranItem:[]},Xd={getPendingTrans:function(e){return e.pendingtrans},getPendingTranErrors:function(e){return e.errors}},Zd={SET_PENDINGTRAN:function(e,t){e.pendingtrans=t},STORE_PENDINGTRAN:function(e,t){var a=e.pendingtrans,r=a.findIndex((function(e){return e.id===t.branch_id})),i=e.pendingtrans[r].pendings,n=i.findIndex((function(e){return e.docdate===t.docdate}));-1==n?e.pendingtrans[r].pendings.push(t):e.pendingtrans[r].pendings=e.pendingtrans[r].pendings.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PENDINGTRAN:function(e,t){var a=e.pendingtrans,r=a.findIndex((function(e){return e.id===t.branch_id})),i=e.pendingtrans[r].pendings,n=i.findIndex((function(e){return e.id===t.id}));e.pendingtrans[r].pendings.splice(n,1)},PENDINGTRAN_ERROR:function(e,t){e.errors=t}},eu={namespaced:!0,state:Jd,getters:Xd,mutations:Zd,actions:Qd},tu=kc+"/api/archived/index",au=kc+"/api/archived/store",ru=kc+"/api/archived/update",iu=kc+"/api/archived/download",nu=kc+"/api/archived/delete",ou=kc+"/api/archived/delete/attachment",su={fetchArchived:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(tu).then((function(t){e.commit("GET_PROVIDER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeArchived:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;a.append("tctFile-file",t.tctinfo.tctFile[0]),a.append("taxdecFile-file",t.taxDecInfo.taxdecFile[0]),a.append("realPropertyTaxFile-file",t.realProInfo.realPropertyTaxFile[0]),a.append("vicinityMapFile-file",t.vicinityMapFile),a.append("deedOfSaleFile-file",t.deedOfSaleFile[0]),a.append("tctNumber",t.tctinfo.tctNumber),a.append("location",t.tctinfo.location),a.append("dateAquired",t.tctinfo.dateAquired),a.append("area",t.tctinfo.area),a.append("taxDecNumber",t.taxDecInfo.taxDecNumber),a.append("taxDecOption",t.taxDecInfo.taxDecOption),a.append("owner",t.taxDecInfo.owner),a.append("previousOwner",t.taxDecInfo.previousOwner),a.append("realPropertyTaxNumber",t.realProInfo.realPropertyTaxNumber),a.append("realPropertyTaxDate",t.realProInfo.realPropertyTaxDate),a.append("realPropertyTaxOption",t.realProInfo.realPropertyTaxOption),a.append("realPropertyTaxAmount",t.realProInfo.realPropertyTaxAmount),a.append("zonalValue",t.zonalValue2),a.append("tctFile-file2",t.tctinfo2.tctFile[0]),a.append("taxdecFile-file2",t.taxDecInfo2.taxdecFile[0]),a.append("realPropertyTaxFile-file2",t.realProInfo2.realPropertyTaxFile[0]),a.append("vicinityMapFile-file2",t.vicinityMapFile2),a.append("deedOfSaleFile-file2",t.deedOfSaleFile2[0]),a.append("taxDecNumber2",t.taxDecInfo2.taxDecNumber),a.append("taxDecOption2",t.taxDecInfo2.taxDecOption),a.append("owner2",t.taxDecInfo2.owner),a.append("previousOwner2",t.taxDecInfo2.previousOwner),a.append("realPropertyTaxNumber2",t.realProInfo2.realPropertyTaxNumber),a.append("realPropertyTaxDate2",t.realProInfo2.realPropertyTaxDate),a.append("realPropertyTaxOption2",t.realProInfo2.realPropertyTaxOption),a.append("realPropertyTaxAmount2",t.realProInfo2.realPropertyTaxAmount),a.append("zonalValue2",t.zonalValue2),me.a.post(au,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Archived Land Docs successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateArchived:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;a.append("form-id",t.tctinfo.id),a.append("tctFile-file",t.tctinfo.tctFile[0]),a.append("taxdecFile-file",t.taxDecInfo.taxdecFile[0]),a.append("realPropertyTaxFile-file",t.realProInfo.realPropertyTaxFile[0]),a.append("vicinityMapFile-file",t.vicinityMapFile),a.append("deedOfSaleFile-file",t.deedOfSaleFile[0]),a.append("tctFile-file-id",t.tctinfo.tctFileID),a.append("taxdecFile-file-id",t.taxDecInfo.taxdecFileID),a.append("realPropertyTaxFile-file-id",t.realProInfo.realPropertyTaxFileID),a.append("vicinityMapFile-file-id",t.vicinityMapFileID),a.append("deedOfSaleFile-file-id",t.deedOfSaleFileID),a.append("tctFile-file-id2",t.tctinfo2.tctFileID),a.append("taxdecFile-file-id2",t.taxDecInfo2.taxdecFileID),a.append("realPropertyTaxFile-file-id2",t.realProInfo2.realPropertyTaxFileID),a.append("vicinityMapFile-file-id2",t.vicinityMapFileID2),a.append("deedOfSaleFile-file-id2",t.deedOfSaleFileID2),a.append("tctNumber",t.tctinfo.tctNumber),a.append("location",t.tctinfo.location),a.append("dateAquired",t.tctinfo.dateAquired),a.append("area",t.tctinfo.area),a.append("taxDecNumber",t.taxDecInfo.taxDecNumber),a.append("taxDecOption",t.taxDecInfo.taxDecOption),a.append("owner",t.taxDecInfo.owner),a.append("previousOwner",t.taxDecInfo.previousOwner),a.append("realPropertyTaxNumber",t.realProInfo.realPropertyTaxNumber),a.append("realPropertyTaxDate",t.realProInfo.realPropertyTaxDate),a.append("realPropertyTaxOption",t.realProInfo.realPropertyTaxOption),a.append("realPropertyTaxAmount",t.realProInfo.realPropertyTaxAmount),a.append("zonalValue",t.zonalValue),a.append("tctFile-file2",t.tctinfo2.tctFile[0]),a.append("taxdecFile-file2",t.taxDecInfo2.taxdecFile[0]),a.append("realPropertyTaxFile-file2",t.realProInfo2.realPropertyTaxFile[0]),a.append("vicinityMapFile-file2",t.vicinityMapFile2),a.append("deedOfSaleFile-file2",t.deedOfSaleFile2[0]),a.append("taxDecNumber2",t.taxDecInfo2.taxDecNumber),a.append("taxDecOption2",t.taxDecInfo2.taxDecOption),a.append("owner2",t.taxDecInfo2.owner),a.append("previousOwner2",t.taxDecInfo2.previousOwner),a.append("realPropertyTaxNumber2",t.realProInfo2.realPropertyTaxNumber),a.append("realPropertyTaxDate2",t.realProInfo2.realPropertyTaxDate),a.append("realPropertyTaxOption2",t.realProInfo2.realPropertyTaxOption),a.append("realPropertyTaxAmount2",t.realProInfo2.realPropertyTaxAmount),a.append("zonalValue2",t.zonalValue2),me.a.post(ru,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Archived successfully Updated.",timeout:3e3}];e.commit("GET_RESPONSE",t),e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},downloadArchived:function(e,t){me.a.post(iu,{id:t.id},{responseType:"blob"}).then((function(a){var r=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=r,i.setAttribute("download",""+t.name),document.body.appendChild(i),i.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},deleteArchived:function(e,t){me.a.post(nu,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},attachmentDeletions:function(e,t){me.a.post(ou,t).then((function(t){console.log(t.data);var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},cu=su,lu={archived_data:[],errors:[],response:[]},du={getArchived:function(e){return e.archived_data},getResponse:function(e){return e.response}},uu={GET_PROVIDER:function(e,t){e.archived_data=t},GET_RESPONSE:function(e,t){e.response=t}},mu={namespaced:!0,state:lu,getters:du,mutations:uu,actions:cu},vu=(a("19de"),kc+"/api/agencies/index"),pu=kc+"/api/agencies/store",hu=kc+"/api/agencies/update",fu=kc+"/api/agencies/trash",_u=kc+"/api/agencies/date",gu=kc+"/api/agencies/delete",bu=kc+"/api/agencies/download",xu={fetchAgencies:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(vu).then((function(t){e.commit("GET_AGENCIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeAgencies:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.dole_file.map((function(e,t){a.append("file-dole"+t,e)})),t.bir_file.map((function(e,t){a.append("file-bir"+t,e)})),t.lgu_file.map((function(e,t){a.append("file-lgu"+t,e)})),me.a.post(pu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Agencies Land Docs successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateAgencies:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.dole_file.map((function(e,t){a.append("file-dole"+t,e)})),t.bir_file.map((function(e,t){a.append("file-bir"+t,e)})),t.lgu_file.map((function(e,t){a.append("file-lgu"+t,e)})),t.id.map((function(e,t){a.append("id",e)})),me.a.post(hu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Agencies successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},getDateAgencies:function(e,t){me.a.post(_u,{id:t}).then((function(t){e.commit("DATE_HISTORY",t)}))},downloadAgencies:function(e,t){me.a.post(bu,{id:t.id},{responseType:"blob"}).then((function(a){var r=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=r,i.setAttribute("download",""+t.filename),document.body.appendChild(i),i.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},trashAgencies:function(e,t){me.a.post(fu,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteAgencies:function(e,t){me.a.post(gu,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},yu=xu,ku={agencies_data:[],date_history:[],errors:[]},Tu={getAgencies:function(e){return e.agencies_data},getdate_history:function(e){return e.date_history}},Su={GET_AGENCIES:function(e,t){e.agencies_data=t},DATE_HISTORY:function(e,t){e.date_history=t}},Du={namespaced:!0,state:ku,getters:Tu,mutations:Su,actions:yu},Eu=kc+"/api/auth/roles",Cu=kc+"/api/auth/permissions",Au={fetchPermissions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Eu).then((function(t){e.commit("GET_PERMISSIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchPermission:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Cu).then((function(t){e.commit("GET_PERMISSION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Iu=Au,wu={permissions_data:[],permission:[]},Ru={getPermissions:function(e){return e.permissions_data},getPermission:function(e){return e.permission}},Ou={GET_PERMISSIONS:function(e,t){e.permissions_data=t},GET_PERMISSION:function(e,t){e.permission=t}},Pu={namespaced:!0,state:wu,getters:Ru,mutations:Ou,actions:Iu},Vu=kc+"/api/blacklisted/upload",Nu=kc+"/api/public/branch/segment",$u=kc+"/api/public/branch/series",Uu=kc+"/api/blacklisted/search",qu=kc+"/api/blacklisted/index",Lu={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Nu).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchBranchSeries:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get($u).then((function(t){e.commit("GET_SERIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchBlackListed:function(e,t){e.commit("LOADING_STATUS2",!0,{root:!0}),me.a.get(qu).then((function(t){e.commit("GET_BLACKLISTED",t.data),e.commit("LOADING_STATUS2",!1,{root:!0})}))},searchBlacklisted:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Uu,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_BLACKLISTED",t.data);var a=[{status:!0,message:"Fetch Done...!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},UploadBlacklisted:function(e,t){var a=new FormData;a.append("blacklisted",t),me.a.post(Vu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Blacklisted Customer Data successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Mu=Lu,Bu={blacklisted_data:[],segment_data:[],series_data:[]},Fu={getBlackListed:function(e){return e.blacklisted_data},getBranchSegment:function(e){return e.segment_data},getBranchSeries:function(e){return e.series_data}},Gu={GET_BLACKLISTED:function(e,t){e.blacklisted_data=t},GET_SEGMENT:function(e,t){e.segment_data=t},GET_SERIES:function(e,t){e.series_data=t}},ju={namespaced:!0,state:Bu,getters:Fu,mutations:Gu,actions:Mu},Hu=(a("19de"),kc+"/api/digitized/index"),Yu=kc+"/api/branches/public",zu=kc+"/api/digitized/upload",Ku=kc+"/api/digitized/update",Wu=kc+"/api/digitized/trash",Qu=kc+"/api/digitized/delete",Ju=kc+"/api/digitized/download",Xu={fetchCDR:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Hu).then((function(t){e.commit("GET_CDR",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchbranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Yu).then((function(t){e.commit("GET_BRANCHES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCDR:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.validID_file.map((function(e,t){a.append("file-valid-id"+t,e)})),t.proof_of_billing.map((function(e,t){a.append("file-proof-billing"+t,e)})),a.append("file-application-form",t.application_file),a.append("file-picture_file",t.picture_file),a.append("customer-name",t.custormer_info.customer_name),a.append("birthday",t.custormer_info.birthday),a.append("branch",t.custormer_info.branch.value),a.append("unit-avail",t.custormer_info.unit_avail),me.a.post(zu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Customer Requirement successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){alert("All fields are required. Please fill up all fields."),e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCDR:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.validID_file.map((function(e,t){a.append("file-valid-id"+t,e)})),t.proof_of_billing.map((function(e,t){a.append("file-proof-billing"+t,e)})),a.append("file-application-form",t.application_file),a.append("file-picture_file",t.picture_file),a.append("customer-name",t.custormer_info.customer_name),a.append("birthday",t.custormer_info.birthday),a.append("branch",t.custormer_info.branch.value),a.append("unit-avail",t.custormer_info.unit_avail),a.append("id",t.id),me.a.post(Ku,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Agencies successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},download:function(e,t){me.a.post(Ju,{id:t.id},{responseType:"blob"}).then((function(a){var r=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=r,i.setAttribute("download",""+t.filename),document.body.appendChild(i),i.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},preview:function(e,t){me.a.post(Ju,{id:t.id},{responseType:"blob"}).then((function(a){var r=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=r,i.setAttribute("download",""+t.filename),document.body.appendChild(i),e.commit("ATTACHMENT_DATA",r)}))},trashCDR:function(e,t){me.a.post(Wu,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCDR:function(e,t){me.a.post(Qu,{id:t}).then((function(t){console.log(t.data);var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Zu=Xu,em={cdr_data:[],branches_data:[],attachment_data:""},tm={getCdr:function(e){return e.cdr_data},getBranches:function(e){return e.branches_data},getAttachment:function(e){return e.attachment_data}},am={GET_CDR:function(e,t){e.cdr_data=t},GET_BRANCHES:function(e,t){e.branches_data=t},ATTACHMENT_DATA:function(e,t){e.attachment_data=t}},rm={namespaced:!0,state:em,getters:tm,mutations:am,actions:Zu},im=kc+"/api/public/credit/standing/index",nm=kc+"/api/public/credit/standing/generate",om={fetchCreditStanding:function(e,t){return me.a.get(im+"?page="+t.page+"&search="+t.search).then((function(e){return e}))},GenerateCreditStanding:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(nm,t).then((function(t){e.commit("GET_CREDITSTANDING",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Sap Data Generated successfully",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},sm=om,cm={creditstanding_data:[]},lm={getCreditStanding:function(e){return e.creditstanding_data}},dm={GET_CREDITSTANDING:function(e,t){e.creditstanding_data=t}},um={namespaced:!0,state:cm,getters:lm,mutations:dm,actions:sm},mm=kc+"/api/public/index",vm=kc+"/api/public/installment",pm={fetchIncoming:function(e,t){e.commit("LOADING_STATUS2",!0,{root:!0}),me.a.post(mm,t).then((function(t){e.commit("LOADING_STATUS2",!1,{root:!0}),e.commit("GET_INCOMING",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS2",!1,{root:!0})}))},fetchInstallment:function(e,t){e.commit("GET_INSTALLMENT",[]),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(vm,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_INSTALLMENT",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},hm=pm,fm={incoming_data:[],installment_data:[],errors:[]},_m={getIncoming:function(e){return e.incoming_data},getInstallment:function(e){return e.installment_data},getInstallmentErr:function(e){return e.errors}},gm={GET_INCOMING:function(e,t){e.incoming_data=t},GET_INSTALLMENT:function(e,t){e.installment_data=t},INSTALLMENT_ERROR:function(e,t){e.errors=t}},bm={namespaced:!0,state:fm,getters:_m,mutations:gm,actions:hm},xm=kc+"/api/public/installment/index",ym=kc+"/api/public/installment/create",km=kc+"/api/public/installment/updatemanual",Tm=kc+"/api/public/calculate/grade",Sm={fetchIncoming:function(e,t){e.commit("LOADING_STATUS2",!0,{root:!0}),me.a.post(xm,t).then((function(t){e.commit("LOADING_STATUS2",!1,{root:!0}),e.commit("GET_INCOMING",t.data.data),e.commit("GET_GRADE",t.data.grade.original)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS2",!1,{root:!0})}))},fetchInstallment:function(e,t){e.commit("GET_INSTALLMENT",[]),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(ym,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_INSTALLMENT",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateManual:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(km,t).then((function(t){console.log(t),e.commit("LOADING_STATUS",!1,{root:!0})})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))},ComputeBranchGrade:function(e,t){me.a.get(Tm,t).then((function(t){e.commit("GET_GRADE",t.data)})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))}},Dm=Sm,Em={incoming_data:[],installment_data:[],errors:[],branchgrade:[]},Cm={getIncoming:function(e){return e.incoming_data},getInstallment:function(e){return e.installment_data},getInstallmentErr:function(e){return e.errors},getbranchgrade:function(e){return e.branchgrade}},Am={GET_INCOMING:function(e,t){e.incoming_data=t},GET_INSTALLMENT:function(e,t){e.installment_data=t},INSTALLMENT_ERROR:function(e,t){e.errors=t},GET_GRADE:function(e,t){e.branchgrade=t}},Im={namespaced:!0,state:Em,getters:Cm,mutations:Am,actions:Dm},wm=(a("5319"),a("19de")),Rm=a.n(wm),Om=kc+"/api/credit-dunning",Pm={fetchOverdues:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Om+"/index").then((function(t){e.commit("GET_OVERDUES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},downloadLetters:function(e,t){var a={index:t.index,value:!0};e.commit("DOWNLOADING_STATUS",a),me.a.post(Om+"/download-letters",t,{responseType:"blob"}).then((function(t){Rm()(t.data,t.headers["content-disposition"].split("filename=")[1].replace(/"/g,"")),e.commit("SNACKBAR_STATUS",[{status:!0,message:"Letters successfully Downloaded.",timeout:3e3}],{root:!0})})).catch((function(e){console.log(e.response.data)})).finally((function(){a.value=!1,e.commit("DOWNLOADING_STATUS",a)}))},test:function(){me.a.get(Om).then((function(e){console.log(e.headers)}))},fetchBranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Om+"/get-branches").then((function(t){console.log(t.data),e.commit("GET_BRANCHES",t.data),e.commit("GET_AGINGS",[{name:"1 month",value:"02 ONE(1) MONTH"},{name:"2 months",value:"03 TWO(2) MONTHS"},{name:"3 months",value:"04 THREE(3) MONTHS"},{name:"4 months",value:"05 FOUR(4) MONTHS"},{name:"1 month lapcon",value:"09 LAPCON ONE(1) MONTH"}]),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Vm=Pm,Nm={overdues_data:[],downloading:{}},$m={getOverdues:function(e){return e.overdues_data},getDownloadingStatus:function(e){return e.downloading},getBranches:function(e){return e.branches_data},getAgings:function(e){return e.agings_data}},Um={GET_OVERDUES:function(e,t){e.overdues_data=t},DOWNLOADING_STATUS:function(e,t){r["default"].set(e.downloading,t.index,t.value)},GET_BRANCHES:function(e,t){e.branches_data=t},GET_AGINGS:function(e,t){e.agings_data=t}},qm={namespaced:!0,state:Nm,getters:$m,mutations:Um,actions:Vm},Lm=kc+"/api/validation-portal",Mm={checkAuth:function(e){me.a.get(Lm+"/check-auth")},validateTemplate:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("unique_column_1",t.unique_column_1),a.append("unique_column_2",t.unique_column_2),e.commit("setValidationProgress",!0),me.a.post(Lm+"/validate-template",a).then((function(t){e.dispatch("resetValidationMessages"),e.commit("setSuccessMessage",t.data.message)})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,r=a.status,i=a.data;422==r?e.commit("setInputValidationErrors",i.errors):500==r&&e.commit("setValidationErrors",i)})).finally((function(){e.commit("setValidationProgress",!1)}))},exportToExcel:function(e,t){e.commit("setExportingProgress",!0),me.a.post(Lm+"/export-to-excel",t,{responseType:"blob"}).then((function(e){console.log(e);var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e.headers["content-disposition"].split("filename=")[1],a.click()})).finally((function(){e.commit("setExportingProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},Bm=Mm,Fm={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null,exporting_on_progress:!1},Gm={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message},getExportingProgress:function(e){return e.exporting_on_progress}},jm={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t},setExportingProgress:function(e,t){e.exporting_on_progress=t}},Hm={namespaced:!0,state:Fm,getters:Gm,mutations:jm,actions:Bm},Ym=kc+"/api/validation-portal",zm={validateGoodReceiptToSerial:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("column_to_compare",t.column_to_compare),a.append("alt_name_of_col",t.alt_name_of_col),a.append("match_column_1",t.match_column_1),a.append("match_column_2",t.match_column_2),e.commit("setValidationProgress",!0),me.a.post(Ym+"/validate-good-receipt-to-serial",a).then((function(t){e.dispatch("resetValidationMessages"),e.commit("setSuccessMessage",t.data.message)})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,r=a.status,i=a.data;422==r?e.commit("setInputValidationErrors",i.errors):500==r&&e.commit("setValidationErrors",i)})).finally((function(){e.commit("setValidationProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},Km=zm,Wm={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null},Qm={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message}},Jm={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t}},Xm={namespaced:!0,state:Wm,getters:Qm,mutations:Jm,actions:Km},Zm=kc+"/api/validation-portal",ev={validateBPMasterDataCardCodeArInvoice:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("base_match_column",t.base_match_column),a.append("comparison_match_column",t.comparison_match_column),a.append("base_columns_to_get",t.base_columns_to_get),a.append("comparison_columns_to_get",t.comparison_columns_to_get),e.commit("setValidationProgress",!0),me.a.post(Zm+"/validate-bp-master-cardcode-ar-invoice",a,{responseType:"blob"}).then((function(t){e.dispatch("resetValidationMessages");var a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.download=t.headers["content-disposition"].split("filename=")[1],r.click(),e.commit("setSuccessMessage","Validation Successful")})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,r=a.status,i=a.data;422==r?e.commit("setInputValidationErrors",i.errors):500==r&&e.commit("setValidationErrors",i)})).finally((function(){e.commit("setValidationProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},tv=ev,av={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null,exporting_on_progress:!1},rv={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message},getExportingProgress:function(e){return e.exporting_on_progress}},iv={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t},setExportingProgress:function(e,t){e.exporting_on_progress=t}},nv={namespaced:!0,state:av,getters:rv,mutations:iv,actions:tv},ov="http://192.168.1.19:3378/",sv={GetWinner:function(e,t){e.commit("LOADING_STATUS",!1,{root:!0}),me.a.get(ov).then((function(t){e.commit("GET_WINNER",t.data)})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))}},cv=sv,lv={winner_data:[]},dv={getWinner:function(e){return e.winner_data}},uv={GET_WINNER:function(e,t){e.winner_data=t}},mv={namespaced:!0,state:lv,getters:dv,mutations:uv,actions:cv},vv=kc+"/api/authorized/giftcode",pv={AuthorizedAccess:function(e){console.log(e),e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(vv).then((function(t){console.log(t),e.commit("LOADING_STATUS",!1,{root:!0})}))}},hv=pv,fv={},_v={},gv={},bv={namespaced:!0,state:fv,getters:_v,mutations:gv,actions:hv},xv=kc+"/api/revolving-fund",yv=xv+"/preparation/history",kv=xv+"/preparation/toprint",Tv=xv+"/check-voucher-verification",Sv=xv+"/check-voucher-for-transmittal",Dv=xv+"/expenses-for-check-preparation",Ev={fetchRevolvingFunds:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(xv+"/index").then((function(t){var a=t.data;e.commit("setRevolvingFunds",a.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchPreparationHistory:function(e,t){return e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(xv+"/preparation/history?id="+t.tin+"&date="+t.date+"&b="+t.branch).then((function(t){var a=t.data;return e.commit("setPreparationHistory",a),e.commit("LOADING_STATUS",!1,{root:!0}),a}))},fetchckHistory:function(e,t){return e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(xv+"/ck/history?&b="+t.branch).then((function(t){var a=t.data;return e.commit("setckHistory",a),e.commit("LOADING_STATUS",!1,{root:!0}),a}))},viewRevolvingFund:function(e,t){return me.a.get(xv+"/view/"+t.id).then((function(t){var a=t.data;return e.commit("setRvFundWithExpenseItems",a.data),a.data}))},updateCashAdvances:function(e,t){return me.a.post(xv+"/update/"+t.id+"/cash-advances",{cash_advances:t.cash_advances}).then((function(e){return e})).catch((function(e){return e.response}))},PrintTransmittal:function(e,t){me.a.get(yv+"/print?b="+t+"&iden=1",{responseType:"blob"}).then((function(e){window.open(URL.createObjectURL(e.data));var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a)}))},PrintBIR:function(e,t){me.a.get(yv+"/print?id="+t.tin+"&date="+t.date+"&b="+t.branch,{responseType:"blob"}).then((function(e){window.open(URL.createObjectURL(e.data));var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a)}))},printRvFundsSummary:function(e,t){me.a.get(xv+"/print/"+t.id,{responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a)}))},updateAvailRevolvingFundOnHand:function(e,t){me.a.post(xv+"/update-avail-rf-on-hand/"+t.id,{avail_fund_on_hand:t.avail_fund_on_hand}).then((function(e){console.log(e.data)}))},createCheckVoucherVerification:function(e,t){return me.a.post(Tv+"/create",t).then((function(e){return e})).catch((function(e){return e.response}))},updateCheckVoucherVerification:function(e,t){return me.a.put(Tv+"/update/"+t.id,t).then((function(e){return e})).catch((function(e){return e.response}))},updateChkVoucherVerificationStatus:function(e,t){return me.a.put(Tv+"/update-status/"+t.id,t).then((function(e){return e})).catch((function(e){return e.response}))},deleteChkVoucherVerification:function(e,t){return me.a.delete(Tv+"/destroy/"+t.id).then((function(e){return e})).catch((function(e){return e.response}))},createCheckVoucherForTransmittal:function(e,t){return me.a.post(Sv+"/create",t).then((function(e){return e})).catch((function(e){return e.response}))},updateCheckVoucherForTransmittal:function(e,t){return me.a.put(Sv+"/update/"+t.id,t).then((function(e){return e})).catch((function(e){return e.response}))},deleteChkVoucherForTransmittal:function(e,t){return me.a.delete(Sv+"/destroy/"+t.id).then((function(e){return e})).catch((function(e){return e.response}))},transmitChkVoucher:function(e,t){return me.a.post(Sv+"/transmit",t).then((function(e){return e})).catch((function(e){return e.response}))},createExpenseForChkPreparation:function(e,t){return me.a.post(Dv+"/create",t).then((function(e){return e})).catch((function(e){return e.response}))},updateExpenseForChkPreparation:function(e,t){return me.a.put(Dv+"/update/"+t.id,t).then((function(e){return e})).catch((function(e){return e.response}))},deleteExpenseForChkPreparation:function(e,t){return me.a.delete(Dv+"/destroy/"+t.id).then((function(e){return e})).catch((function(e){return e.response}))},replenishExpenses:function(e,t){return me.a.post(Dv+"/replenish",t).then((function(e){return e})).catch((function(e){return e.response}))},toprint:function(e,t){return me.a.post(kv,t).then((function(e){return e})).catch((function(e){return e.response}))},fetchGLaccount:function(e,t){return me.a.get(xv+"/gl/account").then((function(t){return e.commit("GL_ACCOUNT",t),t})).catch((function(e){return e.response}))}},Cv=Ev,Av={glaccount:[],revolving_funds:[],rv_fund_with_expense_items:{check_voucher_verifications:[],check_voucher_for_transmittals:[],expenses_for_check_preparations:[],check_voucher_verifications_total:0,check_voucher_for_transmittals_total:0,expenses_for_check_preparations_total:0},history:[],ckhistory:[]},Iv={getRevolvingFunds:function(e){return e.revolving_funds},getRvFundWithExpenseItems:function(e){return e.rv_fund_with_expense_items},getGlAccount:function(e){return e.glaccount},getHistory:function(e){return e.history},getckHistory:function(e){return e.ckhistory}},wv={setRevolvingFunds:function(e,t){e.revolving_funds=t},setRvFundWithExpenseItems:function(e,t){e.rv_fund_with_expense_items=t},setChkVoucherVerificationsTotal:function(e,t){e.rv_fund_with_expense_items.check_voucher_verifications_total=t},setChkVoucherForTransmittalTotal:function(e,t){e.rv_fund_with_expense_items.check_voucher_for_transmittals_total=t},setExpensesForChkPreparationTotal:function(e,t){e.rv_fund_with_expense_items.expenses_for_check_preparations_total=t},GL_ACCOUNT:function(e,t){e.glaccount=t},setPreparationHistory:function(e,t){e.history=t},setckHistory:function(e,t){e.ckhistory=t}},Rv={namespaced:!0,state:Av,getters:Iv,mutations:wv,actions:Cv},Ov=kc+"/api/revolving-fund/avail-rv-fund-on-hand",Pv={fetchAvailRvFundOnHandsReports:function(e,t){var a=e.commit;a("LOADING_STATUS",!0,{root:!0}),me.a.get(Ov+"/index").then((function(e){var t=e.data;a("setAvailRvFundOnHands",t),a("LOADING_STATUS",!1,{root:!0})}))},updateOrCreateRFund:function(e,t){return me.a.post(Ov+"/updateOrCreate",t).then((function(e){return e})).catch((function(e){return e.response}))},printAvailRFOnHandReports:function(e,t){me.a.get(Ov+"/print",{responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e.headers["content-disposition"].split("filename=")[1].replace(/"/g,""),a.click(),window.open(URL.createObjectURL(e.data));var r=new Blob([e.data],{type:"application/pdf"}),i=URL.createObjectURL(r);window.open(i)}))},updateTotalData:function(e,t){var a=e.commit;a("setRFTotal",t.rfTotal),a("setCATotal",t.caTotal),a("setAvailRFTotal",t.availRfTotal)},historyData:function(e,t){me.a.get(Ov+"/history?b="+t).then((function(t){var a=t.data;e.commit("setHistoryData",a)}))}},Vv=Pv,Nv={avail_rf_on_hands:{items:[],rf_total:0,ca_total:0,avail_rf_total:0},historyData:[]},$v={getAvailRvFundOnHands:function(e){return e.avail_rf_on_hands},getHistoryData:function(e){return e.historyData}},Uv={setAvailRvFundOnHands:function(e,t){e.avail_rf_on_hands=t},setRFTotal:function(e,t){e.avail_rf_on_hands.rf_total=t},setCATotal:function(e,t){e.avail_rf_on_hands.ca_total=t},setAvailRFTotal:function(e,t){e.avail_rf_on_hands.avail_rf_total=t},setHistoryData:function(e,t){e.historyData=t}},qv={namespaced:!0,state:Nv,getters:$v,mutations:Uv,actions:Vv},Lv=kc+"/api/public/branch/segment",Mv=kc+"/api/public/reports/incoming/crb",Bv={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Lv).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},GeneratePaymentCRB:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Mv,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_PAYMENTCRB",t.data);var a=[{status:!0,message:"Fetch Done...!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Fv=Bv,Gv={paymentcrb_data:[],segment_data:[]},jv={getPaymentCRB:function(e){return e.paymentcrb_data},getBranchSegment:function(e){return e.segment_data}},Hv={GET_PAYMENTCRB:function(e,t){e.paymentcrb_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Yv={namespaced:!0,state:Gv,getters:jv,mutations:Hv,actions:Fv},zv=kc+"/api/seriesname/fetch?q=sapprogtbl",Kv=kc+"/api/public/reports/queries/adjustmentsalesdiscount?q=queries",Wv={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(zv).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Kv+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Qv=Wv,Jv={query_data:[],segment_data:[]},Xv={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Zv={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},ep={namespaced:!0,state:Jv,getters:Xv,mutations:Zv,actions:Qv},tp=kc+"/api/seriesname/fetch?q=sapprogtbl",ap=kc+"/api/public/reports/queries/arinvoiceopenbalance?q=queries",rp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(tp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(ap+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},ip=rp,np={query_data:[],segment_data:[]},op={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},sp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},cp={namespaced:!0,state:np,getters:op,mutations:sp,actions:ip},lp=kc+"/api/seriesname/fetch?q=sapprogtbl",dp=kc+"/api/public/reports/queries/incomingpaymentcustomerdeposit?q=queries",up={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(lp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(dp+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},mp=up,vp={query_data:[],segment_data:[]},pp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},hp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},fp={namespaced:!0,state:vp,getters:pp,mutations:hp,actions:mp},_p=kc+"/api/seriesname/fetch",gp=kc+"/api/public/reports/queries/incomingpaymentopenbalance?q=queries",bp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(_p).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(gp+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},xp=bp,yp={query_data:[],segment_data:[]},kp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Tp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Sp={namespaced:!0,state:yp,getters:kp,mutations:Tp,actions:xp},Dp=kc+"/api/seriesname/fetch",Ep=kc+"/api/public/reports/queries/invoicequeryseriesrevised?q=queries",Cp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Dp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Ep+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Ap=Cp,Ip={query_data:[],segment_data:[]},wp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Rp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Op={namespaced:!0,state:Ip,getters:wp,mutations:Rp,actions:Ap},Pp=kc+"/api/seriesname/fetch",Vp=kc+"/api/public/reports/queries/marketingarinvoicequery?q=queries",Np={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Pp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Vp+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},$p=Np,Up={query_data:[],segment_data:[]},qp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Lp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Mp={namespaced:!0,state:Up,getters:qp,mutations:Lp,actions:$p},Bp=kc+"/api/seriesname/fetch?q=sapprogtbl",Fp=kc+"/api/public/reports/queries/recomputedaccount?q=queries",Gp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Bp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Fp+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},jp=Gp,Hp={query_data:[],segment_data:[]},Yp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},zp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Kp={namespaced:!0,state:Hp,getters:Yp,mutations:zp,actions:jp},Wp=kc+"/api/public/reports/queries/searchofvehicleparts?q=items&req=type",Qp=kc+"/api/public/reports/queries/searchofvehicleparts?q=items&req=parts",Jp=kc+"/api/public/reports/queries/searchofvehicleparts?q=queries&",Xp={fetchVEHICLEPARTS:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Qp).then((function(t){e.commit("GET_VEHICLEPARTS",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchVEHICLETYPE:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Wp).then((function(t){e.commit("GET_VEHICLETYPE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},GenerateVEHICLETQUERIES:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(Jp+"part="+t.part+"&type="+t.type).then((function(t){e.commit("GET_VEHICLETQUERIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Zp=Xp,eh={vehicleparts_data:[],vehicletypes_data:[],vehiclequeries_data:[]},th={PARTS:function(e){return e.vehicleparts_data},TYPES:function(e){return e.vehicletypes_data},QUERIES:function(e){return e.vehiclequeries_data}},ah={GET_VEHICLEPARTS:function(e,t){e.vehicleparts_data=t},GET_VEHICLETYPE:function(e,t){e.vehicletypes_data=t},GET_VEHICLETQUERIES:function(e,t){e.vehiclequeries_data=t}},rh={namespaced:!0,state:eh,getters:th,mutations:ah,actions:Zp},ih=kc+"/api/seriesname/fetch?q=sapprogtbl",nh=kc+"/api/public/reports/queries/summaryofcustomerdepositapplied?q=queries",oh={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(ih).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.get(nh+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},sh=oh,ch={query_data:[],segment_data:[]},lh={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},dh={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},uh={namespaced:!0,state:ch,getters:lh,mutations:dh,actions:sh},mh=kc+"/api/expressway/monitoring/index",vh=kc+"/api/expressway/upload/index",ph=kc+"/api/expressway/monitoring/bin",hh=kc+"/api/expressway/monitoring/drivers",fh=kc+"/api/expressway/monitoring/new",_h={monitoring:function(e,t){return me.a.get(mh,t).then((function(e){return e})).catch((function(e){alert("Error")}))},drivers:function(e,t){return me.a.get(hh,t).then((function(e){return e})).catch((function(e){alert("Error")}))},newruf:function(e,t){return me.a.post(fh,t).then((function(e){return e.data})).catch((function(e){throw console.error("Error in secondary request:",e),e}))},upload:function(e,t){var a=new FormData;return a.append("pdfFile",t),me.a.post("https://expressways.onrender.com/api/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data[0]["all"][0]?me.a.post(vh,e.data).then((function(e){return e.data})).catch((function(e){throw console.error("Error in secondary request:",e),e})):2})).catch((function(e){throw console.error("Error uploading file:",e),e}))},trash:function(e,t){return me.a.get(ph+"?id="+t).then((function(e){return e})).catch((function(e){}))}},gh=_h,bh={},xh={},yh={},kh={namespaced:!0,state:bh,getters:xh,mutations:yh,actions:gh},Th=kc+"/api/inventory/grpo/download",Sh={download:function(e,t){return me.a.post(Th,{data:t},{responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data]));return t}))}},Dh=Sh,Eh={},Ch={},Ah={},Ih={namespaced:!0,state:Eh,getters:Ch,mutations:Ah,actions:Dh},wh=kc+"/api/date",Rh=kc+"/api/connections",Oh=kc+"/api/connections/update",Ph=kc+"/api/settings/database",Vh=xe();r["default"].use(l["a"]);var Nh=new l["a"].Store({modules:{user:Ic,employment:$c,branch:Gc,bsched:Qc,region:rl,division:dl,department:_l,position:Sl,role:Rl,perm:ql,productItem:Hl,productBrand:Xl,productCategory:nd,serviceType:md,serviceCategory:bd,serviceProvider:Ed,computerwareTicket:Pd,connectivityTicket:Md,powerInterruption:zd,pendingTran:eu,userPermissions:Pu,archived:mu,agencies:Du,blacklisted:ju,digitized:rm,creditstanding:um,incomingpayment:bm,recon:Im,dunning:qm,raffledraw:mv,Authgiftcode:bv,validation_template:Hm,validation_good_receipt_serial:Xm,validation_bp_master_ar_invoice_cardcode:nv,revolving_fund_list:Rv,revolving_fund_avail_on_hand_reports:qv,paymentCRB:Yv,adjustment_sales_discount:ep,ar_invoice_open_balance:cp,incoming_payment_customer_deposit:fp,incoming_payment_open_balance:Sp,invoice_query_series_revised:Op,marketing_ar_invoice:Mp,recomputed_account:Kp,searching_of_vehicles_parts:rh,summary_of_customer_depostiapplied:uh,motorpool_expressway:kh,printgrpobarcode:Ih},state:{serverdate:[],connections:[],database_data:[],windowSize:{width:0,height:0},drawer:!0,loading:!0,loading2:!0,dialog:!1,dialog2:!1,snackbar:!1,snackbarText:"",snackbarTimeout:0,goDark:!1,currentUser:Vh,isLoggedIn:!!Vh,auth_error:null},getters:{serverDate:function(e){return e.serverdate},mssqlCons:function(e){return e.connections},isLoggedIn:function(e){return e.isLoggedIn},currentUser:function(e){return e.currentUser},authError:function(e){return e.auth_error},goDark:function(e){return e.goDark},getDBLIST:function(e){return e.database_data}},mutations:{SET_DATE:function(e,t){e.serverdate=t,console.log(e.serverdate)},SET_DBLIST:function(e,t){e.database_data=t},SET_DBCONNECTIONS:function(e,t){e.connections=t},WINDOW_SIZE:function(e){e.windowSize.width=window.innerWidth,e.windowSize.height=window.innerHeight},DRAWER_STATUS:function(e,t){e.drawer=t},LOADING_STATUS:function(e,t){e.loading=t},LOADING_STATUS2:function(e,t){e.loading2=t},DIALOG_STATUS:function(e,t){e.dialog=t},SNACKBAR_STATUS:function(e,t){e.loading=!1,e.snackbar=t[0].status,e.snackbarText=t[0].message,e.snackbarTimeout=t[0].timeout,setTimeout((function(){e.snackbar=!1}),t[0].timeout)},login:function(e){e.loading=!0,e.auth_error=null},loginSuccess:function(e,t){e.auth_error=null,e.isLoggedIn=!0,e.loading=!1,e.currentUser=Object.assign({},t.user,{token:t.access_token}),localStorage.setItem("user",JSON.stringify(e.currentUser))},logout:function(e){localStorage.removeItem("user"),e.isLoggedIn=!1,e.currentUser=null,e.loading=!1}},actions:{triggerDialog:function(e,t){e.commit("DIALOG_STATUS",t)},login:function(e){e.commit("login")},fetchDate:function(e){me.a.get(wh).then((function(t){e.commit("SET_DATE",t.data)}))},fetchDatabase:function(e){me.a.get(Rh).then((function(t){e.commit("SET_DBCONNECTIONS",t.data)}))},updateDB:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),me.a.post(Oh,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0});var a=new URL(window.location.pathname,window.location.origin);window.location.href=a.toString()}))},fetchDBAll:function(e,t){me.a.post(Ph+"/fetch",t).then((function(t){e.commit("SET_DBLIST",t.data)}))},createDBcon:function(e,t){return me.a.post(Ph+"/create",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))},deleteDBcon:function(e,t){return me.a.post(Ph+"/delete",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))},updateDBcon:function(e,t){return me.a.post(Ph+"/update",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))}}}),$h=a("f309"),Uh=a("83df"),qh=a("5607"),Lh=(a("8128"),a("5363"),a("d1e78"),!1);me.a.get("http://192.168.1.19:8009/api/change/background").then((function(e){Lh=!0})),r["default"].use($h["a"],{directives:{Ripple:qh["a"]}}),r["default"].use(Uh["a"],{context:{vuetify:Mh}});var Mh=new $h["a"]({theme:{dark:Lh}});console.log(Lh);var Bh=Mh,Fh=a("574d"),Gh=a.n(Fh),jh=a("7898"),Hh=a.n(jh),Yh=(a("04f2"),a("5132")),zh=a.n(Yh),Kh=a("8055"),Wh=a.n(Kh),Qh=a("f5af"),Jh=a.n(Qh),Xh=(a("e829"),a("f617")),Zh=(a("dac4"),a("f9d5")),ef=a.n(Zh),tf=(a("4413"),a("7d8d"));r["default"].prototype.$URLs=ge,r["default"].use(Xh["a"]),r["default"].use(ef.a),r["default"].use(tf["a"]),Jh.a.init();var af=Wh()("https://socket2.appletronics.com.ph:86");r["default"].use(new zh.a({debug:!1,connection:af}));var rf=a("c986").default;r["default"].use(rf),r["default"].use(Gh.a,{}),r["default"].use(Hh.a),r["default"].config.productionTip=!1,r["default"].prototype.$http=me.a,r["default"].prototype.moment=qn.a,ve(Nh,xc),new r["default"]({router:xc,store:Nh,vuetify:Bh,render:function(e){return e(ne)}}).$mount("#app")},"5d1f":function(e,t,a){"use strict";var r=a("4f5f"),i=a.n(r);i.a},"5d71":function(e,t,a){"use strict";var r=a("4ff0"),i=a.n(r);i.a},6033:function(e,t,a){},"656a":function(e,t,a){"use strict";var r=a("97a1"),i=a.n(r);i.a},"6ccc":function(e,t,a){"use strict";var r=a("2c32"),i=a.n(r);i.a},"707c":function(e,t,a){},"747f":function(e,t,a){"use strict";var r=a("922d"),i=a.n(r);i.a},"788d":function(e,t,a){"use strict";var r=a("b414"),i=a.n(r);i.a},"857c":function(e,t,a){},"922d":function(e,t,a){},"97a1":function(e,t,a){},"98b8":function(e,t,a){"use strict";var r=a("707c"),i=a.n(r);i.a},"9ea0":function(e,t,a){},"9fd0":function(e,t,a){"use strict";var r=a("857c"),i=a.n(r);i.a},aac1:function(e,t,a){"use strict";var r=a("dfbd"),i=a.n(r);i.a},abe6:function(e,t,a){},ac0a:function(e,t,a){"use strict";var r=a("9ea0"),i=a.n(r);i.a},b414:function(e,t,a){},b7a3:function(e,t,a){"use strict";var r=a("c5fc"),i=a.n(r);i.a},c5fc:function(e,t,a){},d5ea:function(e,t,a){"use strict";var r=a("ed09"),i=a.n(r);i.a},da2e:function(e,t,a){"use strict";var r=a("f8ab"),i=a.n(r);i.a},dfbd:function(e,t,a){},e143:function(e,t,a){"use strict";var r=a("3dfb"),i=a.n(r);i.a},e7cb:function(e,t,a){"use strict";var r=a("2a70"),i=a.n(r);i.a},ed09:function(e,t,a){},f0e2:function(e,t,a){},f8ab:function(e,t,a){}});
//# sourceMappingURL=app.2da64d19.js.map